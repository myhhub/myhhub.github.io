<!DOCTYPE HTML>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <meta name="theme-version" content="1.2.3">
    <meta name="root" content="/">
    <link rel="dns-prefetch" href="https://www.ljjyy.com">
    <!--SEO-->

    <meta name="keywords" content="知识图谱,silk">


    <meta name="description" content="一. 简介silk 是一个集成异构数据源的开源框架。编程语言为Python。其特点为：

提供了专门的 Silk-LSL 语言来进行具体处理。
提供图形化用户界面- Silk Workbench...">



<meta name="robots" content="all">
<meta name="google" content="all">
<meta name="googlebot" content="all">
<meta name="verify" content="all">

    <!--Title-->


<title>从零开始学习知识图谱 之 十二.百科知识图谱构建 6.基于Silk知识融合 | 来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟</title>


    <link rel="alternate" href="/atom.xml" title="来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟" type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    



<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    
	<div class="hide">
        <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
        <script>LA.init({id: "JgbNOaw1xxsmUUsQ",ck: "JgbNOaw1xxsmUUsQ"})</script>
	</div>






    
    <meta name="baidu-site-verification" content="dTHILoORpx">


    <script>
        (function(){
            var bp = document.createElement('script');
            var curProtocol = window.location.protocol.split(':')[0];
            if (curProtocol === 'https') {
                bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
            }
            else {
                bp.src = 'http://push.zhanzhang.baidu.com/push.js';
            }
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(bp, s);
        })();
    </script>

</head>

</html>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header"  >
    <div class="main-header-box">
        <!--a class="header-avatar" href="/" title='Ljjyy.com'>
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a-->
        <div class="branding">
            
                <h2> 多读书多实践，勤思考善领悟 </h2>
            
    	  </div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">

        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="web-logo"  href="/" title='Ljjyy.com'></a>
                    <!--a class="navbar-brand" href="https://www.ljjyy.com">来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟</a-->
                </div>
                <div class="collapse navbar-collapse" id="main-menu" style="">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>首页</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/cloud/"><i class="fa "></i>云计算</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/front/"><i class="fa "></i>前端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/back/"><i class="fa "></i>后端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/devops/"><i class="fa "></i>运维</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/crack/"><i class="fa "></i>破解</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/penetration/"><i class="fa "></i>渗透</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/tool/"><i class="fa "></i>工具</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/other/"><i class="fa "></i>其他</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="从零开始学习知识图谱 之 十二.百科知识图谱构建 6.基于Silk知识融合">
            
	            从零开始学习知识图谱 之 十二.百科知识图谱构建 6.基于Silk知识融合
            
        </h1>
        <div class="post-meta">
    
        <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
            <a class="category-link" href="/categories/cloud/">云计算</a>
        </span>
    

    
        <span class="fa-wrap">
            <i class="fa fa-tags"></i>
            <span class="tags-meta">
                
                    <a class="tag-link" href="/tags/silk/">silk</a> <a class="tag-link" href="/tags/knowledgegraph/">知识图谱</a>
                
            </span>
        </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2019/10/29</span>
        </span>
        
    
</div>
            
            
            <p class="fa fa-exclamation-triangle warning">
                本文于<strong>1421</strong>天之前发表，文中内容可能已经过时。
            </p>
        
    </div>
    
    <div class="post-body post-content">
        <h1 id="一-简介"><a href="#一-简介" class="headerlink" title="一. 简介"></a>一. 简介</h1><p><a href="https://github.com/silk-framework/silk" target="_blank" rel="noopener">silk</a> 是一个集成异构数据源的开源框架。编程语言为Python。其特点为：</p>
<ul>
<li>提供了专门的 Silk-LSL 语言来进行具体处理。</li>
<li>提供图形化用户界面- Silk Workbench，用户可以很方便的进行记录链接。</li>
</ul>
<p>Silk 的整体框架如下：</p>
<p>知识库-》预匹配-》链接-》过滤-》输出</p>
<p>包含以下几大块：</p>
<ul>
<li>预处理：会将索引的结果排名前N的记录下来进行作为候选对，进行下一步更精准的匹配(损失精度)。</li>
<li>相似度计算：里面包含了很多相似度计算的方法。</li>
<li>过滤： 过滤掉相似度小于给定阈值的记录对。</li>
</ul>
<p>本教程的项目代码放在github上，下载地址为<a href="https://github.com/myhhub/zero_knowledge_graph" target="_blank" rel="noopener">《从零开始学习知识图谱》项目源代码</a> 。</p>
<h1 id="二-环境准备"><a href="#二-环境准备" class="headerlink" title="二. 环境准备"></a>二. 环境准备</h1><h2 id="1-操作系统"><a href="#1-操作系统" class="headerlink" title="1. 操作系统"></a>1. 操作系统</h2><p>支持操作系统：windows、macOS、Linux。为了方便大家搭建开发环境，笔者尽可能在windows下构建，系列篇未特意说明时操作系统都是<strong>windows</strong>。Linux安装可以参考<a href="100590.html">VirtualBox虚拟机安装Ubuntu</a>或<a href="100589.html">VirtualBox虚拟机安装CentOS8</a>进行安装。</p>
<p><strong>笔者建议在docker下安装silk</strong>，参考<a href="100590.html">VirtualBox虚拟机安装Ubuntu</a>，其中有安装docker。</p>
<p>在docker下，只须一条命令： <code>docker run -d --name silk-workbench -p 80:80 silkframework/silk-workbench:latest</code> ，就能完成silk镜像拉取及运行，<strong>不需要进行下面的软件安装</strong>。</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">root<span class="meta">@ubuntu</span>-<span class="string">mmm:</span><span class="regexp">/usr/</span>local<span class="regexp">/silk# docker run -d --name silk-workbench -p 80:80 silkframework/</span>silk-<span class="string">workbench:</span>latest</span><br><span class="line"></span><br><span class="line">Unable to find image <span class="string">'silkframework/silk-workbench:latest'</span> locally</span><br><span class="line"><span class="string">latest:</span> Pulling from silkframework/silk-workbench</span><br><span class="line"><span class="string">c73ab1c6897b:</span> Pull complete </span><br><span class="line"><span class="number">1</span><span class="string">ab373b3deae:</span> Pull complete </span><br><span class="line"><span class="string">b542772b4177:</span> Pull complete </span><br><span class="line"><span class="number">0</span><span class="string">bcc3741ab14:</span> Pull complete </span><br><span class="line"><span class="number">421</span><span class="string">d624d778d:</span> Pull complete </span><br><span class="line"><span class="number">26</span><span class="string">ad58237506:</span> Pull complete </span><br><span class="line"><span class="number">90</span><span class="string">a5e00634c6:</span> Pull complete </span><br><span class="line"><span class="number">8</span><span class="string">baa304f616f:</span> Pull complete </span><br><span class="line"><span class="number">122</span><span class="string">a7ed388f3:</span> Pull complete </span><br><span class="line"><span class="number">306612249</span><span class="string">d31:</span> Pull complete </span><br><span class="line"><span class="string">Digest:</span> <span class="string">sha256:</span>e5418085c412ad6b09004f0620f535c547d47b7dff5bfb10bfc9105139cc7c5f</span><br><span class="line"><span class="string">Status:</span> Downloaded newer image <span class="keyword">for</span> silkframework/silk-<span class="string">workbench:</span>latest</span><br><span class="line"><span class="number">53</span>de55324646c5078276f8184bb14d4ba843bb8481e739699c865f67f2e3f8cd</span><br></pre></td></tr></table></figure>
<h2 id="2-jdk"><a href="#2-jdk" class="headerlink" title="2. jdk"></a>2. jdk</h2><p>安装参见<a href="100604.html">windows系统安装JDK</a></p>
<h2 id="3-Simple-Build-Tool-sbt"><a href="#3-Simple-Build-Tool-sbt" class="headerlink" title="3. Simple Build Tool(sbt)"></a>3. Simple Build Tool(sbt)</h2><p><strong>silk无需下载和安装sbt，因为silk自带有sbt。可以跳过此步。 </strong></p>
<p>SBT是SCALA 平台上标准的项目构建工具，当然你要用它来构建其他语言的项目也是可以的。SBT 没有Maven那么多概念和条条框框，但又比IVY要更加灵活，可以认为是一个精简版的Maven吧。</p>
<p>1）下载</p>
<p>下载页面　<a href="https://www.scala-sbt.org/download.html，下载Windows版的" target="_blank" rel="noopener">https://www.scala-sbt.org/download.html，下载Windows版的</a> sbt-x.x.x.msi安装包。</p>
<p>2）安装 </p>
<p>直接下一步下一步，安装，然后默认会添加到系统的环境变量中，如果没有自己可以添加。</p>
<p>3)  修改配置文件</p>
<p>a. 在sbt的安装目录中有一个conf目录，然后打开sbtconfig.txt，在文件末尾添加： </p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-Dsbt<span class="selector-class">.boot</span><span class="selector-class">.directory</span>=C:/my/sbt/data/.sbt/boot</span><br><span class="line">-Dsbt<span class="selector-class">.global</span><span class="selector-class">.base</span>==C:/my/sbt/data/.sbt</span><br><span class="line">-Dsbt<span class="selector-class">.ivy</span><span class="selector-class">.home</span>==C:/my/sbt/data/.ivy2</span><br><span class="line">-Dsbt<span class="selector-class">.repository</span><span class="selector-class">.config</span>=C:/my/sbt/conf/repo.properties</span><br><span class="line">-Dsbt<span class="selector-class">.repository</span><span class="selector-class">.secure</span>=false</span><br></pre></td></tr></table></figure>
<p>b. 然后在conf目录新建一个repo.properties文件，文件内容如下： </p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[repositories]</span><br><span class="line">  local</span><br><span class="line">  aliyun: http://maven.aliyun.com/nexus/content/groups/public/</span><br><span class="line">  typesafe: http://repo.typesafe.com/typesafe/ivy-releases/, [<span class="string">organization</span>]/[<span class="string">module</span>]/(scala<span class="emphasis">_[scalaVersion]/)(sbt_</span>[<span class="string">sbtVersion</span>]/)[<span class="string">revision</span>]/[<span class="string">type</span>]s/[<span class="string">artifact</span>](<span class="link">-[classifier]</span>).[ext], bootOnly</span><br><span class="line">  sonatype-oss-releases</span><br><span class="line">  maven-central</span><br><span class="line">  sonatype-oss-snapshots</span><br></pre></td></tr></table></figure>
<p>4)  验证sbt</p>
<p>在dos窗口直接执行sbt即可， 如果在项目中可以执行：sbt run -Dsbt.override.build.repos=true命令使sbt运行的快一点 。</p>
<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:<span class="symbol">\U</span>sers<span class="symbol">\m</span>mm&gt;sbt</span><br></pre></td></tr></table></figure>
<h2 id="4-Node-js"><a href="#4-Node-js" class="headerlink" title="4. Node.js"></a>4. Node.js</h2><p><a href="https://nodejs.org/" target="_blank" rel="noopener"> Node.js®</a> 是一个基于 <a href="https://developers.google.com/v8/" target="_blank" rel="noopener">Chrome V8 引擎</a>的 JavaScript 运行时。 Node.js 使用高效、轻量级的事件驱动、非阻塞 I/O 模型。它的包生态系统，<a href="https://www.npmjs.com/" target="_blank" rel="noopener">npm</a>，是目前世界上最大的开源库生态系统。 </p>
<p>1）下载</p>
<p>官方地址：<a href="https://nodejs.org/en/" target="_blank" rel="noopener">https://nodejs.org/en/</a> 或 <a href="https://nodejs.org/zh-cn/" target="_blank" rel="noopener">https://nodejs.org/zh-cn/</a> ，下载Windows版本。</p>
<p>2）安装 </p>
<p>直接下一步下一步，安装。</p>
<p>3）安装完成查看<br>a、node -v 查看 node 版本<br>b、npm -v 查看 npm 版本</p>
<h2 id="5-Yarn"><a href="#5-Yarn" class="headerlink" title="5. Yarn"></a>5. Yarn</h2><p>yarn是由Facebook、Google、Exponent 和 Tilde 联合推出了一个新的 JS 包管理工具 ，正如官方文档中写的，Yarn 是为了弥补 npm 的一些缺陷而出现的。</p>
<p>1）安装 </p>
<p> <strong>使用npm安装</strong> ,命令<code>npm i yarn -g</code></p>
<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">C:<span class="symbol">\U</span>sers<span class="symbol">\m</span>mm&gt;npm i yarn -g</span><br><span class="line"></span><br><span class="line">C:<span class="symbol">\U</span>sers<span class="symbol">\m</span>mm<span class="symbol">\A</span>ppData<span class="symbol">\R</span>oaming<span class="symbol">\n</span>pm<span class="symbol">\y</span>arnpkg -&gt; C:<span class="symbol">\U</span>sers<span class="symbol">\m</span>mm<span class="symbol">\A</span>ppData<span class="symbol">\R</span>oaming<span class="symbol">\n</span>pm<span class="symbol">\n</span>ode_modules<span class="symbol">\y</span>arn<span class="symbol">\b</span>in<span class="symbol">\y</span>arn.js</span><br><span class="line">C:<span class="symbol">\U</span>sers<span class="symbol">\m</span>mm<span class="symbol">\A</span>ppData<span class="symbol">\R</span>oaming<span class="symbol">\n</span>pm<span class="symbol">\y</span>arn -&gt; C:<span class="symbol">\U</span>sers<span class="symbol">\m</span>mm<span class="symbol">\A</span>ppData<span class="symbol">\R</span>oaming<span class="symbol">\n</span>pm<span class="symbol">\n</span>ode_modules<span class="symbol">\y</span>arn<span class="symbol">\b</span>in<span class="symbol">\y</span>arn.js</span><br><span class="line">+ yarn@1.19.1</span><br><span class="line">added 1 package in 2.769s</span><br></pre></td></tr></table></figure>
<p><code>yarn –version</code>命令查看是否安装成功。 </p>
<p>2） 卸载yarn</p>
<p>通过命令<code>npm uninstall yarn -g</code>卸载</p>
<p>3） 常用命令</p>
<p>​      yarn / yarn install 等同于npm install 批量安装依赖<br>​      yarn add xxx 等同于 npm install xxx —save 安装指定包到指定位置<br>​      yarn remove xxx 等同于 npm uninstall xxx —save 卸载指定包<br>​      yarn add xxx —dev 等同于 npm install xxx —save-dev<br>​      yarn upgrade 等同于 npm update 升级全部包<br>​      yarn global add xxx 等同于 npm install xxx -g 全局安装指定包</p>
<h2 id="6-Silk"><a href="#6-Silk" class="headerlink" title="6. Silk"></a>6. Silk</h2><p>Silk是一个用于集成异构数据源的开源框架。</p>
<p>安装首页条件：JDK 8、 <a href="http://www.scala-sbt.org/" target="_blank" rel="noopener">Simple Build Tool</a> (sbt)、<a href="https://yarnpkg.com/" target="_blank" rel="noopener">Yarn</a> for React/JavaScript build pipeline (&gt;= 1.3)</p>
<p>1）下载</p>
<p>下载页面：   <a href="https://github.com/silk-framework/silk" target="_blank" rel="noopener">https://github.com/silk-framework/silk</a> ，下载 <a href="https://codeload.github.com/silk-framework/silk/zip/develop" target="_blank" rel="noopener">https://codeload.github.com/silk-framework/silk/zip/develop</a> 文件。</p>
<p>2）解压</p>
<p>解压后，放在合适的位置，笔者放在C:\my\silk。</p>
<p>3）运行 Silk Workbench</p>
<p>在silk目录下运行 <code>sbt &quot;project workbench&quot; run</code>命令，然后程序会开始编译，这一步会比较慢，等提示Server started 后，就可以在浏览器端打开 <a href="http://localhost:9000" target="_blank" rel="noopener">http://localhost:9000</a> 进行访问了。<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">C</span>:\my\silk&gt;sbt <span class="string">"project workbench"</span> run</span><br><span class="line"></span><br><span class="line">Getting org.fusesource.jansi jansi <span class="number">1.11</span>  (this may take some time)...</span><br><span class="line">:: <span class="attribute">retrieving </span>:: org.scala-sbt#boot-jansi</span><br><span class="line">        <span class="attribute">confs</span>: [default]</span><br><span class="line">        <span class="number">1</span> artifacts copied, <span class="number">0</span> already retrieved (<span class="number">111</span>kB/<span class="number">18ms</span>)</span><br><span class="line">Getting org.scala-sbt sbt <span class="number">0.13</span>.<span class="number">18</span>  (this may take some time)...</span><br><span class="line">downloading <span class="attribute">https</span>:<span class="comment">//repo.typesafe.com/typesafe/ivy-releases/org.scala-sbt/sbt/0.13.18/jars/sbt.jar ...</span></span><br><span class="line">        [SUCCESSFUL ] org.scala-sbt#sbt;<span class="selector-tag">0</span><span class="selector-class">.13</span><span class="selector-class">.18</span>!<span class="selector-tag">sbt</span><span class="selector-class">.jar</span> (<span class="number">13562ms</span>)</span><br><span class="line"><span class="selector-tag">downloading</span> <span class="selector-tag">https</span>:<span class="comment">//repo1.maven.org/maven2/org/scala-lang/scala-library/2.10.7/scala-library-2.10.7.jar ...</span></span><br><span class="line">        <span class="selector-attr">[SUCCESSFUL ]</span> <span class="selector-tag">org</span><span class="selector-class">.scala-lang</span><span class="selector-id">#scala-library</span>;<span class="selector-tag">2</span><span class="selector-class">.10</span><span class="selector-class">.7</span>!<span class="selector-tag">scala-library</span><span class="selector-class">.jar</span> (<span class="number">1392415ms</span>)</span><br><span class="line"><span class="selector-tag">downloading</span> <span class="selector-tag">https</span>:<span class="comment">//repo.typesafe.com/typesafe/ivy-releases/org.scala-sbt/main/0.13.18/jars/main.jar ...</span></span><br><span class="line">        <span class="selector-attr">[SUCCESSFUL ]</span> <span class="selector-tag">org</span><span class="selector-class">.scala-sbt</span><span class="selector-id">#main</span>;<span class="selector-tag">0</span><span class="selector-class">.13</span><span class="selector-class">.18</span>!<span class="selector-tag">main</span><span class="selector-class">.jar</span> (<span class="number">20839ms</span>)</span><br><span class="line"></span><br><span class="line">......</span><br></pre></td></tr></table></figure></p>
<h1 id="三-Silk-的使用说明"><a href="#三-Silk-的使用说明" class="headerlink" title="三. Silk 的使用说明"></a>三. Silk 的使用说明</h1><p>关于 Silk 的详细介绍都在<a href="https://github.com/silk-framework/silk/tree/develop/doc" target="_blank" rel="noopener">官方文档</a>中，感兴趣的可以进行查看。我这里对 Workbench 给出个简短的介绍。</p>
<h2 id="1-Workbench-概览"><a href="#1-Workbench-概览" class="headerlink" title="1. Workbench 概览"></a>1. Workbench 概览</h2><p>  Workbench 引导用户完成创建链接任务的过程，以便链接两个数据源。 它提供以下组件：</p>
<ul>
<li>工作区(workspace) 浏览器：允许用户浏览工作区中的项目。 链接任务可以从项目加载并稍后返回。</li>
<li>链接规则编辑器(Linkage Rule Editor)：一种图形编辑器，使用户可以轻松创建和编辑链接规则。 窗口小部件将在树视图中显示当前链接规范，同时允许使用拖放进行编辑。</li>
<li><p>评估(Evaluation)：允许用户执行当前的链接规则。 在即时生成链接时会显示这些链接。 生成的链接参考链接集未指定其正确性，用户可以确认或拒绝其正确性。 用户可以请求关于如何组成特定链接的相似性得分的详细摘要。</p>
<p>创建新链接任务的典型工作流程包括：</p>
<p><img src="/img/neo4j/silk_linking_workflow.png" alt="img"></p>
<p>1) 在执行实际匹配之前，需要构建一个链接规则，该规则指定如何比较两个实体的等价性。 链接规则可以由人类专家根据要匹配的数据源创建。<br>2) 执行链接规则，产生一组链接。<br>3) 评估步骤的目的是测量实体匹配任务的成功率并在生成的链接中查找潜在的错误。 实体匹配任务的成功可以通过将生成的链接与由一组参考链接组成的金标准进行比较来确定。 一组参考链接包含正参考链接，其标识已知匹配的实体对和负参考链接，其标识已知不匹配的对。 如果没有参考链接，则可以由确认或拒绝许多链接的人类专家生成 gold 标准。</p>
</li>
</ul>
<h2 id="2-链接规则编辑器"><a href="#2-链接规则编辑器" class="headerlink" title="2. 链接规则编辑器"></a>2. 链接规则编辑器</h2><p>  链接规则编辑器允许用户以图形方式编辑链接规则。 通过拖放规则元素将链接规则创建为运算符树。编辑分为两部分：</p>
<ul>
<li>左窗格包含给定数据集和限制的最常用属性路径。 它还包含所有可用运算符转换，比较器和聚合器的列表作为可拖动元素。</li>
<li><p>右侧部分（编辑器窗格）允许通过组合所选元素来绘制流程图。</p>
<p><img src="/img/neo4j/silk_linkageRuleEditor.png" alt="img"></p>
</li>
</ul>
<h2 id="3-编辑"><a href="#3-编辑" class="headerlink" title="3. 编辑"></a>3. 编辑</h2><ul>
<li>将元素从左窗格拖到编辑器窗格。</li>
<li>通过从元素端点和元素端点（元素框左侧和右侧的点）绘制连接来连接元素。</li>
<li><p>通过连接元素来构建流程图，以单个元素（比较或聚合）结束。</p>
<p>编辑器将在绘制新连接线时通过突出显示可连接元素来指导用户构建流程图。</p>
</li>
</ul>
<h2 id="4-属性路径"><a href="#4-属性路径" class="headerlink" title="4. 属性路径"></a>4. 属性路径</h2><p>  要链接的两个数据源的属性路径将加载到左窗格中，并按其频率在数据源中的顺序添加。 用户还可以通过将（自定义路径）元素拖到编辑器窗格并编辑路径来添加自定义路径。</p>
<h2 id="5-操作符"><a href="#5-操作符" class="headerlink" title="5. 操作符"></a>5. 操作符</h2><p>  以下运算符窗格显示在属性路径下方：</p>
<ul>
<li>Transformations</li>
<li>Comparisons</li>
<li><p>Aggregations</p>
<p>将鼠标悬停在操作元素上将显示有关它们的更多信息。</p>
</li>
</ul>
<h2 id="6-参考链接"><a href="#6-参考链接" class="headerlink" title="6. 参考链接"></a>6. 参考链接</h2><p>  参考链接（在记录链接中通常称为 gold 集）是一组链接，其正确性已被用户确认或拒绝。 参考链接可用于评估链接规则的完整性和正确性。</p>
<p>  我们区分正面和负面的参考链接：</p>
<ul>
<li>正参考链接代表最终匹配</li>
<li>负参考链接代表确定的不匹配。</li>
</ul>
<h1 id="四-Silk-实战"><a href="#四-Silk-实战" class="headerlink" title="四. Silk 实战"></a>四. Silk 实战</h1><p>  这里我采用两种格式数据分别进行融合：</p>
<ul>
<li>N-triples 文件</li>
<li>SPARQL 端口</li>
</ul>
<h2 id="1-基于-N-triples-文件"><a href="#1-基于-N-triples-文件" class="headerlink" title="1. 基于 N-triples 文件"></a>1. 基于 N-triples 文件</h2><p>  N-triples 文件就是我们在 d2rq 那步得到的 .nt 文件。不支持上传大的 N-triples 文件，否则会报错（Request Entity Too Large），因此这里实验只用几兆的 nt 文件，包含 1000 个三元组。 <a href="https://pan.baidu.com/s/1aPqvFHOjCs1T7eeN3gqN7A" target="_blank" rel="noopener">三元组文件下载</a></p>
<h3 id="1-项目的建立"><a href="#1-项目的建立" class="headerlink" title="1) 项目的建立"></a>1) 项目的建立</h3><p>  在开启 silk 服务后，在浏览器端打开 <a href="http://localhost:9000" target="_blank" rel="noopener">http://localhost:9000</a> ，进入workspace 页面。点击 NEW project 按钮创建新项目，输入项目名字，如baike_merge。可以看到新项目包含 Datasets、Transform Tasks、Linking Tasks、Workflows、Others几项。</p>
<h3 id="2-添加Prefixes"><a href="#2-添加Prefixes" class="headerlink" title="2) 添加Prefixes"></a>2) 添加Prefixes</h3><p>点击项目名称后面的 Prefixes 按钮，设置 Prefixe：</p>
<ul>
<li>点击加号按钮，分别添加下面两项<ul>
<li>hudong: <a href="http://www.kghudong.com#" target="_blank" rel="noopener">http://www.kghudong.com#</a></li>
<li>baidu: <a href="http://www.kgbaidu.com#" target="_blank" rel="noopener">http://www.kgbaidu.com#</a></li>
</ul>
</li>
</ul>
<h3 id="3-创建Resource"><a href="#3-创建Resource" class="headerlink" title="3) 创建Resource"></a>3) 创建Resource</h3><p>点击项目名称后的 Resource 按钮，在这里我们可以添加或删除项目所使用的数据源。先上传输入资源（UPLOAD LOCAL），将两个 .nt 文件都传上去，然后创建新输出资源（DEFINE OUTPUT），在Name栏中填写想输出数据文件的名字，如baike_merge.nt，点击CREATE 完成文件的创建。</p>
<h3 id="4-创建数据集（Datasets）"><a href="#4-创建数据集（Datasets）" class="headerlink" title="4) 创建数据集（Datasets）"></a>4) 创建数据集（Datasets）</h3><p>点击项目名称会展开树，然后点击 Datasets 后的 +Add 按钮，在弹出的框中填写如下信息：</p>
<ul>
<li>选择Resource Type数据类型 ，这里用的是三元组，因此选择 RDF file。</li>
</ul>
<p><strong>依次创建3次:</strong></p>
<ul>
<li><p>填写Name，如果file是baidu_test.nt 填写 baidu_test，hudong_test.nt 填写 hudong_test，baike_merge.nt填写output。</p>
</li>
<li><p>file ，选择对应的 nt 文件。</p>
</li>
<li><p>format 这里填写 N-Triples</p>
</li>
<li><p>点击  SAVE 。</p>
<p><strong>然后进行下一个创建</strong></p>
</li>
</ul>
<p>现在应该有三个数据集baidu_test、hudong_test、output。</p>
<h3 id="5-建立-Linking-Tasks"><a href="#5-建立-Linking-Tasks" class="headerlink" title="5) 建立 Linking Tasks"></a>5) 建立 Linking Tasks</h3><p>点击 Linking Tasks 后的Add按钮，建立链接任务。在弹出的框中，填写如下信息：</p>
<ul>
<li>在 Name 那里填入任务名称，如 baike_test</li>
<li>Source Dataset 那里选择 baidu_test</li>
<li>Target Dataset 那里选择 hudong_test</li>
<li>output 那里填入 output</li>
<li>点击 OK 完成创建</li>
</ul>
<h3 id="6-编辑链接规则"><a href="#6-编辑链接规则" class="headerlink" title="6) 编辑链接规则"></a>6) 编辑链接规则</h3><p>  点击Linking Tasks会展开子树，点击 baike_test 后的 Open 按钮进入 链接编辑界面。可以看到整个界面被分成两部分，左侧包含一系列的属性路径，右侧是编辑器窗格，允许我们来对属性路径进行组合。</p>
<p>首先在Source Path 里找到 baidu:lemmas_title 这行（由于列表框太小，建议通过搜索框查找，下同），将它拖拽到右侧窗格中，在Target path 里找到 hudong:lemmas_title 这行，也拖拽到右侧窗格中。将两个上下放置，像这样</p>
<p>  <img src="/img/neo4j/silk_editor_0.png" alt="img"></p>
<p>  我们可以看到，接下来我们将 title 里面的字母全部转换为小写来统一格式。因此我们去左侧窗格的 Transformations 里找到 Lower case 这行，拽出来，放到 baidu:lemmas_title 和 hudong:lemmas_title 后面。现在整体长这样</p>
<p>  <img src="/img/neo4j/silk_editor_1.png" alt="img"></p>
<p>  可以看到现在有四个框框，每个后面都有一个蓝色的圆点。点击 baidu:lemmas_title 后的圆点，拖拽鼠标将看到一个箭头，移动鼠标到 lower case 前面的圆点上则建立一个链接。hudong 那个也这么做，现在变成这样</p>
<p>  <img src="/img/neo4j/silk_editor_2.png" alt="img"></p>
<p>  格式统一之后，我们采用 Levenshtein 距离来判断两个title 是不是相似的。因此去左侧窗格中的 Comparators 中找到 Levenshtein distance 这行，拖拽出来到右侧，并建立它与两个 lowerCase 框间的链接。</p>
<p>  <img src="/img/neo4j/silk_editor_3.png" alt="img"></p>
<p>  现在一个简单的链接规则就建立完毕了。</p>
<h3 id="7-生成链接（GENERATE-LINKS）"><a href="#7-生成链接（GENERATE-LINKS）" class="headerlink" title="7)  生成链接（GENERATE LINKS）"></a>7)  生成链接（GENERATE LINKS）</h3><p>点击最上方的 GENERATE LINKS 按钮，进入生成链接界面，在这里你可以判断链接结果是否正确并标记正负例。正负例可以用来计算准确率等一系列信息。</p>
<p>点击页面上方的运行按钮（三角形），可以看到程序正在运行，等程序运行完毕后，将出现以下界面：</p>
<p>  <img src="/img/neo4j/silk_editor_4.png" alt="img"></p>
<p>随意点击一行可以看到链接的详细信息。以第一个为例，可以看到 source 的 标题名称是上海，Target 的也是上海，两个确实是一样的。此时我们可以在 Correct 那列将问好改为对号。若标记结果错误那么就选择×，不确定则保持不动。</p>
<p>标记结束后，进入 REFERENCE LINKS 按钮，就可以看到我们刚刚标记的正例、负例和未标记部分。</p>
<p>  <img src="/img/neo4j/silk_editor_5.png" alt="img"></p>
<h2 id="2-数据格式为-SPARQL-端口"><a href="#2-数据格式为-SPARQL-端口" class="headerlink" title="2. 数据格式为 SPARQL 端口"></a>2. 数据格式为 SPARQL 端口</h2><p>前面说过对于 NT 格式，silk支持的数据很小，所以对于规模大一些的只能采用 SPARQL Endpoint 的形式。<br>和前面的主要区别是：</p>
<ul>
<li>Resource 那里不要添加<strong>输入</strong>.nt 文件</li>
<li>创建dataset 时：<ul>
<li>Resource Type 选择 SPARQL endpoint(remote)</li>
<li>SPARQL 访问Fuseki作为服务器，endpoint URI 依次填写 <a href="http://localhost:3030/kg_demo_hudong/sparql" target="_blank" rel="noopener">http://localhost:3030/kg_demo_hudong/sparql</a> 、  <a href="http://localhost:3030/kg_demo_baidu/sparql" target="_blank" rel="noopener">http://localhost:3030/kg_demo_baidu/sparql</a> ，其中 kg_demo_hudong、kg_demo_baidu 是 Fuseki 服务器中数据库的名称。关于 Fuseki 的使用请见上一篇教程<a href="100601.html">Jena使用简单SPARQL查询</a></li>
</ul>
</li>
</ul>
<p>创建好数据集后，其他的和之前的都一样。</p>

    </div>
    
    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="/" target="_blank">Ljjyy.com</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/archives/2019/10/100603.html" class="pre-post btn btn-default" title='从零开始学习知识图谱 之 十三.百科知识图谱构建 7.基于Silk批量知识融合'>
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs">从零开始学习知识图谱 之 十三.百科知识图谱构建 7.基于Silk批量知识融合</span>
        </a>
    
    
        <a href="/archives/2019/10/100601.html" class="next-post btn btn-default" title='从零开始学习知识图谱 之 十一.百科知识图谱构建 5.Jena使用及SPARQL查询'>
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs">从零开始学习知识图谱 之 十一.百科知识图谱构建 5.Jena使用及SPARQL查询</span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>


    <div id="comments">
        
	
    <div id="vcomments" class="valine"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="/assets/valine.min.js"></script>

    <script>
        new Valine({
            av: AV,
            el: '#vcomments',
            appId: '5MzTXYXkt03k101j0PmSDN34-gzGzoHsz',
            appKey: 'iwjYgwno6qj3wtDVVSbe8nYQ',
            placeholder: '说点什么吧',
            notify: false,
            verify: true,
            avatar: 'mm',
            meta: 'nick,mail'.split(','),
            pageSize: '10',
            path: window.location.pathname,
            lang: 'zh-CN'.toLowerCase()
        })
    </script>


    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">文章目录</h3>
        
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#一-简介"><span class="toc-text">一. 简介</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#二-环境准备"><span class="toc-text">二. 环境准备</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-操作系统"><span class="toc-text">1. 操作系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-jdk"><span class="toc-text">2. jdk</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Simple-Build-Tool-sbt"><span class="toc-text">3. Simple Build Tool(sbt)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Node-js"><span class="toc-text">4. Node.js</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-Yarn"><span class="toc-text">5. Yarn</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-Silk"><span class="toc-text">6. Silk</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#三-Silk-的使用说明"><span class="toc-text">三. Silk 的使用说明</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Workbench-概览"><span class="toc-text">1. Workbench 概览</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-链接规则编辑器"><span class="toc-text">2. 链接规则编辑器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-编辑"><span class="toc-text">3. 编辑</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-属性路径"><span class="toc-text">4. 属性路径</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-操作符"><span class="toc-text">5. 操作符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-参考链接"><span class="toc-text">6. 参考链接</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#四-Silk-实战"><span class="toc-text">四. Silk 实战</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-基于-N-triples-文件"><span class="toc-text">1. 基于 N-triples 文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-项目的建立"><span class="toc-text">1) 项目的建立</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-添加Prefixes"><span class="toc-text">2) 添加Prefixes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-创建Resource"><span class="toc-text">3) 创建Resource</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-创建数据集（Datasets）"><span class="toc-text">4) 创建数据集（Datasets）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-建立-Linking-Tasks"><span class="toc-text">5) 建立 Linking Tasks</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-编辑链接规则"><span class="toc-text">6) 编辑链接规则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-生成链接（GENERATE-LINKS）"><span class="toc-text">7)  生成链接（GENERATE LINKS）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-数据格式为-SPARQL-端口"><span class="toc-text">2. 数据格式为 SPARQL 端口</span></a></li></ol></li></ol>
        
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
</div>

            </div>
            <div class="col-sm-12">
                <span>Copyright &copy; 2019-2023&emsp;<a href="/" class="copyright-links" target="_blank" rel="nofollow">Ljjyy.com</a>
                </span> |
                <span>
                    <a href="/about/" class="copyright-links" target="_blank" rel="nofollow">关于我们</a>
                </span> |                
                <span>
                    <a href="/sitemap.xml" class="copyright-links" target="_blank" rel="nofollow">网站地图</a>
                </span> |
                <span>
                    <a href="/archives/" class="copyright-links" target="_blank" rel="nofollow">时间轴</a>
                </span>              
            </div>
        </div>
    </div>
</div>







<script src="/js/app.js?rev=@@hash"></script>

</body>
</html>
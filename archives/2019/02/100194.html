<!DOCTYPE HTML>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <meta name="theme-version" content="1.2.3">
    <meta name="root" content="/">
    <link rel="dns-prefetch" href="https://www.ljjyy.com">
    <!--SEO-->

    <meta name="keywords" content="web,css">


    <meta name="description" content="前言我们大家都知道HTML和CSS不属于编程语言而是属于标记语言，所以很难像JS一样定义变量、编写方法、实现模块化开发等。而目前的CSS编写模式中，都是定义一些公共的样式类名，哪一块的HTML需...">



<meta name="robots" content="all">
<meta name="google" content="all">
<meta name="googlebot" content="all">
<meta name="verify" content="all">

    <!--Title-->


<title>全面阐析网页CSS LESS | 来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟</title>


    <link rel="alternate" href="/atom.xml" title="来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟" type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    



<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    
	<div class="hide">
        <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
        <script>LA.init({id: "JgbNOaw1xxsmUUsQ",ck: "JgbNOaw1xxsmUUsQ"})</script>
	</div>






    
    <meta name="baidu-site-verification" content="dTHILoORpx">


    <script>
        (function(){
            var bp = document.createElement('script');
            var curProtocol = window.location.protocol.split(':')[0];
            if (curProtocol === 'https') {
                bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
            }
            else {
                bp.src = 'http://push.zhanzhang.baidu.com/push.js';
            }
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(bp, s);
        })();
    </script>

</head>

</html>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header"  >
    <div class="main-header-box">
        <!--a class="header-avatar" href="/" title='Ljjyy.com'>
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a-->
        <div class="branding">
            
                <h2> 多读书多实践，勤思考善领悟 </h2>
            
    	  </div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">

        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="web-logo"  href="/" title='Ljjyy.com'></a>
                    <!--a class="navbar-brand" href="https://www.ljjyy.com">来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟</a-->
                </div>
                <div class="collapse navbar-collapse" id="main-menu" style="">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>首页</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/cloud/"><i class="fa "></i>云计算</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/front/"><i class="fa "></i>前端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/back/"><i class="fa "></i>后端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/devops/"><i class="fa "></i>运维</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/crack/"><i class="fa "></i>破解</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/penetration/"><i class="fa "></i>渗透</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/tool/"><i class="fa "></i>工具</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/other/"><i class="fa "></i>其他</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="全面阐析网页CSS LESS">
            
	            全面阐析网页CSS LESS
            
        </h1>
        <div class="post-meta">
    
        <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
            <a class="category-link" href="/categories/front/">前端</a>
        </span>
    

    
        <span class="fa-wrap">
            <i class="fa fa-tags"></i>
            <span class="tags-meta">
                
                    <a class="tag-link" href="/tags/css/">css</a> <a class="tag-link" href="/tags/web/">web</a>
                
            </span>
        </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2019/02/20</span>
        </span>
        
    
</div>
            
            
            <p class="fa fa-exclamation-triangle warning">
                本文于<strong>1521</strong>天之前发表，文中内容可能已经过时。
            </p>
        
    </div>
    
    <div class="post-body post-content">
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>我们大家都知道HTML和CSS不属于编程语言而是属于标记语言，所以很难像JS一样定义变量、编写方法、实现模块化开发等。而目前的CSS编写模式中，都是定义一些公共的样式类名，哪一块的HTML需要这个样式，就去增加对应的样式类名，所以我们经常看到一个标签上存在很多样式类名，在这种模式中我们要时常关注CSS的优先级，避免样式的重叠覆盖…</p>
<p>为了解决CSS的这一困境，CSS预处理预编译的思想脱颖而出，比较具有代表性的有LESS、SASS、Stylus。它们在传统的CSS基础上增加了大量的新的语法，编写方式，常用的函数等，可以让我们的CSS像JS一样成为一门编程语言。本文主要介绍LESS的语法和使用。</p>
<h2 id="一、LESS的编译"><a href="#一、LESS的编译" class="headerlink" title="一、LESS的编译"></a>一、LESS的编译</h2><p>编写完成的LESS代码是不能直接在浏览器中运行的，需要编译成正常的CSS代码。那么我们首先就来学习一下常用的LESS编译方式。</p>
<h3 id="1-在浏览器中调用LESS-JS"><a href="#1-在浏览器中调用LESS-JS" class="headerlink" title="1.在浏览器中调用LESS.JS"></a>1.在浏览器中调用LESS.JS</h3><p>LESS只支持在现代浏览器中运行（最新版本的Chrome, Firefox, Safari 和 IE）。我们不建议在生产环境中使用LESS客户端，因为在将LESS编译成CSS的时候，用户会看到加载延迟的现象，即便在浏览器中有不足一秒的加载延迟，但也会降低性能。</p>
<p>首先引入我们设置样式的LESS文件，<strong>注意：这里的rel=’stylesheet/less’</strong></p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link <span class="attribute">type</span>=<span class="string">"text/css"</span> <span class="attribute">rel</span>=<span class="string">"stylesheet/less"</span> <span class="attribute">href</span>=<span class="string">"1.less"</span>/&gt;</span><br></pre></td></tr></table></figure>
<p>然后引入less.js文件</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//cdnjs.cloudflare.com/ajax/libs/less.js/3.8.1/less.min.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>浏览器中调用有个好处:可以开启监视模式,只要我们的LESS改变，在一定时间内，浏览器就会重新的编译，我们可以看到想要的效果</strong>。具体操作如下:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript"><span class="comment">//-&gt;在引入LESS之前设置一个全局的变量less,配置一些参数值(根据情况自行选择需要配置的项)</span></span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> less = &#123;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//-&gt;env:设置运行的环境(生产模式还是开发模式)</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">//production:编译后的CSS缓存到本地localStorage中</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">//development:没有把编译后的CSS缓存到本地,在URL不是标准的格式下(例如:file://...),自动设置为development</span></span></span><br><span class="line"><span class="actionscript">    env: <span class="string">"development"</span>,</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//-&gt;poll:在监视模式下，每两次请求之间的时间间隔(ms)</span></span></span><br><span class="line"><span class="undefined">    poll:500</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>     </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//cdnjs.cloudflare.com/ajax/libs/less.js/3.8.1/less.min.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">  <span class="comment">//-&gt;启用监视模式(env必须要设置成development)</span></span></span><br><span class="line"><span class="undefined">  less.watch();</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/fronts/96626733d313037313432.gif" alt="img"></p>
<p><strong>需要特别注意的是，由于浏览器端使用时是使用ajax来拉取.less文件，因此直接在本机文件系统打开（即地址是file://开头）或者是有跨域的情况下会拉取不到.less文件，导致样式无法生效</strong>。所以一般less做css预处理，很少采用引用less的方式，一般是把less编译成css之后，引用生成的css文件。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// index.html文件</span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>less<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet/less"</span> <span class="attr">href</span>=<span class="string">"css/styles.less"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello World!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./less.min.js"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>   </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line">// styles.less文件</span><br><span class="line">@blue:#5B83AD;</span><br><span class="line">@size:50px;</span><br><span class="line">header &#123;</span><br><span class="line">    color: @blue;</span><br><span class="line">    font-size: @size;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果直接引入less文件，便会出现如下错误：</p>
<p><img src="/img/fronts/3d706e6726733d3436353035.png" alt="img"></p>
<p>可以尝试用一个简单的web server启动网站就能解决，譬如lite-server</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> -g lite-<span class="keyword">server</span></span><br><span class="line">lite-<span class="keyword">server</span> //<span class="keyword">to</span> run</span><br></pre></td></tr></table></figure>
<h3 id="2、使用NODE命令编译LESS-单个文件"><a href="#2、使用NODE命令编译LESS-单个文件" class="headerlink" title="2、使用NODE命令编译LESS(单个文件)"></a>2、使用NODE命令编译LESS(单个文件)</h3><p>这种方式是目前项目中最常用的方式，适用于项目的生产环境，它是把我们的LESS文件编译成CSS文件，我们项目中直接的引入CSS文件即可，<strong>基本步骤：安装-&gt;编译/压缩编译-&gt;或者使用NODE代码实现批量编译等</strong></p>
<p>把LESS模块安装到全局NODE环境中</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> <span class="keyword">less</span> -g</span><br></pre></td></tr></table></figure>
<p>使用命令进行编译</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//-&gt;把styles.less文件编译成styles.css文件(如果没有这个CSS文件自己会创建)</span></span><br><span class="line">lessc styles<span class="selector-class">.less</span> styles.css</span><br><span class="line"></span><br><span class="line"><span class="comment">//-&gt;编译完成的CSS文件是经过压缩的</span></span><br><span class="line">lessc styles<span class="selector-class">.less</span> styles<span class="selector-class">.min</span><span class="selector-class">.css</span> -x或者--compress</span><br></pre></td></tr></table></figure>
<p>经过node命令编译代码前后对比:</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// styles.less文件(编译前)</span></span><br><span class="line"><span class="variable">@blue:</span><span class="number">#5B83AD</span>;</span><br><span class="line"><span class="variable">@size:</span><span class="number">50px</span>;</span><br><span class="line"><span class="selector-tag">header</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">@blue</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="variable">@size</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// styles.css文件(编译后)</span></span><br><span class="line"><span class="selector-tag">header</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#5B83AD</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3、在NODE环境中编写批量编译的代码"><a href="#3、在NODE环境中编写批量编译的代码" class="headerlink" title="3、在NODE环境中编写批量编译的代码"></a>3、在NODE环境中编写批量编译的代码</h3><p>我们在上述用NODE命令编译的时候，一次只能编译一个文件，这样，如果页面中有多个LESS，每一次编译都是比较耗费时间的，所以我们结合NODE的FS文件读写操作，可以写一套批量编译的代码。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//-&gt;定义编译文件目录和目标导出目录</span></span><br><span class="line"><span class="keyword">var</span> dirPath = <span class="string">"./less/"</span>, tarPath = <span class="string">"./css/"</span>;</span><br><span class="line"><span class="comment">//-&gt;导入NODE中需要使用的模块</span></span><br><span class="line"><span class="keyword">var</span> fs = <span class="keyword">require</span>(<span class="string">"fs"</span>),</span><br><span class="line">    less = <span class="keyword">require</span>(<span class="string">"less"</span>);</span><br><span class="line"><span class="comment">//-&gt;读取dirPath中的所有文件,检查文件的类型,只有LESS文件我们才进行存储</span></span><br><span class="line"><span class="keyword">var</span> ary = [],</span><br><span class="line">    files = fs.readdirSync(dirPath);</span><br><span class="line">files.<span class="keyword">forEach</span>(<span class="function"><span class="keyword">function</span> <span class="params">(file, index)</span> </span>&#123;</span><br><span class="line">    /\.(LESS)/i.test(file) ? ary.push(file) : <span class="keyword">null</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//-&gt;把目录下的所有文件进行编译,把编译完成的结果保存在指定的目录中</span></span><br><span class="line">ary.<span class="keyword">forEach</span>(<span class="function"><span class="keyword">function</span> <span class="params">(file)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> newFile = file.replace(<span class="string">".less"</span>, <span class="string">".css"</span>),</span><br><span class="line">        conFile = fs.readFileSync(dirPath + file, <span class="string">"utf-8"</span>);</span><br><span class="line">    less.render(conFile, &#123;compress: <span class="keyword">true</span>&#125;, <span class="function"><span class="keyword">function</span> <span class="params">(error, output)</span> </span>&#123;</span><br><span class="line">        fs.writeFileSync(tarPath + newFile, output.css, <span class="string">"utf-8"</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="4、使用工具编译LESS"><a href="#4、使用工具编译LESS" class="headerlink" title="4、使用工具编译LESS"></a>4、使用工具编译LESS</h3><p>目前常用的编译工具有：Koala(据说目前最流行的)、在线编译(<a href="http://tool.oschina.net/less)、SimpLESS等。本篇文章不做过多的说明。" target="_blank" rel="noopener">http://tool.oschina.net/less)、SimpLESS等。本篇文章不做过多的说明。</a></p>
<h2 id="二、LESS的语法"><a href="#二、LESS的语法" class="headerlink" title="二、LESS的语法"></a>二、LESS的语法</h2><p>LESS的基础语法基本上分为以下几个方面：变量、混合(Mixins)、嵌套规则、运算、函数、作用域等。</p>
<h3 id="1-变量"><a href="#1-变量" class="headerlink" title="1.变量"></a>1.变量</h3><p><strong>和JS中的变量一样，只是LESS的变量定义不是使用VAR而是使用@</strong>。</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//-&gt;LESS代码</span></span><br><span class="line">  <span class="variable">@link-color:</span> <span class="number">#428bca</span>;</span><br><span class="line">  <span class="variable">@link-color-hover:</span> darken(<span class="variable">@link-color</span>, <span class="number">10%</span>);</span><br><span class="line">  <span class="selector-tag">a</span> &#123;</span><br><span class="line">      <span class="attribute">color</span>: <span class="variable">@link-color</span>;</span><br><span class="line">      <span class="selector-tag">&amp;</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">          <span class="attribute">color</span>: <span class="variable">@link-color-hover</span>;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">//-&gt;编译为CSS的结果</span></span><br><span class="line">  <span class="selector-tag">a</span> &#123;</span><br><span class="line">      <span class="attribute">color</span>: <span class="number">#428bca</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="attribute">a</span>:hover &#123;</span><br><span class="line">      <span class="attribute">color</span>: <span class="number">#3071a9</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>除了上述用变量存储公用的属性值，我们还可以用变量存储公用的URL、选择器等等</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//-&gt;LESS代码</span></span><br><span class="line"><span class="selector-class">.@&#123;selector&#125;</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">@&#123;property&#125;</span>: <span class="number">#000</span>;</span><br><span class="line">    <span class="attribute">background</span>: url(<span class="string">"@&#123;bgImg&#125;/test.png"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">@selector:</span> box;</span><br><span class="line"><span class="variable">@bgImg:</span> <span class="string">"../img"</span>;</span><br><span class="line"><span class="variable">@property:</span> color;</span><br></pre></td></tr></table></figure>
<h3 id="2-混合-Mixins"><a href="#2-混合-Mixins" class="headerlink" title="2.混合(Mixins)"></a>2.混合(Mixins)</h3><h4 id="①-基本使用"><a href="#①-基本使用" class="headerlink" title="① 基本使用"></a>① 基本使用</h4><p>混合可以将一个定义好的class A轻松的引入到另一个class B中，从而简单实现class B继承class A中的所有属性。我们还可以带参数地调用，就像使用函数一样。</p>
<figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">//-&gt;<span class="string">LESS代</span>码</span><br><span class="line">.<span class="string">public </span>&#123;</span><br><span class="line">    <span class="string">width:</span> <span class="string">100px;</span></span><br><span class="line">    <span class="string">height:</span> <span class="string">100px;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="string">nav </span><span class="string">ul </span>&#123;</span><br><span class="line">    .<span class="string">public;</span></span><br><span class="line">    <span class="built_in">list-style:</span> <span class="string">none;</span></span><br><span class="line">&#125;</span><br><span class="line">//-&gt;编译为<span class="string">CSS的</span>结果</span><br><span class="line">.<span class="string">public </span>&#123;</span><br><span class="line">    <span class="string">width:</span> <span class="string">100px;</span></span><br><span class="line">    <span class="string">height:</span> <span class="string">100px;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="string">nav </span><span class="string">ul </span>&#123;</span><br><span class="line">    <span class="string">width:</span> <span class="string">100px;</span></span><br><span class="line">    <span class="string">height:</span> <span class="string">100px;</span></span><br><span class="line">    <span class="built_in">list-style:</span> <span class="string">none;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上述的代码，nav ul是把public中设定的样式属性值copy了一份到自己的样式中。如果你想在编译完成的结果中不输出public这个样式的结果，只需要按照下述的代码编写即可：</p>
<figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//-&gt;<span class="string">LESS代</span>码</span><br><span class="line">.<span class="string">public(</span>) &#123;//-&gt;在选择器后面加上()就可以不编译这个样式了</span><br><span class="line">    <span class="string">width:</span> <span class="string">100px;</span></span><br><span class="line">    <span class="string">height:</span> <span class="string">100px;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="string">nav </span><span class="string">ul </span>&#123;</span><br><span class="line">    .<span class="string">public;</span>//如果<span class="string">public有</span>子孙元素的样式，同样也会被复制过来</span><br><span class="line">    <span class="built_in">list-style:</span> <span class="string">none;</span></span><br><span class="line">&#125;</span><br><span class="line">//-&gt;编译为<span class="string">CSS的</span>结果</span><br><span class="line"><span class="string">nav </span><span class="string">ul </span>&#123;</span><br><span class="line">    <span class="string">width:</span> <span class="string">100px;</span></span><br><span class="line">    <span class="string">height:</span> <span class="string">100px;</span></span><br><span class="line">    <span class="built_in">list-style:</span> <span class="string">none;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="②-extend"><a href="#②-extend" class="headerlink" title="② extend"></a>② extend</h4><p>虽然在上述的案例中，nav ul把public中的样式继承了过来，但是原理却是把代码copy一份过来，这样编译后的CSS中依然会存留大量的冗余CSS代码，为了避免这一点，我们可以使用extend伪类来实现样式的继承使用。<strong>和原来的选择器共用一套样式，但要保证原来的选择器不加括号。</strong></p>
<figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">//-&gt;<span class="string">LESS代</span>码</span><br><span class="line">.<span class="string">public </span>&#123;</span><br><span class="line">    <span class="string">width:</span> <span class="string">100px;</span></span><br><span class="line">    <span class="string">height:</span> <span class="string">100px;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="string">nav </span><span class="string">ul </span>&#123;</span><br><span class="line">    &amp;:<span class="string">extend(</span>.<span class="string">public)</span>;</span><br><span class="line">    <span class="built_in">list-style:</span> <span class="string">none;</span></span><br><span class="line">&#125;</span><br><span class="line">//-&gt;编译为<span class="string">CSS的</span>结果</span><br><span class="line">.<span class="string">public,</span> <span class="string">nav </span><span class="string">ul </span>&#123;</span><br><span class="line">    <span class="string">width:</span> <span class="string">100px;</span></span><br><span class="line">    <span class="string">height:</span> <span class="string">100px;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="string">nav </span><span class="string">ul </span>&#123;</span><br><span class="line">    <span class="built_in">list-style:</span> <span class="string">none;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-嵌套规则"><a href="#3-嵌套规则" class="headerlink" title="3.嵌套规则"></a>3.嵌套规则</h3><p>我们可以在一个选择器中嵌套另一个选择器来实现继承，这样很大程度减少了代码量，并且代码看起来更加的清晰。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//-&gt;LESS代码</span></span><br><span class="line"><span class="selector-id">#header</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">  <span class="selector-class">.navigation</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.logo</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    &amp;:hover &#123; <span class="attribute">text-decoration</span>: none &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-&gt;编译为CSS的结果</span></span><br><span class="line"><span class="selector-id">#header</span> &#123; <span class="attribute">color</span>: black; &#125;</span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-class">.navigation</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-class">.logo</span> &#123; </span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>; </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-class">.logo</span>:hover &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-函数-amp-运算"><a href="#4-函数-amp-运算" class="headerlink" title="4.函数 &amp; 运算"></a>4.函数 &amp; 运算</h3><p>运算提供了加，减，乘，除操作；我们可以做属性值和颜色的运算，这样就可以实现属性值之间的复杂关系。LESS中的函数一一映射了JavaScript代码，如果你愿意的话可以操作属性值。</p>
<p>任何数字、颜色或者变量都可以参与运算. 来看一组例子:</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@base:</span> <span class="number">5%</span>;</span><br><span class="line"><span class="variable">@filler:</span> <span class="variable">@base</span> * <span class="number">2</span>;</span><br><span class="line"><span class="variable">@other:</span> <span class="variable">@base</span> + <span class="variable">@filler</span>;</span><br><span class="line"><span class="attribute">color</span>: <span class="number">#888</span> / <span class="number">4</span>;</span><br><span class="line"><span class="attribute">background-color</span>: <span class="variable">@base-color</span> + <span class="number">#111</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">100%</span> / <span class="number">2</span> + <span class="variable">@filler</span>;</span><br></pre></td></tr></table></figure>
<p>LESS 提供了一系列的颜色运算函数. 颜色会先被转化成 HSL 色彩空间, 然后在通道级别操作:</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">lighten</span>(<span class="variable">@color</span>, <span class="number">10%</span>);     <span class="comment">// return a color which is 10% *lighter* than @color</span></span><br><span class="line"><span class="selector-tag">darken</span>(<span class="variable">@color</span>, <span class="number">10%</span>);      <span class="comment">// return a color which is 10% *darker* than @color</span></span><br></pre></td></tr></table></figure>
<p>LESS提供了一组方便的数学函数，你可以使用它们处理一些数字类型的值:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">round(<span class="number">1.67</span>); <span class="regexp">//</span> returns <span class="string">`2`</span></span><br><span class="line">ceil(<span class="number">2.4</span>);   <span class="regexp">//</span> returns <span class="string">`3`</span></span><br><span class="line">floor(<span class="number">2.6</span>);  <span class="regexp">//</span> returns <span class="string">`2`</span></span><br></pre></td></tr></table></figure>
<h3 id="5-命名空间和作用域"><a href="#5-命名空间和作用域" class="headerlink" title="5.命名空间和作用域"></a>5.命名空间和作用域</h3><p>LESS 中的作用域跟其他编程语言非常类似，首先会从本地查找变量或者混合模块，如果没找到的话会去父级作用域中查找，直到找到为止。</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@var:</span> red;</span><br><span class="line"><span class="selector-id">#page</span> &#123;</span><br><span class="line">  <span class="variable">@var:</span> white;</span><br><span class="line">  <span class="selector-id">#header</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">@var</span>; <span class="comment">// white</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#footer</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="variable">@var</span>; <span class="comment">// red  </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><h3 id="LESS学习-了解LESS和编译LESS"><a href="#LESS学习-了解LESS和编译LESS" class="headerlink" title="LESS学习:了解LESS和编译LESS"></a><a href="http://old.zhufengpeixun.cn/qianduanjishuziliao/mobileDevelopment/2016-07-22/527.html" target="_blank" rel="noopener">LESS学习:了解LESS和编译LESS</a></h3><h3 id="LESS学习-LESS的基础语法"><a href="#LESS学习-LESS的基础语法" class="headerlink" title="LESS学习:LESS的基础语法"></a><a href="http://old.zhufengpeixun.cn/qianduanjishuziliao/mobileDevelopment/2016-07-22/528.html" target="_blank" rel="noopener">LESS学习:LESS的基础语法</a></h3><h3 id="LESS一种动态样式语言"><a href="#LESS一种动态样式语言" class="headerlink" title="LESS一种动态样式语言"></a><a href="http://www.bootcss.com/p/lesscss/" target="_blank" rel="noopener">LESS一种动态样式语言</a></h3>
    </div>
    
    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="/" target="_blank">Ljjyy.com</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/archives/2019/02/100195.html" class="pre-post btn btn-default" title='全面阐析网页CSS实现三栏布局的各种方法(附源码)'>
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs">全面阐析网页CSS实现三栏布局的各种方法(附源码)</span>
        </a>
    
    
        <a href="/archives/2019/02/100193.html" class="next-post btn btn-default" title='全面阐析网页CSS BFC'>
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs">全面阐析网页CSS BFC</span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>


    <div id="comments">
        
	
    <div id="vcomments" class="valine"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="/assets/valine.min.js"></script>

    <script>
        new Valine({
            av: AV,
            el: '#vcomments',
            appId: '5MzTXYXkt03k101j0PmSDN34-gzGzoHsz',
            appKey: 'iwjYgwno6qj3wtDVVSbe8nYQ',
            placeholder: '说点什么吧',
            notify: false,
            verify: true,
            avatar: 'mm',
            meta: 'nick,mail'.split(','),
            pageSize: '10',
            path: window.location.pathname,
            lang: 'zh-CN'.toLowerCase()
        })
    </script>


    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">文章目录</h3>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#前言"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#一、LESS的编译"><span class="toc-text">一、LESS的编译</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-在浏览器中调用LESS-JS"><span class="toc-text">1.在浏览器中调用LESS.JS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2、使用NODE命令编译LESS-单个文件"><span class="toc-text">2、使用NODE命令编译LESS(单个文件)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3、在NODE环境中编写批量编译的代码"><span class="toc-text">3、在NODE环境中编写批量编译的代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4、使用工具编译LESS"><span class="toc-text">4、使用工具编译LESS</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二、LESS的语法"><span class="toc-text">二、LESS的语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-变量"><span class="toc-text">1.变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-混合-Mixins"><span class="toc-text">2.混合(Mixins)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#①-基本使用"><span class="toc-text">① 基本使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#②-extend"><span class="toc-text">② extend</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-嵌套规则"><span class="toc-text">3.嵌套规则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-函数-amp-运算"><span class="toc-text">4.函数 &amp; 运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-命名空间和作用域"><span class="toc-text">5.命名空间和作用域</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参考文章"><span class="toc-text">参考文章</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#LESS学习-了解LESS和编译LESS"><span class="toc-text">LESS学习:了解LESS和编译LESS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LESS学习-LESS的基础语法"><span class="toc-text">LESS学习:LESS的基础语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LESS一种动态样式语言"><span class="toc-text">LESS一种动态样式语言</span></a></li></ol></li></ol>
        
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
</div>

            </div>
            <div class="col-sm-12">
                <span>Copyright &copy; 2019-2023&emsp;<a href="/" class="copyright-links" target="_blank" rel="nofollow">Ljjyy.com</a>
                </span> |
                <span>
                    <a href="/about/" class="copyright-links" target="_blank" rel="nofollow">关于我们</a>
                </span> |                
                <span>
                    <a href="/sitemap.xml" class="copyright-links" target="_blank" rel="nofollow">网站地图</a>
                </span> |
                <span>
                    <a href="/archives/" class="copyright-links" target="_blank" rel="nofollow">时间轴</a>
                </span>              
            </div>
        </div>
    </div>
</div>







<script src="/js/app.js?rev=@@hash"></script>

</body>
</html>
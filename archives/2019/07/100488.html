<!DOCTYPE HTML>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <meta name="theme-version" content="1.2.3">
    <meta name="root" content="/">
    <link rel="dns-prefetch" href="https://www.ljjyy.com">
    <!--SEO-->

    <meta name="keywords" content="java,javafx">


    <meta name="description" content="介绍JavaFX允许您使用高度可移植的现代硬件加速用户界面创建Java应用程序。
本教程将帮助您编写JavaFX 12应用程序并在桌面平台上运行它。
有关如何在移动平台上运行JavaFX应用程序...">



<meta name="robots" content="all">
<meta name="google" content="all">
<meta name="googlebot" content="all">
<meta name="verify" content="all">

    <!--Title-->


<title>JavaFX 12快速指南 | 来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟</title>


    <link rel="alternate" href="/atom.xml" title="来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟" type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    



<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    
	<div class="hide">
        <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
        <script>LA.init({id: "JgbNOaw1xxsmUUsQ",ck: "JgbNOaw1xxsmUUsQ"})</script>
	</div>






    
    <meta name="baidu-site-verification" content="dTHILoORpx">


    <script>
        (function(){
            var bp = document.createElement('script');
            var curProtocol = window.location.protocol.split(':')[0];
            if (curProtocol === 'https') {
                bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
            }
            else {
                bp.src = 'http://push.zhanzhang.baidu.com/push.js';
            }
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(bp, s);
        })();
    </script>

</head>

</html>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header"  >
    <div class="main-header-box">
        <!--a class="header-avatar" href="/" title='Ljjyy.com'>
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a-->
        <div class="branding">
            
                <h2> 多读书多实践，勤思考善领悟 </h2>
            
    	  </div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">

        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="web-logo"  href="/" title='Ljjyy.com'></a>
                    <!--a class="navbar-brand" href="https://www.ljjyy.com">来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟</a-->
                </div>
                <div class="collapse navbar-collapse" id="main-menu" style="">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>首页</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/cloud/"><i class="fa "></i>云计算</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/front/"><i class="fa "></i>前端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/back/"><i class="fa "></i>后端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/devops/"><i class="fa "></i>运维</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/crack/"><i class="fa "></i>破解</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/penetration/"><i class="fa "></i>渗透</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/tool/"><i class="fa "></i>工具</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/other/"><i class="fa "></i>其他</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="JavaFX 12快速指南">
            
	            JavaFX 12快速指南
            
        </h1>
        <div class="post-meta">
    
        <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
            <a class="category-link" href="/categories/back/">后端</a>
        </span>
    

    
        <span class="fa-wrap">
            <i class="fa fa-tags"></i>
            <span class="tags-meta">
                
                    <a class="tag-link" href="/tags/java/">java</a> <a class="tag-link" href="/tags/javafx/">javafx</a>
                
            </span>
        </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2019/07/30</span>
        </span>
        
    
</div>
            
            
            <p class="fa fa-exclamation-triangle warning">
                本文于<strong>1813</strong>天之前发表，文中内容可能已经过时。
            </p>
        
    </div>
    
    <div class="post-body post-content">
        <h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>JavaFX允许您使用高度可移植的现代硬件加速用户界面创建Java应用程序。</p>
<p>本教程将帮助您编写JavaFX 12应用程序并在桌面平台上运行它。</p>
<p>有关如何在移动平台上运行JavaFX应用程序的信息，请参阅 <a href="https://docs.gluonhq.com/getting-started/" target="_blank" rel="noopener">Gluon Mobile入门</a>。</p>
<p>有关JavaFX 11的长期支持（LTS）的信息，请参阅 <a href="https://gluonhq.com/services/javafx-support/" target="_blank" rel="noopener">JavaFX长期支持选项</a>。</p>
<p>JavaFX的12建立在JDK的顶部12，并且是独立的组件。开发JavaFX应用程序有两种不同的选择：</p>
<ul>
<li>使用<a href="https://gluonhq.com/products/javafx/" target="_blank" rel="noopener">JavaFX SDK</a></li>
<li>使用构建系统（例如maven / gradle）从Maven Central下载所需的模块。</li>
</ul>
<p>对于这两个选项，需要最新版本的JDK 12，或至少JDK 11。</p>
<h2 id="安装Java-12"><a href="#安装Java-12" class="headerlink" title="安装Java 12"></a>安装Java 12</h2><p>为您的操作系统下载适当的JDK。我们将在本教程中使用 <a href="http://jdk.java.net/12/" target="_blank" rel="noopener">OpenJDK</a>。</p>
<p>安装后，您可以使用 java命令行中的命令。</p>
<p>检查是否安装了正确的java版本：</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ java -version</span><br><span class="line">openjdk version <span class="string">"12.0.1"</span> <span class="number">2019</span><span class="number">-04</span><span class="number">-16</span></span><br><span class="line">OpenJDK Runtime Environment (build <span class="number">12.0</span><span class="number">.1</span>+<span class="number">12</span>)</span><br><span class="line">OpenJDK <span class="number">64</span>-Bit Server VM (build <span class="number">12.0</span><span class="number">.1</span>+<span class="number">12</span>, mixed mode, sharing)</span><br></pre></td></tr></table></figure>
<p>您需要将<strong>JAVA_HOME</strong>环境变量设置为JDK 12安装目录。您可以按照 <a href="http://www.baeldung.com/java-home-on-windows-7-8-10-mac-os-x-linux" target="_blank" rel="noopener">本指南</a>为您的平台设置JAVA_HOME。</p>
<h2 id="安装JavaFX-SDK-12"><a href="#安装JavaFX-SDK-12" class="headerlink" title="安装JavaFX SDK 12"></a>安装JavaFX SDK 12</h2><p>为您的操作系统 下载适当的 <a href="https://gluonhq.com/products/javafx/" target="_blank" rel="noopener">JavaFX运行时</a>，并将其解压缩到所需的位置。</p>
<h2 id="使用Maven开发"><a href="#使用Maven开发" class="headerlink" title="使用Maven开发"></a>使用Maven开发</h2><p>如果要使用Maven开发JavaFX应用程序，则无需下载JavaFX SDK。只需指定所需的模块和版本pom.xml，构建系统将下载所需的模块，包括适用于您平台的本机库。</p>
<p>这是一个<a href="https://github.com/openjfx/samples/blob/master/HelloFX/Maven/hellofx/pom.xml" target="_blank" rel="noopener">pom.xml</a> 文件，显示了如何实现这一点，包含在此<a href="https://github.com/openjfx/samples/blob/master/HelloFX/Maven" target="_blank" rel="noopener">示例中</a>。</p>
<p>pom使用<a href="https://github.com/openjfx/javafx-maven-plugin" target="_blank" rel="noopener">JavaFX Maven插件</a>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.openjfx<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javafx-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mainClass</span>&gt;</span>HelloFX<span class="tag">&lt;/<span class="name">mainClass</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>运行应用程序（例如，基于 引用样本中的<a href="https://github.com/openjfx/samples/blob/master/HelloFX/Maven/hellofx/src/main/java/HelloFX.java" target="_blank" rel="noopener">HelloFX.java</a>）：</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn clean javafx:<span class="keyword">run</span><span class="bash"></span></span><br></pre></td></tr></table></figure>
<h2 id="使用Gradle开发"><a href="#使用Gradle开发" class="headerlink" title="使用Gradle开发"></a>使用Gradle开发</h2><p>与Maven类似，我们可以在build.gradle文件中声明所需的JavaFX模块。但是，对于Gradle，我们需要应用JavaFX gradle插件：</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">plugins</span> &#123;</span><br><span class="line">  <span class="attribute">id</span> <span class="string">'application'</span></span><br><span class="line">  id <span class="string">'org.openjfx.javafxplugin'</span> version <span class="string">'0.0.7'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>接下来，我们添加所需的模块。例如，如果我们只需要javafx.controls 模块，我们将包括：</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">javafx</span> &#123;</span><br><span class="line">    <span class="attribute">version</span> = <span class="string">"12.0.1"</span></span><br><span class="line">    modules = [ <span class="string">'javafx.controls'</span> ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>您可以指定不同版本的JavaFX。例如，如果您想坚持使用JavaFX 11.0.2：</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">javafx</span> &#123;</span><br><span class="line">    <span class="attribute">version</span> = <span class="string">"11.0.2"</span></span><br><span class="line">    modules = [ <span class="string">'javafx.controls'</span> ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这是一个<a href="https://github.com/openjfx/samples/blob/master/HelloFX/Gradle/hellofx/build.gradle" target="_blank" rel="noopener">build.gradle</a> 文件，它显示了如何实现这一点，取自此<a href="https://github.com/openjfx/samples/blob/master/HelloFX/Gradle" target="_blank" rel="noopener">示例</a>。</p>
<p>使用以下<a href="https://github.com/openjfx/samples/blob/master/HelloFX/Gradle/hellofx/src/main/java/HelloFX.java" target="_blank" rel="noopener">命令</a>运行应用程序（例如，使用 给定样本中的<a href="https://github.com/openjfx/samples/blob/master/HelloFX/Gradle/hellofx/src/main/java/HelloFX.java" target="_blank" rel="noopener">HelloFX.java</a>）：</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gradlew <span class="keyword">run</span><span class="bash"></span></span><br></pre></td></tr></table></figure>
<h2 id="JavaFX-12和IntelliJ"><a href="#JavaFX-12和IntelliJ" class="headerlink" title="JavaFX 12和IntelliJ"></a>JavaFX 12和IntelliJ</h2><p>本节介绍如何使用IntelliJ中的Java 12和JavaFX 12。</p>
<p>为您的操作系统 下载适当的<a href="https://jdk.java.net/12/" target="_blank" rel="noopener">JDK 12</a>。确保JAVA_HOME已正确设置为Java 12安装目录。</p>
<p>安装GLuon公司的 <a href="https://gluonhq.com/products/scene-builder/" target="_blank" rel="noopener">JavaFX Scene Builder</a>，安装完后指定Scene Builder的可执行文件的路径，在IntelliJ中打开File -&gt; Settings -&gt; Languages &amp; Frameworks -&gt;  JavaFX，设置可执行文件路径。</p>
<p>您可以创建JavaFX 12模块化或非模块化项目，并使用IDE工具，Maven或Gradle构建工具。</p>
<h3 id="1-创建Java项目"><a href="#1-创建Java项目" class="headerlink" title="1. 创建Java项目"></a>1. 创建Java项目</h3><p>新建一个Java项目，然后编写如下的类，然后编译运行，即可看到结果。关于这个程序不用做解释吧。如果有学习过Swing以及其他图形界面框架的经验的话，应该非常容易理解这段代码。当然由于JavaFX是新东西，所以也顺便使用Java 8的新特性——lambda表达式。</p>
<p>你也可以选择创建JavaFX项目，这里为了让初学者更深入体会，选择普通Java项目，采取手工创建。</p>
<h3 id="2-设置JDK-12"><a href="#2-设置JDK-12" class="headerlink" title="2. 设置JDK 12"></a>2. 设置JDK 12</h3><p>转到File -&gt; Project Structure -&gt; Project，并将项目SDK设置为12。您还可以将语言级别设置为12。</p>
<h3 id="3-创建一个库"><a href="#3-创建一个库" class="headerlink" title="3. 创建一个库"></a>3. 创建一个库</h3><p>转到File -&gt; Project Structure -&gt; Libraries，JavaFX 12 SDK 并将其作为库添加到项目中。指向libJavaFX SDK 的文件夹。</p>
<h3 id="4-创建一个类"><a href="#4-创建一个类" class="headerlink" title="4. 创建一个类"></a>4. 创建一个类</h3><p>HelloJavaFX类代码</p>
<figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> myh.javafxsample;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javafx.application.Application;</span><br><span class="line"><span class="keyword">import</span> javafx.geometry.Insets;</span><br><span class="line"><span class="keyword">import</span> javafx.geometry.Pos;</span><br><span class="line"><span class="keyword">import</span> javafx.scene.Scene;</span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.Button;</span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.Label;</span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.PasswordField;</span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.TextField;</span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.GridPane;</span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.HBox;</span><br><span class="line"><span class="keyword">import</span> javafx.scene.paint.Color;</span><br><span class="line"><span class="keyword">import</span> javafx.scene.text.Font;</span><br><span class="line"><span class="keyword">import</span> javafx.scene.text.FontWeight;</span><br><span class="line"><span class="keyword">import</span> javafx.scene.text.Text;</span><br><span class="line"><span class="keyword">import</span> javafx.stage.Stage;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloJavaFX</span> <span class="keyword"><span class="keyword">extends</span> <span class="type">Application</span></span> </span>&#123;</span><br><span class="line">        @Override</span><br><span class="line">        <span class="keyword">public</span> void start(Stage primaryStage) throws Exception &#123;</span><br><span class="line">            <span class="comment">//网格布局</span></span><br><span class="line">            GridPane grid = <span class="keyword">new</span> <span class="type">GridPane</span>();</span><br><span class="line">            grid.setAlignment(Pos.CENTER);</span><br><span class="line">            <span class="comment">//网格垂直间距</span></span><br><span class="line">            grid.setHgap(<span class="number">10</span>);</span><br><span class="line">            <span class="comment">//网格水平间距</span></span><br><span class="line">            grid.setVgap(<span class="number">10</span>);</span><br><span class="line">            grid.setPadding(<span class="keyword">new</span> <span class="type">Insets</span>(<span class="number">25</span>, <span class="number">25</span>, <span class="number">25</span>, <span class="number">25</span>));</span><br><span class="line">            <span class="comment">//新建场景</span></span><br><span class="line">            Scene scene = <span class="keyword">new</span> <span class="type">Scene</span>(grid, <span class="number">300</span>, <span class="number">275</span>);</span><br><span class="line">            primaryStage.setScene(scene);</span><br><span class="line">            <span class="comment">//添加标题</span></span><br><span class="line">            Text scenetitle = <span class="keyword">new</span> <span class="type">Text</span>(<span class="string">"Welcome"</span>);</span><br><span class="line">            scenetitle.setFont(Font.font(<span class="string">"Tahoma"</span>, FontWeight.NORMAL, <span class="number">20</span>));</span><br><span class="line">            grid.add(scenetitle, <span class="number">0</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>);</span><br><span class="line">            <span class="comment">//添加标签及文本框</span></span><br><span class="line">            Label userName = <span class="keyword">new</span> <span class="type">Label</span>(<span class="string">"用户名:"</span>);</span><br><span class="line">            grid.add(userName, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">            TextField userTextField = <span class="keyword">new</span> <span class="type">TextField</span>();</span><br><span class="line">            grid.add(userTextField, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">            <span class="comment">//添加标签及密码框</span></span><br><span class="line">            Label pw = <span class="keyword">new</span> <span class="type">Label</span>(<span class="string">"密码:"</span>);</span><br><span class="line">            grid.add(pw, <span class="number">0</span>, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">            PasswordField pwBox = <span class="keyword">new</span> <span class="type">PasswordField</span>();</span><br><span class="line">            grid.add(pwBox, <span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">            <span class="comment">//添加提交按钮</span></span><br><span class="line">            Button btn = <span class="keyword">new</span> <span class="type">Button</span>(<span class="string">"登录"</span>);</span><br><span class="line">            HBox hbBtn = <span class="keyword">new</span> <span class="type">HBox</span>(<span class="number">10</span>);</span><br><span class="line">            hbBtn.setAlignment(Pos.BOTTOM_RIGHT);</span><br><span class="line">            hbBtn.getChildren().add(btn);</span><br><span class="line">            grid.add(hbBtn, <span class="number">1</span>, <span class="number">4</span>);</span><br><span class="line">            <span class="comment">//提交文本提示</span></span><br><span class="line">            final Text actiontarget = <span class="keyword">new</span> <span class="type">Text</span>();</span><br><span class="line">            grid.add(actiontarget, <span class="number">1</span>, <span class="number">6</span>);</span><br><span class="line"></span><br><span class="line">            btn.setOnAction(event -&gt; &#123;</span><br><span class="line">                actiontarget.setFill(Color.FIREBRICK);</span><br><span class="line">                actiontarget.setText(<span class="string">"已经登录"</span>);</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">            primaryStage.setTitle(<span class="string">"JavaFX Welcome"</span>);</span><br><span class="line">            primaryStage.show();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> void main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">            launch(args);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-添加VM选项"><a href="#5-添加VM选项" class="headerlink" title="5. 添加VM选项"></a>5. 添加VM选项</h3><p>要解决此问题，请单击Run -&gt; Edit Configurations…并添加以下VM选项：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">--module-path</span> "<span class="selector-tag">c</span>:\<span class="selector-tag">javafx-sdk-12</span><span class="selector-class">.0</span><span class="selector-class">.1</span>\<span class="selector-tag">lib</span>" <span class="selector-tag">--add-modules</span> <span class="selector-tag">javafx</span><span class="selector-class">.controls</span>,<span class="selector-tag">javafx</span><span class="selector-class">.fxml</span></span><br><span class="line"># <span class="selector-tag">c</span>:\<span class="selector-tag">javafx-sdk-12</span><span class="selector-class">.0</span><span class="selector-class">.1</span>\ 是<span class="selector-tag">JavaFX</span> <span class="selector-tag">SDK</span> 12的根目录</span><br></pre></td></tr></table></figure>
<p><strong>请注意</strong>，IntelliJ创建的默认项目使用FXML，因此javafx.fxml 需要使用FXML javafx.controls。如果您的项目使用其他模块，则还需要添加它们。</p>
<p>您可以定义可在将来项目中使用的全局变量。转到 Preferences (File -&gt; Settings) -&gt; Appearance &amp; Behavior -&gt; Path Variables，并将变量名称定义为PATH_TO_FX，并浏览到JavaFX SDK的lib文件夹以设置其值，然后单击“应用”。</p>
<p>然后，在将VM选项设置为以下时，可以引用此全局变量：</p>
<figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby">-<span class="class"><span class="keyword">module</span>-<span class="title">path</span> $&#123;<span class="title">PATH_TO_FX</span>&#125; --<span class="title">add</span>-<span class="title">modules</span> <span class="title">javafx</span>.<span class="title">controls</span>,<span class="title">javafx</span>.<span class="title">fxml</span></span></span></span><br></pre></td></tr></table></figure>
<p><strong>请注意</strong>，更多参数参考<a href="../08/100574.html">Java 9 打破模块的封装</a>，可以解决类似cannot access class com.sun.javafx.scene.layout.RegionHelper (in module javafx.graphics) because module javafx.graphics does not export com.sun.javafx.scene.layout to unnamed module错误。</p>
<h3 id="6-运行项目"><a href="#6-运行项目" class="headerlink" title="6. 运行项目"></a>6. 运行项目</h3><p>单击Run -&gt; Run…以运行该项目，现在它应该可以正常工作。</p>
<h2 id="用FXML设计用户界面"><a href="#用FXML设计用户界面" class="headerlink" title="用FXML设计用户界面"></a>用FXML设计用户界面</h2><p>现代图形界面框架都支持将界面和代码分离开，而且比较常用的描述语言是XML，例如QT的QML、WPF的XAML，当然JavaFX也有类似的语言，叫做FXML。如果需要详细了解FXML，可以参考Oracle官网的文章<a href="https://link.jianshu.com?t=https://docs.oracle.com/javase/8/javafx/api/javafx/fxml/doc-files/introduction_to_fxml.html" target="_blank" rel="noopener">Introduction to FXML</a>。</p>
<p>下面用FXML重写一下上面那个小例子，每个部分都做了注释。如果学习过其他类似描述语言的话，会发现这些其实都差不多。唯一需要注意的就是布局里面的<code>fx:controller</code>属性，它指定一个控制器，控制器的作用就是编写界面对应的代码。 可以通过JavaFX Scene Builder设计工具设计。</p>
<h3 id="1-布局文件fxml"><a href="#1-布局文件fxml" class="headerlink" title="1. 布局文件fxml"></a>1. 布局文件fxml</h3><p>新建Stylesheet文件myh.javafxsample.sample.fxml的代码</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="comment">&lt;!--导入类--&gt;</span></span><br><span class="line"><span class="php"><span class="meta">&lt;?</span>import javafx.geometry.Insets<span class="meta">?&gt;</span></span></span><br><span class="line"><span class="php"><span class="meta">&lt;?</span>import javafx.scene.control.*<span class="meta">?&gt;</span></span></span><br><span class="line"><span class="php"><span class="meta">&lt;?</span>import javafx.scene.layout.*<span class="meta">?&gt;</span></span></span><br><span class="line"><span class="php"><span class="meta">&lt;?</span>import javafx.scene.text.Font<span class="meta">?&gt;</span></span></span><br><span class="line"><span class="php"><span class="meta">&lt;?</span>import javafx.scene.text.Text<span class="meta">?&gt;</span></span></span><br><span class="line"><span class="comment">&lt;!--设置布局--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">GridPane</span> <span class="attr">xmlns</span>=<span class="string">"http://javafx.com/javafx"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">xmlns:fx</span>=<span class="string">"http://javafx.com/fxml"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">fx:controller</span>=<span class="string">"myh.javafxsample.Controller"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">prefHeight</span>=<span class="string">"400.0"</span> <span class="attr">prefWidth</span>=<span class="string">"600.0"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">alignment</span>=<span class="string">"center"</span> <span class="attr">hgap</span>=<span class="string">"10"</span> <span class="attr">vgap</span>=<span class="string">"10"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">padding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Insets</span> <span class="attr">top</span>=<span class="string">"25"</span> <span class="attr">right</span>=<span class="string">"25"</span> <span class="attr">bottom</span>=<span class="string">"10"</span> <span class="attr">left</span>=<span class="string">"25"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">padding</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--欢迎文本--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Text</span> <span class="attr">text</span>=<span class="string">"Welcome"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">GridPane.columnIndex</span>=<span class="string">"0"</span> <span class="attr">GridPane.rowIndex</span>=<span class="string">"0"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">GridPane.columnSpan</span>=<span class="string">"2"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">font</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Font</span> <span class="attr">name</span>=<span class="string">"Consolas"</span> <span class="attr">size</span>=<span class="string">"20"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Text</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Label</span> <span class="attr">text</span>=<span class="string">"用户名:"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">GridPane.columnIndex</span>=<span class="string">"0"</span> <span class="attr">GridPane.rowIndex</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextField</span></span></span><br><span class="line"><span class="tag">            <span class="attr">GridPane.columnIndex</span>=<span class="string">"1"</span> <span class="attr">GridPane.rowIndex</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Label</span> <span class="attr">text</span>=<span class="string">"密码:"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">GridPane.columnIndex</span>=<span class="string">"0"</span> <span class="attr">GridPane.rowIndex</span>=<span class="string">"2"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">PasswordField</span> <span class="attr">fx:id</span>=<span class="string">"passwordField"</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">GridPane.columnIndex</span>=<span class="string">"1"</span> <span class="attr">GridPane.rowIndex</span>=<span class="string">"2"</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--按钮及提示文本--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">HBox</span> <span class="attr">spacing</span>=<span class="string">"10"</span> <span class="attr">alignment</span>=<span class="string">"bottom_right"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">GridPane.columnIndex</span>=<span class="string">"1"</span> <span class="attr">GridPane.rowIndex</span>=<span class="string">"4"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Button</span> <span class="attr">text</span>=<span class="string">"显示密码"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">onAction</span>=<span class="string">"#showPasswordButton"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">HBox</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Text</span> <span class="attr">fx:id</span>=<span class="string">"hintText"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">GridPane.columnIndex</span>=<span class="string">"0"</span> <span class="attr">GridPane.columnSpan</span>=<span class="string">"2"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">GridPane.halignment</span>=<span class="string">"RIGHT"</span> <span class="attr">GridPane.rowIndex</span>=<span class="string">"6"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">GridPane</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>sample.fxml中的 GridPane fx:controller=”myh.javafxsample.Controller” 随着FXML文件对应的控制器的名称变化。</li>
<li>sample.fxml： fxml源文件，引用样式表和Controller、定义JavaFX组件等，即跟用户界面相关的定义都在这里。</li>
<li>选中“#showPasswordButton”，按下Alt+回车，快速在Controller中生成对应的属性和方法，单击左边的&lt;&gt;图标，可以快速跳到sample.fxml。</li>
</ul>
<h3 id="2-FXML文件控制器"><a href="#2-FXML文件控制器" class="headerlink" title="2. FXML文件控制器"></a>2. FXML文件控制器</h3><p>下面就是这个FXML文件对应的控制器，它是一个标准的Java类。在FXML中用<code>fx:id</code>属性指定的ID，可以在控制器中声明为一个类字段，通过这个字段就可以和界面组件进行交互。同样道理，<code>onAction</code>声明的事件处理程序，在控制器中就是一个方法。注意这些字段和方法都需要使用<code>@FXML</code>注解进行标注。</p>
<p>myh.javafxsample.Controller.java的代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> myh.javafxsample;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javafx.event.ActionEvent;</span><br><span class="line"><span class="keyword">import</span> javafx.fxml.FXML;</span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.PasswordField;</span><br><span class="line"><span class="keyword">import</span> javafx.scene.text.Text;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Controller</span> </span>&#123;</span><br><span class="line">    <span class="meta">@FXML</span></span><br><span class="line">    <span class="keyword">private</span> Text hintText;</span><br><span class="line">    <span class="meta">@FXML</span></span><br><span class="line">    <span class="keyword">private</span> PasswordField passwordField;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@FXML</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">showPasswordButton</span><span class="params">(ActionEvent event)</span> </span>&#123;</span><br><span class="line">        hintText.setText(<span class="string">"显示密码:"</span> + passwordField.getText());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Controller.java： 定义sample.fxml中的组件id并实现sample.fxml中事件引发的方法，主要用于键盘、鼠标事件的处理。</li>
</ul>
<h3 id="3-主程序"><a href="#3-主程序" class="headerlink" title="3. 主程序"></a>3. 主程序</h3><p>最后要做修改的就是主程序了。在主程序中需要使用<code>FXMLLoader</code>来加载FXML资源，其他部分没有太大变化。</p>
<p>myh.javafxsample.UseFxml.java的代码</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> myh.javafxsample;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javafx.application.<span class="type">Application</span>;</span><br><span class="line"><span class="keyword">import</span> javafx.fxml.<span class="type">FXMLLoader</span>;</span><br><span class="line"><span class="keyword">import</span> javafx.scene.<span class="type">Parent</span>;</span><br><span class="line"><span class="keyword">import</span> javafx.scene.<span class="type">Scene</span>;</span><br><span class="line"><span class="keyword">import</span> javafx.stage.<span class="type">Stage</span>;</span><br><span class="line"></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">UseFxml</span> <span class="keyword">extends</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    public void start(<span class="type">Stage</span> primaryStage) <span class="keyword">throws</span> <span class="type">Exception</span> &#123;</span><br><span class="line">        <span class="type">Parent</span> root = <span class="type">FXMLLoader</span>.load(getClass().getResource(<span class="string">"ui.fxml"</span>));</span><br><span class="line"></span><br><span class="line">        <span class="type">Scene</span> scene = <span class="keyword">new</span> <span class="type">Scene</span>(root, <span class="number">300</span>, <span class="number">275</span>);</span><br><span class="line">        primaryStage.setTitle(<span class="string">"使用FXML"</span>);</span><br><span class="line">        primaryStage.setScene(scene);</span><br><span class="line">        primaryStage.show();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(<span class="type">String</span>[] args) &#123;</span><br><span class="line">        launch(args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>UseFxml.java：包括一个start()方法和main()方法，start()方法是所有JavaFX应用程序的入口，是必需的；而当JavaFX应用程序是通过JavaFX Packager工具打包时，main()方法就不是必需的的了，因为JavaFX Package工具会将JavaFX Launcher嵌入到JAR文件中。该文件使用FXMLLoader类，该类负责加载FXML源文件sample.fxml并返回结果对象图，继承了javafx.application.Application，通过stage和scene来定义UI容器，其中Stage是最顶层的javafx容器，Scene则是所有组件的容器。</li>
</ul>
<p>这样程序完成，可以运行查看结果。</p>
<h3 id="4-组件样式CSS"><a href="#4-组件样式CSS" class="headerlink" title="4. 组件样式CSS"></a>4. 组件样式CSS</h3><p>如果希望修改组件样式，JavaFX提供了CSS接口，让我们可以直接使用CSS文件修改样式。首先需要在FXML文件中添加相应样式表的引用。文件名前面的<code>@</code>表示这个CSS文件和FXML文件在同一目录下。</p>
<p>修改myh.javafxsample.sample.fxml代码，增加stylesheets属性。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#方法1</span><br><span class="line"><span class="tag">&lt;<span class="name">GridPane</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">stylesheets</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">URL</span> <span class="attr">value</span>=<span class="string">"@style.css"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">stylesheets</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">GridPane</span>/&gt;</span></span><br><span class="line">#方法2</span><br><span class="line"><span class="tag">&lt;<span class="name">GridPane</span> <span class="attr">xmlns</span>=<span class="string">"http://javafx.com/javafx"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">xmlns:fx</span>=<span class="string">"http://javafx.com/fxml"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">fx:controller</span>=<span class="string">"sample.Controller"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">stylesheets</span>=<span class="string">"@style.css"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>在sample.fxml中的GridPane中添加stylesheet属性，并命名，然后选中样式表名，按下Alt+回车，可快速生成一个样式表文件。</li>
</ul>
<p>样式表和普通的样式表差不多，只不过需要添加JavaFX特有的前缀<code>-fx-</code>。</p>
<p>创建myh.javafxsample.style.css的代码</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#btnShowPassword</span> &#123;</span><br><span class="line">    <span class="attribute">-fx-background-color</span>: deeppink;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>在样式表中添加样式：单击左边的小方框可以调出色板，选择不同的颜色。</li>
</ul>
<p>上面用了ID选择器，所以对应地，在FXML中也需要ID属性。</p>
<p>修改myh.javafxsample.sample.fxml代码</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;Button <span class="attribute">id</span>=<span class="string">"btnShowPassword"</span> <span class="attribute">text</span>=<span class="string">"显示密码"</span></span><br><span class="line">                <span class="attribute">onAction</span>=<span class="string">"#showPasswordButton"</span>/&gt;</span><br></pre></td></tr></table></figure>
<p>这里只简单修改了一下按钮的背景色，其实可以更改的样式有很多，包括程序背景等等。</p>
<p>然后运行程序查看结果。</p>
<h2 id="Maven项目（IntelliJ）"><a href="#Maven项目（IntelliJ）" class="headerlink" title="Maven项目（IntelliJ）"></a>Maven项目（IntelliJ）</h2><p>按照以下步骤创建JavaFX非模块化项目，并使用Maven工具构建并运行它。或者，您可以从<a href="https://github.com/openjfx/samples/blob/master/IDE/IntelliJ/Non-Modular/Maven" target="_blank" rel="noopener">此处</a>下载类似的项目。</p>
<h3 id="1-创建一个Maven项目"><a href="#1-创建一个Maven项目" class="headerlink" title="1. 创建一个Maven项目"></a>1. 创建一个Maven项目</h3><p>选择File -&gt; New -&gt; Project -&gt; Maven并启用Create from archetype。如果尚未安装JavaFX <a href="https://github.com/openjfx/javafx-maven-archetypes" target="_blank" rel="noopener">原型</a>，请选择Add archetype…并设置groupId（org.openjfx），artifactId（javafx-maven-archetypes）和version（0.0.1），然后按OK。</p>
<p>安装后，选择javafx-maven-archetypes工件。</p>
<p>像org.openjfxartifactId一样提供groupId hellofx。</p>
<p>选择原型的artifactId之间，javafx-archetype-fxml或javafx-archetype-simple根据您的项目中使用FXML与否。</p>
<p>您也可以为其创建属性javafx-version，并将其设置为12.0.1。</p>
<p>最后，为项目提供名称，例如项目HelloFX的位置。</p>
<h3 id="2-验证项目"><a href="#2-验证项目" class="headerlink" title="2. 验证项目"></a>2. 验证项目</h3><p>1）对于非模块化项目，您可以删除该module-info.java文件。您可以在<a href="https://github.com/openjfx/samples/blob/master/IDE/IntelliJ/Non-Modular/Maven/hellofx/pom.xml" target="_blank" rel="noopener">此处</a>找到生成的pom文件。</p>
<p>2）对于模块化项目，打开module-info类，包括所需的模块javafx.controls和javafx.fxml。由于FXML使用反射来访问模块中的控制器，因此它已被打开javafx.fxml。您可以在<a href="https://github.com/openjfx/samples/blob/master/IDE/IntelliJ/Modular/Maven/hellofx/pom.xml" target="_blank" rel="noopener">此处</a>找到生成的pom文件。</p>
<ul>
<li><p>pom文件</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span>    </span><br><span class="line"> 	<span class="comment">&lt;!-- 模块化 --&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">release</span>&gt;</span>12<span class="tag">&lt;/<span class="name">release</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">jlinkImageName</span>&gt;</span>hellofx<span class="tag">&lt;/<span class="name">jlinkImageName</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">launcher</span>&gt;</span>launcher<span class="tag">&lt;/<span class="name">launcher</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>maven把xml、css配置文件打包进去，否则运行时抛找不到资源的异常。<br>编辑pom.xml添加下面代码</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 这里是放在 src/main/java--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.css<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.fxml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 是否替换资源中的属性--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>false<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">......</span><br></pre></td></tr></table></figure>
</li>
<li><p>module-info类</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 模块化</span></span><br><span class="line">module hellofx &#123;</span><br><span class="line">    requires <span class="keyword">javafx.controls;</span></span><br><span class="line"><span class="keyword"> </span>   requires <span class="keyword">javafx.fxml;</span></span><br><span class="line"><span class="keyword"></span></span><br><span class="line"><span class="keyword"> </span>   opens <span class="keyword">org.openjfx </span>to <span class="keyword">javafx.fxml;</span></span><br><span class="line"><span class="keyword"> </span>   exports <span class="keyword">org.openjfx;</span></span><br><span class="line"><span class="keyword">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>验证它包含javafx.controls和javafx.fxml依赖项，并包括javafx-maven-plugin。</p>
<p>导入Maven更改。JavaFX类将被识别。还要注意的是Maven的管理所需的依赖关系：它会增加javafx.base和javafx.graphics由需要javafx.controls和javafx.fxml，但最重要的，这将增加基于你的平台上所需要的分类，下载特定平台的罐子。</p>
<p>对于任何其他maven依赖项，可以在本地.m2存储库中找到这些jar 。</p>
<h3 id="3-运行项目"><a href="#3-运行项目" class="headerlink" title="3. 运行项目"></a>3. 运行项目</h3><p>您可以打开Maven Projects窗口并单击HelloFX -&gt; Plugins -&gt; compiler -&gt; compiler:compile以编译项目，然后单击HelloFX -&gt; Plugins -&gt; javafx -&gt; javafx:run以执行项目。</p>
<p><strong>注意：</strong> 如果JAVA_HOME未设置为12，则从Maven Projects窗口运行可能会失败。要避免它，您可以将正确的java命令添加到javafx-maven-plugin : </p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="params">&lt;configuration&gt;</span><span class="params">&lt;executable&gt;</span>$&#123;env.JAVA_HOME&#125;<span class="meta-keyword">/bin/</span>java<span class="params">&lt;/executable&gt;</span><span class="params">&lt;/configuration&gt;</span></span><br></pre></td></tr></table></figure>
<p>更多配置信息参考<a href="../08/100575.html">用于运行JavaFX 11+应用程序的Maven插件</a></p>
<p>该项目也可以从终端运行。确保JAVA_HOME设置为12，然后运行mvn clean javafx:run。</p>
<h3 id="4-创建自定义运行时映像"><a href="#4-创建自定义运行时映像" class="headerlink" title="4. 创建自定义运行时映像"></a>4. 创建自定义运行时映像</h3><p><strong>模块化项目，才能进行该步操作。</strong><br>要创建自定义运行时，可以使用<a href="https://github.com/openjfx/javafx-maven-plugin" target="_blank" rel="noopener">JavaFX Maven插件</a>单击HelloFX -&gt; Plugins -&gt; javafx -&gt; javafx:jlink，或者从JAVA_HOME设置为12的终端 运行：</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">mvn </span>clean javafx:jlink</span><br></pre></td></tr></table></figure>
<p>请注意，插件允许使用常用选项作为jlink命令，以及使用自定义图像创建启动器或zip。</p>
<p>构建映像后，可以从命令行运行它：</p>
<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">target<span class="symbol">\h</span>ellofx<span class="symbol">\b</span>in<span class="symbol">\l</span>auncher</span><br></pre></td></tr></table></figure>
<h2 id="Gradle项目（IntelliJ）"><a href="#Gradle项目（IntelliJ）" class="headerlink" title="Gradle项目（IntelliJ）"></a>Gradle项目（IntelliJ）</h2><p>按照以下步骤创建JavaFX非模块化项目，并使用Gradle工具构建并运行它。或者，您可以从<a href="https://github.com/openjfx/samples/blob/master/IDE/IntelliJ/Non-Modular/Gradle" target="_blank" rel="noopener">此处</a>下载类似的项目。</p>
<h3 id="1-创建Gradle项目"><a href="#1-创建Gradle项目" class="headerlink" title="1. 创建Gradle项目"></a>1. 创建Gradle项目</h3><p>使用Java创建Gradle项目。</p>
<p>像org.openjfxartifactId一样提供groupId hellofx。根据项目JDK 12选择Gradle JVM 。然后为项目提供名称，例如项目HelloFX的位置。项目打开时，添加一个包org.openjfx和一个空MainApp类。</p>
<h3 id="2-修改构建"><a href="#2-修改构建" class="headerlink" title="2. 修改构建"></a>2. 修改构建</h3><p>1）对于非模块化项目，编辑build.gradle文件并将其替换为此 <a href="https://github.com/openjfx/samples/blob/master/IDE/IntelliJ/Non-Modular/Gradle/hellofx/build.gradle" target="_blank" rel="noopener">构建</a>文件，并mainClassName相应地设置 为org.openjfx.MainApp。</p>
<p>2）对于模块化项目，编辑build.gradle文件并将其替换为此 <a href="https://github.com/openjfx/samples/blob/master/IDE/IntelliJ/Modular/Gradle/hellofx/build.gradle" target="_blank" rel="noopener">构建</a>文件，并mainClassName相应地设置 为org.openjfx.MainApp。请注意org.openjfx.javafxplugin插件的使用，这消除了添加JavaFX依赖项和为它们设置编译和运行任务的模块路径的必要性。</p>
<p>与Maven类似，我们可以在build.gradle文件中声明所需的JavaFX模块。更多配置信息参考<a href="../08/100577.html">JavaFX 11+ controlsfx的build.gradle</a> 。但是，对于Gradle，我们需要应用JavaFX gradle插件：</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">javafx</span> &#123;</span><br><span class="line">    <span class="attribute">version</span> = <span class="string">"12.0.1"</span></span><br><span class="line">    modules = [ <span class="string">'javafx.controls'</span>, <span class="string">'javafx.fxml'</span> ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>同步项目，您将获得JavaFX依赖项。</p>
<p>对于任何其他Gradle依赖项，可以在本地.gradle存储库中找到这些jar 。</p>
<ul>
<li><p>gradle把xml、css配置文件打包进去，否则运行时抛找不到资源的异常。<br>编辑build.gradle添加下面代码</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//将src文件夹中的资源文件同时打包</span></span><br><span class="line">processResources &#123;</span><br><span class="line">  <span class="keyword">from</span>(<span class="string">'src/main/java'</span>) &#123;</span><br><span class="line">    <span class="keyword">include</span> <span class="string">'**/*.fxml'</span></span><br><span class="line">      <span class="keyword">include</span> <span class="string">'**/*.css'</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>$moduleName，module-info类中的module名称，如果module-info类会出错，可先改为常量。</p>
</li>
</ul>
<h3 id="3-添加module-info类"><a href="#3-添加module-info类" class="headerlink" title="3.添加module-info类"></a>3.添加module-info类</h3><p><strong>模块化项目，才能进行该步操作。</strong><br>添加module-info类，包括所需的模块javafx.controls和javafx.fxml。由于FXML使用反射来访问模块中的控制器，因此必须将其打开javafx.fxml。最后，导出包org.openjfx。</p>
<h3 id="4-添加源代码"><a href="#4-添加源代码" class="headerlink" title="4. 添加源代码"></a>4. 添加源代码</h3><p>基于此<a href="https://github.com/openjfx/samples/blob/master/IDE/IntelliJ/Non-Modular/Gradle/hellofx/src/main/java/org/openjfx/MainApp.java" target="_blank" rel="noopener">MainApp</a>类，将其内容添加到项目主类。然后添加<a href="https://github.com/openjfx/samples/blob/master/IDE/IntelliJ/Non-Modular/Gradle/hellofx/src/main/java/org/openjfx/FXMLController.java" target="_blank" rel="noopener">控制器</a> 和<a href="https://github.com/openjfx/samples/blob/master/IDE/IntelliJ/Non-Modular/Gradle/hellofx/src/main/resources/org/openjfx/scene.fxml" target="_blank" rel="noopener">FXML</a>以及<a href="https://github.com/openjfx/samples/blob/master/IDE/IntelliJ/Non-Modular/Gradle/hellofx/src/main/resources/org/openjfx/styles.css" target="_blank" rel="noopener">css</a> 文件。请注意，IDE可识别JavaFX类。</p>
<h3 id="5-运行项目"><a href="#5-运行项目" class="headerlink" title="5. 运行项目"></a>5. 运行项目</h3><p>您可以通过View -&gt; Tool Windows  -&gt; Gradle打开Gradle窗口，并单击hellofx -&gt; Tasks -&gt; build -&gt; build以构建项目，然后单击hellofx -&gt; Tasks -&gt; application -&gt; run以执行项目。</p>
<p>您也可以打开终端并运行：</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gradlew <span class="keyword">run</span><span class="bash"></span></span><br></pre></td></tr></table></figure>
<h3 id="6-创建自定义运行时映像"><a href="#6-创建自定义运行时映像" class="headerlink" title="6.创建自定义运行时映像"></a>6.创建自定义运行时映像</h3><p><strong>模块化项目，才能进行该步操作。</strong></p>
<p>要创建自定义运行时，可以使用<a href="https://badass-jlink-plugin.beryx.org/releases/latest/" target="_blank" rel="noopener">org.beryx.jlink</a>插件。它可以很容易地与JavaFX Gradle插件结合使用：</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">plugins</span> &#123;</span><br><span class="line">  <span class="attribute">id</span> <span class="string">'application'</span></span><br><span class="line">  id <span class="string">'org.openjfx.javafxplugin'</span> version <span class="string">'0.0.7'</span></span><br><span class="line">  id <span class="string">'org.beryx.jlink'</span> version <span class="string">'2.10.2'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">javafx &#123;</span><br><span class="line">    <span class="attribute">version</span> = <span class="string">"12.0.1"</span></span><br><span class="line">    modules = [ <span class="string">'javafx.controls'</span>, <span class="string">'javafx.fxml'</span> ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">jlink &#123;</span><br><span class="line">    <span class="section">launcher</span> &#123;</span><br><span class="line">        <span class="attribute">name</span> = <span class="string">'hellofx'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>生成自定义图像。运行hellofx -&gt; Tasks -&gt; build -&gt; jlink任务以创建映像。</p>
<p>要运行图像，请在终端上键入：</p>
<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">build<span class="symbol">\i</span>mage<span class="symbol">\b</span>in<span class="symbol">\h</span>ellofx</span><br></pre></td></tr></table></figure>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="maven下载依赖jar包慢"><a href="#maven下载依赖jar包慢" class="headerlink" title="maven下载依赖jar包慢"></a>maven下载依赖jar包慢</h3><p>打开maven目录下conf文件夹的settings.xml文件，添加国内aliyun镜像加速。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/SETTINGS/1.0.0"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/SETTINGS/1.0.0</span></span></span><br><span class="line"><span class="tag"><span class="string">                          https://maven.apache.org/xsd/settings-1.0.0.xsd"</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrors</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 阿里云仓库 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>alimaven<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun maven<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/repositories/central/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 中央仓库1 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>repo1<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>Human Readable Name for this Mirror.<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://repo1.maven.org/maven2/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 中央仓库2 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>repo2<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>Human Readable Name for this Mirror.<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://repo2.maven.org/maven2/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mirrors</span>&gt;</span> </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="新建项目下载Gradle慢的问题"><a href="#新建项目下载Gradle慢的问题" class="headerlink" title="新建项目下载Gradle慢的问题"></a>新建项目下载Gradle慢的问题</h3><p>打开用户主目录，windows平台c:\Users\用户名.gradle<br>找到./gradle/wrapper/dist/gradle-版本号-bin目录</p>
<p>去官方网站下载这个版本号对应的安装包<a href="http://services.gradle.org/distributions/" target="_blank" rel="noopener">http://services.gradle.org/distributions/</a></p>
<p>把下载下来的文件存放到这个目录下面的子目录 (目录名由字母和数字组成) 下面。</p>
<h3 id="Gradle下载依赖jar包慢"><a href="#Gradle下载依赖jar包慢" class="headerlink" title="Gradle下载依赖jar包慢"></a>Gradle下载依赖jar包慢</h3><h4 id="单个项目配置"><a href="#单个项目配置" class="headerlink" title="单个项目配置"></a>单个项目配置</h4><p>在项目中的build.gradle修改内容</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">buildscript</span> &#123;</span><br><span class="line">    <span class="keyword">repositories</span> &#123;</span><br><span class="line">        maven &#123; url <span class="string">'http://maven.aliyun.com/nexus/content/groups/public/'</span> &#125;</span><br><span class="line">                maven&#123; url <span class="string">'http://maven.aliyun.com/nexus/content/repositories/jcenter'</span>&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">dependencies</span> &#123;</span><br><span class="line">        <span class="keyword">classpath</span> <span class="string">'com.android.tools.build:gradle:2.2.3'</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// <span class="doctag">NOTE:</span> Do not place your application dependencies here; they belong</span></span><br><span class="line">        <span class="comment">// in the individual module build.gradle files</span></span><br><span class="line">    &#125;        </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">allprojects</span> &#123;</span><br><span class="line">    <span class="keyword">repositories</span> &#123;</span><br><span class="line">        maven &#123; url <span class="string">'http://maven.aliyun.com/nexus/content/groups/public/'</span> &#125;</span><br><span class="line">        maven&#123; url <span class="string">'http://maven.aliyun.com/nexus/content/repositories/jcenter'</span>&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="全局配置"><a href="#全局配置" class="headerlink" title="全局配置"></a>全局配置</h4><p>对所有项目生效，在USER_HOME/.gradle/下创建init.gradle文件<br><figure class="highlight roboconf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">allprojects&#123;</span><br><span class="line">    <span class="attribute">repositories &#123;</span></span><br><span class="line"><span class="attribute">        def ALIYUN_REPOSITORY_URL = 'http</span>://maven<span class="variable">.aliyun</span><span class="variable">.com</span>/nexus/content/groups/public'</span><br><span class="line">        def ALIYUN_JCENTER_URL = 'http://maven<span class="variable">.aliyun</span><span class="variable">.com</span>/nexus/content/repositories/jcenter'</span><br><span class="line">        all &#123; ArtifactRepository repo -&gt;</span><br><span class="line">            if(repo instanceof MavenArtifactRepository)&#123;</span><br><span class="line">                def url = repo<span class="variable">.url</span><span class="variable">.toString</span>()</span><br><span class="line">                if (url<span class="variable">.startsWith</span>('https://repo1<span class="variable">.maven</span><span class="variable">.org</span>/maven2')) &#123;</span><br><span class="line">                    project<span class="variable">.logger</span><span class="variable">.lifecycle</span> "Repository $&#123;repo<span class="variable">.url</span>&#125; replaced by $ALIYUN_REPOSITORY_URL."</span><br><span class="line">                    remove repo</span><br><span class="line">                &#125;</span><br><span class="line">                if (url<span class="variable">.startsWith</span>('https://jcenter<span class="variable">.bintray</span><span class="variable">.com</span>/')) &#123;</span><br><span class="line">                    project<span class="variable">.logger</span><span class="variable">.lifecycle</span> "Repository $&#123;repo<span class="variable">.url</span>&#125; replaced by $ALIYUN_JCENTER_URL."</span><br><span class="line">                    remove repo</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        maven &#123;</span><br><span class="line">            url ALIYUN_REPOSITORY_URL</span><br><span class="line">            url ALIYUN_JCENTER_URL</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

    </div>
    
    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="/" target="_blank">Ljjyy.com</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/archives/2019/08/100491.html" class="pre-post btn btn-default" title='JavaFX 概述'>
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs">JavaFX 概述</span>
        </a>
    
    
        <a href="/archives/2019/07/100459.html" class="next-post btn btn-default" title='大数据hadoop学习教程'>
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs">大数据hadoop学习教程</span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>


    <div id="comments">
        
	
    <div id="vcomments" class="valine"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="/assets/valine.min.js"></script>

    <script>
        new Valine({
            av: AV,
            el: '#vcomments',
            appId: '5MzTXYXkt03k101j0PmSDN34-gzGzoHsz',
            appKey: 'iwjYgwno6qj3wtDVVSbe8nYQ',
            placeholder: '说点什么吧',
            notify: false,
            verify: true,
            avatar: 'mm',
            meta: 'nick,mail'.split(','),
            pageSize: '10',
            path: window.location.pathname,
            lang: 'zh-CN'.toLowerCase()
        })
    </script>


    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">文章目录</h3>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#介绍"><span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装Java-12"><span class="toc-text">安装Java 12</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装JavaFX-SDK-12"><span class="toc-text">安装JavaFX SDK 12</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用Maven开发"><span class="toc-text">使用Maven开发</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用Gradle开发"><span class="toc-text">使用Gradle开发</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaFX-12和IntelliJ"><span class="toc-text">JavaFX 12和IntelliJ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-创建Java项目"><span class="toc-text">1. 创建Java项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-设置JDK-12"><span class="toc-text">2. 设置JDK 12</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-创建一个库"><span class="toc-text">3. 创建一个库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-创建一个类"><span class="toc-text">4. 创建一个类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-添加VM选项"><span class="toc-text">5. 添加VM选项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-运行项目"><span class="toc-text">6. 运行项目</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#用FXML设计用户界面"><span class="toc-text">用FXML设计用户界面</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-布局文件fxml"><span class="toc-text">1. 布局文件fxml</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-FXML文件控制器"><span class="toc-text">2. FXML文件控制器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-主程序"><span class="toc-text">3. 主程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-组件样式CSS"><span class="toc-text">4. 组件样式CSS</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Maven项目（IntelliJ）"><span class="toc-text">Maven项目（IntelliJ）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-创建一个Maven项目"><span class="toc-text">1. 创建一个Maven项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-验证项目"><span class="toc-text">2. 验证项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-运行项目"><span class="toc-text">3. 运行项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-创建自定义运行时映像"><span class="toc-text">4. 创建自定义运行时映像</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Gradle项目（IntelliJ）"><span class="toc-text">Gradle项目（IntelliJ）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-创建Gradle项目"><span class="toc-text">1. 创建Gradle项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-修改构建"><span class="toc-text">2. 修改构建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-添加module-info类"><span class="toc-text">3.添加module-info类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-添加源代码"><span class="toc-text">4. 添加源代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-运行项目"><span class="toc-text">5. 运行项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-创建自定义运行时映像"><span class="toc-text">6.创建自定义运行时映像</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#其他"><span class="toc-text">其他</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#maven下载依赖jar包慢"><span class="toc-text">maven下载依赖jar包慢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#新建项目下载Gradle慢的问题"><span class="toc-text">新建项目下载Gradle慢的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Gradle下载依赖jar包慢"><span class="toc-text">Gradle下载依赖jar包慢</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#单个项目配置"><span class="toc-text">单个项目配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#全局配置"><span class="toc-text">全局配置</span></a></li></ol></li></ol></li></ol>
        
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
</div>

            </div>
            <div class="col-sm-12">
                <span>Copyright &copy; 2019-2024&emsp;<a href="/" class="copyright-links" target="_blank" rel="nofollow">Ljjyy.com</a>
                </span> |
                <span>
                    <a href="/about/" class="copyright-links" target="_blank" rel="nofollow">关于我们</a>
                </span> |                
                <span>
                    <a href="/sitemap.xml" class="copyright-links" target="_blank" rel="nofollow">网站地图</a>
                </span> |
                <span>
                    <a href="/archives/" class="copyright-links" target="_blank" rel="nofollow">时间轴</a>
                </span>              
            </div>
        </div>
    </div>
</div>







<script src="/js/app.js?rev=@@hash"></script>

</body>
</html>
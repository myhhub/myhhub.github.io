<!DOCTYPE HTML>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <meta name="theme-version" content="1.2.3">
    <meta name="root" content="/">
    <link rel="dns-prefetch" href="https://www.ljjyy.com">
    <!--SEO-->

    <meta name="keywords" content="hadoop,cdh">


    <meta name="description" content="CDH (Cloudera’s Distribution, including Apache Hadoop)，是Hadoop众多分支中的一种，由Cloudera维护，基于稳定版本的Apache ...">



<meta name="robots" content="all">
<meta name="google" content="all">
<meta name="googlebot" content="all">
<meta name="verify" content="all">

    <!--Title-->


<title>大数据hadoop之 四十九.CentOS下离线安装Cloudera Manager和CDH | 来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟</title>


    <link rel="alternate" href="/atom.xml" title="来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟" type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    



<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    
	<div class="hide">
        <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
        <script>LA.init({id: "JgbNOaw1xxsmUUsQ",ck: "JgbNOaw1xxsmUUsQ"})</script>
	</div>






    
    <meta name="baidu-site-verification" content="dTHILoORpx">


    <script>
        (function(){
            var bp = document.createElement('script');
            var curProtocol = window.location.protocol.split(':')[0];
            if (curProtocol === 'https') {
                bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
            }
            else {
                bp.src = 'http://push.zhanzhang.baidu.com/push.js';
            }
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(bp, s);
        })();
    </script>

</head>

</html>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header"  >
    <div class="main-header-box">
        <!--a class="header-avatar" href="/" title='Ljjyy.com'>
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a-->
        <div class="branding">
            
                <h2> 多读书多实践，勤思考善领悟 </h2>
            
    	  </div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">

        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="web-logo"  href="/" title='Ljjyy.com'></a>
                    <!--a class="navbar-brand" href="https://www.ljjyy.com">来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟</a-->
                </div>
                <div class="collapse navbar-collapse" id="main-menu" style="">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>首页</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/cloud/"><i class="fa "></i>云计算</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/front/"><i class="fa "></i>前端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/back/"><i class="fa "></i>后端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/devops/"><i class="fa "></i>运维</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/crack/"><i class="fa "></i>破解</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/penetration/"><i class="fa "></i>渗透</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/tool/"><i class="fa "></i>工具</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/other/"><i class="fa "></i>其他</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="大数据hadoop之 四十九.CentOS下离线安装Cloudera Manager和CDH">
            
	            大数据hadoop之 四十九.CentOS下离线安装Cloudera Manager和CDH
            
        </h1>
        <div class="post-meta">
    
        <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
            <a class="category-link" href="/categories/cloud/">云计算</a>
        </span>
    

    
        <span class="fa-wrap">
            <i class="fa fa-tags"></i>
            <span class="tags-meta">
                
                    <a class="tag-link" href="/tags/cdh/">cdh</a> <a class="tag-link" href="/tags/hadoop/">hadoop</a>
                
            </span>
        </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2019/07/02</span>
        </span>
        
    
</div>
            
            
            <p class="fa fa-exclamation-triangle warning">
                本文于<strong>1381</strong>天之前发表，文中内容可能已经过时。
            </p>
        
    </div>
    
    <div class="post-body post-content">
        <p>CDH (Cloudera’s Distribution, including Apache Hadoop)，是Hadoop众多分支中的一种，由Cloudera维护，基于稳定版本的Apache Hadoop构建，并集成了很多补丁，可直接用于生产环境。</p>
<p>Cloudera Manager则是为了便于在集群中进行Hadoop等大数据处理相关的服务安装和监控管理的组件，对集群中主机、Hadoop、Hive、Spark等服务的安装配置管理做了极大简化。</p>
<h2 id="一-系统环境"><a href="#一-系统环境" class="headerlink" title="一 系统环境"></a>一 系统环境</h2><ul>
<li>实验环境：Mac下VMware虚拟机  </li>
<li>操作系统：CentOS 6.5 x64 (至少内存2G以上，这里内存不够的同学建议还是整几台真机配置比较好，将CDH的所有组件全部安装会占用很多内存，我已开始设置的虚拟机内存是1G，安装过程中直接卡死了)  </li>
<li>Cloudera Manager：5.2.3  </li>
<li>CDH: 5.2.3  </li>
</ul>
<h2 id="二-安装说明"><a href="#二-安装说明" class="headerlink" title="二 安装说明"></a>二 安装说明</h2><h3 id="1-官方参考文档："><a href="#1-官方参考文档：" class="headerlink" title="1 官方参考文档："></a>1 官方参考文档：</h3><p>官方安装文档:<a href="http://www.cloudera.com/content/cloudera/en/documentation/cloudera-manager/v5-latest/Cloudera-Manager-Installation-Guide/cm5ig_install_path_C.html" target="_blank" rel="noopener">地址</a></p>
<p>官方共给出了3中安装方式：</p>
<p>第一种方法必须要求所有机器都能连网，由于最近各种国外的网站被墙的厉害，我尝试了几次各种超时错误，巨耽误时间不说，一旦失败，重装非常痛苦。</p>
<p>第二种方法下载很多包。</p>
<p>第三种方法对系统侵入性最小,最大优点可实现全离线安装，而且重装什么的都非常方便。后期的集群统一包升级也非常好。这也是我之所以选择离线安装的原因。  </p>
<h3 id="2-Cloudera-Manager下载地址："><a href="#2-Cloudera-Manager下载地址：" class="headerlink" title="2 Cloudera Manager下载地址："></a>2 Cloudera Manager下载地址：</h3><p><a href="http://archive.cloudera.com/cm5/cm/5/cloudera-manager-el6-cm5.1.3_x86_64.tar.gz" target="_blank" rel="noopener">下载地址</a></p>
<h3 id="3-Cloudera-Manager安装要求信息："><a href="#3-Cloudera-Manager安装要求信息：" class="headerlink" title="3 Cloudera Manager安装要求信息："></a>3 Cloudera Manager安装要求信息：</h3><p><a href="http://www.cloudera.com/content/cloudera/en/documentation/cloudera-manager/v5-latest/Cloudera-Manager-Version-and-Download-Information/Cloudera-Manager-Version-and-Download-Information.html#cmvd_topic_1" target="_blank" rel="noopener">浏览地址</a></p>
<h3 id="4-CDH安装包下载地址："><a href="#4-CDH安装包下载地址：" class="headerlink" title="4 CDH安装包下载地址："></a>4 CDH安装包下载地址：</h3><p> <a href="http://archive.cloudera.com/cdh5/parcels/latest/" target="_blank" rel="noopener">http://archive.cloudera.com/cdh5/parcels/latest/</a> ，<br>由于我们的操作系统为CentOS6.5，需要下载以下文件：</p>
<p>CDH-5.1.3-1.cdh5.1.3.p0.12-el6.parcel<br>CDH-5.1.3-1.cdh5.1.3.p0.12-el6.parcel.sha1<br>manifest.json  </p>
<h3 id="5-注意-："><a href="#5-注意-：" class="headerlink" title="5 注意 ："></a>5 注意 ：</h3><p>与CDH4的不同，原来安装CDH4的时候还需要下载IMPALA、Cloudera Search(SOLR)，CDH5中将他们包含在一起了，所以只需要下载一个CDH5的包就可以了。<br>而在咱们公司内部可以在内部的ftp服务器（192.168.1.110）都能找到所需要的文件，在下面我将会把这些文件的拷贝方法一同写入到里面。  </p>
<h2 id="三-准备工作：系统环境搭建"><a href="#三-准备工作：系统环境搭建" class="headerlink" title="三 准备工作：系统环境搭建"></a>三 准备工作：系统环境搭建</h2><p>以下操作均用root用户操作。  </p>
<h3 id="1-网络配置-所有节点"><a href="#1-网络配置-所有节点" class="headerlink" title="1). 网络配置(所有节点)"></a>1). 网络配置(所有节点)</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi <span class="regexp">/etc/</span>sysconfig<span class="regexp">/network</span></span><br></pre></td></tr></table></figure>
<p>修改hostname：  </p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">NETWORKING</span>=<span class="literal">yes</span></span><br><span class="line"><span class="attr">HOSTNAME</span>=dhc-<span class="number">4</span></span><br></pre></td></tr></table></figure>
<p>通过 <code>service network restart</code> 重启网络服务生效。<br><code>vi /etc/hosts</code> ,修改ip与主机名的对应关系</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">192.168</span><span class="number">.1</span><span class="number">.213</span>   dhc<span class="number">-4</span></span><br><span class="line"><span class="number">192.168</span><span class="number">.1</span><span class="number">.214</span>   dhc<span class="number">-5</span></span><br><span class="line"><span class="number">192.168</span><span class="number">.1</span><span class="number">.215</span>   dhc<span class="number">-6</span></span><br></pre></td></tr></table></figure>
<h3 id="2-注意："><a href="#2-注意：" class="headerlink" title="2) 注意："></a>2) 注意：</h3><p>这里需要将每台机器的ip及主机名对应关系都写进去，本机的也要写进去，否则启动Agent的时候会提示hostname解析错误。</p>
<h2 id="四-打通SSH，设置ssh无密码登陆（所有节点）"><a href="#四-打通SSH，设置ssh无密码登陆（所有节点）" class="headerlink" title="四 打通SSH，设置ssh无密码登陆（所有节点）"></a>四 打通SSH，设置ssh无密码登陆（所有节点）</h2><p>在所有节点上执行 ssh-keygen -t rsa 一路回车，生成无密码的密钥对。  </p>
<p>将主节点公钥添加到认证文件中： <code>cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</code> ，并设置authorized_keys的访问权限： <code>chmod 600 ~/.ssh/authorized_keys</code>。<br>分别使用以下命令scp文件到所有datenode节点：  </p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp ~<span class="regexp">/.ssh/authorized</span>_keys root<span class="variable">@dhc</span>-<span class="number">5</span><span class="symbol">:~/</span>.ssh/</span><br><span class="line">scp ~<span class="regexp">/.ssh/authorized</span>_keys root<span class="variable">@dhc</span>-<span class="number">6</span><span class="symbol">:~/</span>.ssh/</span><br></pre></td></tr></table></figure>
<h3 id="1-测试："><a href="#1-测试：" class="headerlink" title="1 测试："></a>1 测试：</h3><p>在主节点上ssh n2，正常情况下，不需要密码就能直接登陆进去了。</p>
<h2 id="五-安装Oracle的Java（所有节点）"><a href="#五-安装Oracle的Java（所有节点）" class="headerlink" title="五 安装Oracle的Java（所有节点）"></a>五 安装Oracle的Java（所有节点）</h2><p>CentOS，自带OpenJdk，不过运行CDH5需要使用Oracle的Jdk，需要Java 7的支持。</p>
<p>卸载自带的OpenJdk，使用 rpm -qa | grep java 查询java相关的包，使用 rpm -e –nodeps 包名 卸载之。</p>
<p>去Oracle的官网下载jdk的rpm安装包，并使用 rpm -ivh 包名 安装之。<br>而咱们公司中的jdk1.7放在：  </p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/home/</span>hadoop<span class="regexp">/Hadoop/</span>CDH<span class="regexp">/CDHCentOS6/</span>jdk-<span class="number">7</span>u80-linux-x64.rpm</span><br></pre></td></tr></table></figure>
<p>可以使用命令  </p>
<p><code>scp hadoop@192.168.1.110:/home/hadoop/Hadoop/CDH/CDHCentOS6/jdk-7u80-linux-x64.rpm /usr/local</code>  将jdk1.7放在/usr/local目录下，然后进入到此目录下，使用命令  <code>rpm -ivh  jdk-7u80-linux-x64.rpm</code>  安装jdk1.7。<br>由于是rpm包并不需要我们来配置环境变量，我们只需要配置一个全局的JAVA_HOME变量即可，执行命令：  </p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo <span class="string">"JAVA_HOME=/usr/java/latest/"</span> <span class="meta">&gt;&gt; </span>/etc/environment</span><br></pre></td></tr></table></figure>
<h2 id="六-安装配置MySql（主节点）"><a href="#六-安装配置MySql（主节点）" class="headerlink" title="六 安装配置MySql（主节点）"></a>六 安装配置MySql（主节点）</h2><p>在安装mysql数据库之前，先使用命令</p>
<p>查看：<code>rpm -qa | grep mysql</code></p>
<p>卸载：<code>rpm -e --nodeps mysql-libs-5.1.71-1.el6.x86_64</code></p>
<p>将本机自带的mysql数据库卸载。</p>
<p>在线安装可以通过 yum install mysql-server 本例中，在本地ftp服务器上下载了一个MySQL的安装包，可以使用命令：  </p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp hadoop<span class="variable">@192</span>.<span class="number">168.1</span>.<span class="number">110</span><span class="symbol">:/home/hadoop/Hadoop/CDH/CDHCentOS6/MySQL-</span><span class="number">5.5</span>.<span class="number">49</span>-<span class="number">1</span>.el6.x86_64.rpm-bundle.tar /usr/local</span><br></pre></td></tr></table></figure>
<p>将MySQL的安装包放在/usr/local/目录下，进入到此目录下，执行命令：</p>
<p><code>tar -xvf  MySQL-5.5.49-1.el6.x86_64.rpm-bundle.tar</code>  </p>
<p>进行解压，解压完成之后会出现几个以.rpm为结尾的安装包，我们只需要安装MySQL-server和MySQL-client这两个包即可，可以使用命令：<code>rpm -ivh +包名</code> 即可安装。<br>安装完成以后使用命令<code>service mysql start</code>打开MySQL服务，并根据提示设置root的初试密码： </p>
<p><code>mysqladmin -u root password &#39;xxxx&#39;</code> 。  </p>
<p><code>mysql -uroot -p123456</code>进入mysql命令行，创建以下数据库：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#hive  </span></span><br><span class="line">create database hive<span class="built_in"> DEFAULT </span>CHARSET utf8 COLLATE utf8_general_ci;  </span><br><span class="line"><span class="comment">#activity monitor  </span></span><br><span class="line">create database amon<span class="built_in"> DEFAULT </span>CHARSET utf8 COLLATE utf8_general_ci;</span><br></pre></td></tr></table></figure>
<p>设置root授权访问以上所有的数据库：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#授权root用户在主节点拥有所有数据库的访问权限</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> <span class="keyword">privileges</span> <span class="keyword">on</span> *.* <span class="keyword">to</span> <span class="string">'root'</span>@<span class="string">'dhc-4'</span> <span class="keyword">identified</span> <span class="keyword">by</span> <span class="string">'123456'</span> <span class="keyword">with</span> <span class="keyword">grant</span> <span class="keyword">option</span>;</span><br><span class="line"><span class="keyword">flush</span> <span class="keyword">privileges</span>;</span><br></pre></td></tr></table></figure>
<h3 id="官方MySql配置文档："><a href="#官方MySql配置文档：" class="headerlink" title="官方MySql配置文档："></a>官方MySql配置文档：</h3><p><a href="http://www.cloudera.com/content/cloudera/en/documentation/cloudera-manager/v5-latest/Cloudera-Manager-Installation-Guide/cm5ig_mysql.html#cmig_topic_5_5" target="_blank" rel="noopener">http://www.cloudera.com/content/cloudera/en/documentation/cloudera-manager/v5-latest/Cloudera-Manager-Installation-Guide/cm5ig_mysql.html#cmig_topic_5_5</a>  </p>
<h2 id="七-关闭防火墙和SELinux"><a href="#七-关闭防火墙和SELinux" class="headerlink" title="七 关闭防火墙和SELinux"></a>七 关闭防火墙和SELinux</h2><h3 id="注意："><a href="#注意：" class="headerlink" title="注意："></a>注意：</h3><p>需要在所有的节点上执行，因为涉及到的端口太多了，临时关闭防火墙是为了安装起来更方便，安装完毕后可以根据需要设置防火墙策略，保证集群安全。<br>关闭防火墙：  </p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">service</span> iptables stop （临时关闭）  </span><br><span class="line">chkconfig iptables <span class="literal">off</span> （重启后生效）</span><br></pre></td></tr></table></figure>
<p>关闭SELINUX（实际安装过程中发现没有关闭也是可以的，不知道会不会有问题，还需进一步进行验证）:</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">setenforce 0 （临时生效）  </span><br><span class="line">修改 /etc/selinux<span class="built_in">/config </span>下的 <span class="attribute">SELINUX</span>=disabled （重启后永久生效）</span><br></pre></td></tr></table></figure>
<h2 id="八-所有节点配置NTP服务（参照-补充说明1）"><a href="#八-所有节点配置NTP服务（参照-补充说明1）" class="headerlink" title="八 所有节点配置NTP服务（参照:补充说明1）"></a>八 所有节点配置NTP服务（参照:补充说明1）</h2><p>集群中所有主机必须保持时间同步，如果时间相差较大会引起各种问题。 具体思路如下：</p>
<p>master节点作为ntp服务器与外界对时中心同步时间，随后对所有datanode节点提供时间同步服务。</p>
<p>所有datanode节点以master节点为基础同步时间。</p>
<p>所有节点安装相关组件： <code>yum install ntp</code> 。完成后，配置开机启动： <code>chkconfig ntpd on</code> ,检查是否设置成功： <code>chkconfig --list ntpd</code> 其中2-5为on状态就代表成功。  </p>
<h3 id="1-主节点配置"><a href="#1-主节点配置" class="headerlink" title="1 主节点配置"></a>1 主节点配置</h3><p>在配置之前，先使用ntpdate手动同步一下时间，免得本机与对时中心时间差距太大，使得ntpd不能正常同步。这里选用65.55.56.206作为对时中心, <code>ntpdate -u 65.55.56.206</code> 。</p>
<p>ntp服务只有一个配置文件，配置好了就OK。 这里只给出有用的配置，不需要的配置都用#注掉，这里就不在给出：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">driftfile /var/lib/ntp/drift</span><br><span class="line">restrict 127.0.0.1</span><br><span class="line">restrict -6 ::1</span><br><span class="line">restrict<span class="built_in"> default </span>nomodify notrap </span><br><span class="line">server 65.55.56.206 prefer</span><br><span class="line">includefile /etc/ntp/crypto/pw</span><br><span class="line">keys /etc/ntp/keys</span><br></pre></td></tr></table></figure>
<p>配置文件完成，保存退出，启动服务，执行如下命令： <code>service ntpd start</code></p>
<p>检查是否成功，用ntpstat命令查看同步状态，出现以下状态代表启动成功：  </p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">synchronised <span class="keyword">to</span><span class="built_in"> NTP server </span>() at stratum 2</span><br><span class="line">time correct <span class="keyword">to</span> within 74 ms</span><br><span class="line">polling<span class="built_in"> server </span>every 128 s</span><br></pre></td></tr></table></figure>
<p>如果出现异常请等待几分钟，一般等待5-10分钟才能同步。</p>
<h3 id="2-配置ntp客户端（所有datanode节点）"><a href="#2-配置ntp客户端（所有datanode节点）" class="headerlink" title="2 配置ntp客户端（所有datanode节点）"></a>2 配置ntp客户端（所有datanode节点）</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">driftfile /var/lib/ntp/drift</span><br><span class="line">restrict 127.0.0.1</span><br><span class="line">restrict -6 ::1</span><br><span class="line">restrict<span class="built_in"> default </span>kod nomodify notrap nopeer noquery</span><br><span class="line">restrict -6<span class="built_in"> default </span>kod nomodify notrap nopeer noquery</span><br><span class="line"><span class="comment">#这里是主节点的主机名或者ip</span></span><br><span class="line">server n1</span><br><span class="line">includefile /etc/ntp/crypto/pw</span><br><span class="line">keys /etc/ntp/keys</span><br></pre></td></tr></table></figure>
<p>ok保存退出，请求服务器前，请先使用ntpdate手动同步一下时间： ‘ntpdate -u n1 (主节点ntp服务器)’</p>
<p>这里可能出现同步失败的情况，请不要着急，一般是本地的ntp服务器还没有正常启动，一般需要等待5-10分钟才可以正常同步。启动服务： <code>service ntpd start</code></p>
<p>因为是连接内网，这次启动等待的时间会比master节点快一些，但是也需要耐心等待一会儿。  </p>
<p><strong>补充说明1:</strong>由于咱们使用的服务器没有联网，因此这一步可省略，但是你要检查一下你的三台主机之间的时间是否差异太大，如果太大将会对下面的安装造成不必要的麻烦，可以用<code>date</code>命令查看当前主机的时间，然后如果发现差异太大的话，使用命令：<code>date -s + 时间点（主节点上面的时间点）</code>进行时间同步。  </p>
<h2 id="九-安装Cloudera-Manager-Server-和Agent"><a href="#九-安装Cloudera-Manager-Server-和Agent" class="headerlink" title="九 安装Cloudera Manager Server 和Agent"></a>九 安装Cloudera Manager Server 和Agent</h2><h3 id="1-主节点解压安装"><a href="#1-主节点解压安装" class="headerlink" title="1 主节点解压安装"></a>1 主节点解压安装</h3><p>咱们公司内部的Cloudera manager存放在ftp服务器上，可以使用命令：  </p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp hadoop<span class="variable">@192</span>.<span class="number">168.1</span>.<span class="number">110</span><span class="symbol">:/home/hadoop/Hadoop/CDH/CDHCentOS6/cdh5</span>.<span class="number">3.2</span>/cloudera-manager-el6-cm5.<span class="number">3.2_</span>x86_64.tar.gz /opt</span><br></pre></td></tr></table></figure>
<p>cloudera manager的目录默认位置在/opt下，解压： <code>tar xzvf cloudera-manager*.tar.gz</code>将解压后的cm-5.2.3和cloudera目录放到/opt目录下。  </p>
<h3 id="2-为Cloudera-Manager-5建立数据库"><a href="#2-为Cloudera-Manager-5建立数据库" class="headerlink" title="2 为Cloudera Manager 5建立数据库"></a>2 为Cloudera Manager 5建立数据库</h3><p>首先需要去MySql的官网下载JDBC驱动， <a href="http://dev.mysql.com/downloads/connector/j/" target="_blank" rel="noopener">http://dev.mysql.com/downloads/connector/j/</a> ，解压后，找到mysql-connector-java-5.1.33-bin.jar，放到/opt/cm-5.1.3/share/cmf/lib/中。<br>本公司内部可以使用命令：  </p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp hadoop<span class="variable">@192</span>.<span class="number">168.1</span>.<span class="number">110</span><span class="symbol">:/home/hadoop/Hadoop/CDH/CDHCentOS6/mysql-connector-java-</span><span class="number">5.1</span>.<span class="number">36</span>.tar.gz /usr/local</span><br></pre></td></tr></table></figure>
<p>将数据库的JDBC驱动放在/usr/local/目录下，进入到此目录下，进行解压：<code>tar -zxvf mysql-connector-java-5.1.36.tar.gz</code>。解压后，找到mysql-connector-java-5.1.36-bin.jar，放到/opt/cm-5.3.2/share/cmf/lib/中。<br>在主节点初始化CM5的数据库：  </p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/<span class="keyword">opt</span>/<span class="keyword">cm</span>-<span class="number">5.3</span>.<span class="number">2</span>/share/cmf/schema/scm_prepare_database.<span class="keyword">sh</span> mysql <span class="keyword">cm</span> -hlocalhost -uroot -p123456 --scm-host localhost scm scm scm</span><br></pre></td></tr></table></figure>
<h2 id="十-Agent配置"><a href="#十-Agent配置" class="headerlink" title="十 Agent配置"></a>十 Agent配置</h2><p>修改/opt/cm-5.3.2/etc/cloudera-scm-agent/config.ini中的server_host为主节点的主机名。  </p>
<h3 id="1-同步Agent到其他节点"><a href="#1-同步Agent到其他节点" class="headerlink" title="1 同步Agent到其他节点"></a>1 同步Agent到其他节点</h3><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp -r /opt/cm-<span class="number">5.3</span>.<span class="number">2</span> root<span class="variable">@dhc</span>-<span class="number">5</span><span class="symbol">:/opt/</span></span><br><span class="line">scp -r /opt/cm-<span class="number">5.3</span>.<span class="number">2</span> root<span class="variable">@dhc</span>-<span class="number">6</span><span class="symbol">:/opt/</span></span><br></pre></td></tr></table></figure>
<h3 id="2-在所有节点创建cloudera-scm用户"><a href="#2-在所有节点创建cloudera-scm用户" class="headerlink" title="2 在所有节点创建cloudera-scm用户"></a>2 在所有节点创建cloudera-scm用户</h3><figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">useradd </span><span class="built_in">--system</span> <span class="built_in">--home=/opt/cm-5.3.2/run/cloudera-scm-server/</span> <span class="built_in">--no-create-home</span> <span class="built_in">--shell=/bin/false</span> <span class="built_in">--comment</span> <span class="string">"Cloudera SCM User"</span> <span class="string">cloudera-scm</span></span><br></pre></td></tr></table></figure>
<h3 id="3-准备Parcels，用以安装CDH5"><a href="#3-准备Parcels，用以安装CDH5" class="headerlink" title="3 准备Parcels，用以安装CDH5"></a>3 准备Parcels，用以安装CDH5</h3><p>将CHD5相关的Parcel包放到主节点的/opt/cloudera/parcel-repo/目录中，相关的文件如下：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">CDH-5</span><span class="selector-class">.1</span><span class="selector-class">.3-1</span><span class="selector-class">.cdh5</span><span class="selector-class">.1</span><span class="selector-class">.3</span><span class="selector-class">.p0</span><span class="selector-class">.12-el6</span><span class="selector-class">.parcel</span></span><br><span class="line"><span class="selector-tag">CDH-5</span><span class="selector-class">.1</span><span class="selector-class">.3-1</span><span class="selector-class">.cdh5</span><span class="selector-class">.1</span><span class="selector-class">.3</span><span class="selector-class">.p0</span><span class="selector-class">.12-el6</span><span class="selector-class">.parcel</span><span class="selector-class">.sha1</span></span><br><span class="line"><span class="selector-tag">manifest</span><span class="selector-class">.json</span></span><br></pre></td></tr></table></figure>
<p>本公司内部的这些文件可以使用命令：</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">scp hadoop<span class="variable">@192</span>.<span class="number">168.1</span>.<span class="number">110</span><span class="symbol">:/home/hadoop/Hadoop/CDH/CDHCentOS6/cdh5</span>.<span class="number">3.2</span>/CDH-<span class="number">5.3</span>.<span class="number">2</span>-<span class="number">1</span>.cdh5.<span class="number">3.2</span>.p<span class="number">0</span>.<span class="number">10</span>-el6.parcel /opt/cloudera/parcel-repo/ </span><br><span class="line">	</span><br><span class="line">scp hadoop<span class="variable">@192</span>.<span class="number">168.1</span>.<span class="number">110</span><span class="symbol">:/home/hadoop/Hadoop/CDH/CDHCentOS6/cdh5</span>.<span class="number">3.2</span>/CDH-<span class="number">5.3</span>.<span class="number">2</span>-<span class="number">1</span>.cdh5.<span class="number">3.2</span>.p<span class="number">0</span>.<span class="number">10</span>-el6.parcel.sha1 /opt/cloudera/parcel-repo/</span><br><span class="line"></span><br><span class="line">scp hadoop<span class="variable">@192</span>.<span class="number">168.1</span>.<span class="number">110</span><span class="symbol">:/home/hadoop/Hadoop/CDH/CDHCentOS6/cdh5</span>.<span class="number">3.2</span>/manifest.json /opt/cloudera/parcel-repo/</span><br></pre></td></tr></table></figure>
<p>最后将CDH-5.1.3-1.cdh5.1.3.p0.12-el6.parcel.sha1，重命名为CDH-5.1.3-1.cdh5.1.3.p0.12-el6.parcel.sha，这点必须注意，否则，系统会重新下载CDH-5.1.3-1.cdh5.1.3.p0.12-el6.parcel文件。  </p>
<h3 id="4-相关启动脚本"><a href="#4-相关启动脚本" class="headerlink" title="4 相关启动脚本"></a>4 相关启动脚本</h3><p>通过 <code>/opt/cm-5.3.2/etc/init.d/cloudera-scm-server start</code> 启动服务端。（只需主节点启动这项服务即可）</p>
<p>通过 <code>/opt/cm-5.3.2/etc/init.d/cloudera-scm-agent start</code> 启动Agent服务。（每个节点都要启动这项服务）<br>我们启动的其实是个service脚本，需要停止服务将以上的start参数改为stop就可以了，重启是restart。</p>
<h2 id="十一-CDH5的安装配置"><a href="#十一-CDH5的安装配置" class="headerlink" title="十一 CDH5的安装配置"></a>十一 CDH5的安装配置</h2><p>Cloudera Manager Server和Agent都启动以后，就可以进行CDH5的安装配置了。</p>
<p>这时可以通过浏览器访问主节点的7180端口测试一下了（由于CM Server的启动需要花点时间，这里可能要等待一会才能访问），默认的用户名和密码均为admin：<br><img src="/img/hadoop/15/lbClZhF.png" alt><br>可以在下图中看到，免费版本的CM5已经没有原来50个节点数量的限制了。<br><img src="/img/hadoop/15/QrOl2Ux.png" alt><br>各个Agent节点正常启动后，可以在当前管理的主机列表中看到对应的节点。选择要安装的节点，点继续。<br><img src="/img/hadoop/15/cEHKp6M.png" alt><br>接下来，出现以下包名，说明本地Parcel包配置无误，直接点继续就可以了。<br><img src="/img/hadoop/15/pPHZEpo.png" alt><br>点击，继续，如果配置本地Parcel包无误，那么下图中的已下载，应该是瞬间就完成了，然后就是耐心等待分配过程就行了，大约10多分钟吧，取决于内网网速。</p>
<p><img src="/img/hadoop/15/oDvJINJ.png" alt></p>
<p>接下来是服务器检查，可能会遇到以下问题：</p>
<p>Cloudera 建议将 /proc/sys/vm/swappiness 设置为 0。当前设置为 60。使用 sysctl 命令在运行时更改该设置并编辑 /etc/sysctl.conf 以在重启后保存该设置。您可以继续进行安装，但可能会遇到问题，Cloudera Manager 报告您的主机由于交换运行状况不佳。以下主机受到影响：<br>通过 <code>echo 0 &gt; /proc/sys/vm/swappiness</code>(在主每个点的主机上运行）即可解决。<br>下面还有一个问题，是hive数据库缺少MySQL的jdbc的jar包，可以使用下面的命令：</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /opt/cm-<span class="number">5.3</span>.<span class="number">2</span>/share/cmf/<span class="class"><span class="keyword">lib</span>/<span class="title">mysql</span>-<span class="title">connector</span>-<span class="title">java</span>-5.1.36-<span class="title">bin</span>.<span class="title">jar</span> /<span class="title">opt</span>/<span class="title">cloudera</span>/<span class="title">parcels</span>/<span class="title">CDH</span>-5.3.2-1.<span class="title">cdh5</span>.3.2.<span class="title">p0</span>.10/<span class="title">lib</span>/<span class="title">hive</span>/<span class="title">lib</span>/</span></span><br></pre></td></tr></table></figure>
<p>运行完成以后，点击继续。</p>
<p><img src="/img/hadoop/15/KXdWwDC.png" alt></p>
<p>只有当所有选项前面都有对号之后才是正确的。<br>接下来是选择安装服务：<br><img src="/img/hadoop/15/bKwqzF8.png" alt><br>服务配置，一般情况下保持默认就可以了（Cloudera Manager会根据机器的配置自动进行配置，如果需要特殊调整，自行进行设置就可以了）：<br><img src="/img/hadoop/15/gqefAKw.png" alt><br>接下来是数据库的设置，检查通过后就可以进行下一步的操作了：<br><img src="/img/hadoop/15/fjdr7lP.png" alt><br>下面是集群设置的审查页面，我这里都是保持默认配置的：<br><img src="/img/hadoop/15/ljRHAXb.png" alt><br>终于到安装各个服务的地方了，注意，这里安装Hive的时候可能会报错，因为我们使用了MySql作为hive的元数据存储，hive默认没有带mysql的驱动，通过以下命令拷贝一个就行了：</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /opt/cm-<span class="number">5.3</span>.<span class="number">2</span>/share/cmf/<span class="class"><span class="keyword">lib</span>/<span class="title">mysql</span>-<span class="title">connector</span>-<span class="title">java</span>-5.1.36-<span class="title">bin</span>.<span class="title">jar</span> /<span class="title">opt</span>/<span class="title">cloudera</span>/<span class="title">parcels</span>/<span class="title">CDH</span>-5.3.2-1.<span class="title">cdh5</span>.2.3.<span class="title">p0</span>.12/<span class="title">lib</span>/<span class="title">hive</span>/<span class="title">lib</span>/</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/hadoop/15/yx9oU47.png" alt><br>服务的安装过程大约半小时内就可以完成：<br><img src="http://i.imgur.com/Zhbo37J.png" alt><br>安装完成后，就可以进入集群界面看一下集群的当前状况了。</p>
<p>这里可能会出现 无法发出查询：对 Service Monitor 的请求超时 的错误提示，如果各个组件安装没有问题，一般是因为服务器比较卡导致的，过一会刷新一下页面就好了：<br><img src="/img/hadoop/15/Iv8rg9R.png" alt><br>在每台主机上面修改一下ntp的配置就可：<br><img src="/img/hadoop/15/t6cRbTh.png" alt></p>
<p>还有一个要修改的地方,就是到最后的话会在HDFS上面出错，可以使用下面的命令进行配置：<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">sudo</span> -u oozie <span class="keyword">bash</span></span><br><span class="line"><span class="keyword">hadoop </span>fs -setrep -R <span class="number">1</span> /</span><br></pre></td></tr></table></figure></p>
<p>还有另外一个配置的地方只有等安装完成以后出错了才可以修改！<br>其他资料可参考：<a href="http://www.tuicool.com/articles/ENjmeaY/" target="_blank" rel="noopener">http://www.tuicool.com/articles/ENjmeaY/</a></p>

    </div>
    
    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="/" target="_blank">Ljjyy.com</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/archives/2019/07/100356.html" class="pre-post btn btn-default" title='大数据hadoop之 五十.ubuntu下离线安装CDH'>
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs">大数据hadoop之 五十.ubuntu下离线安装CDH</span>
        </a>
    
    
        <a href="/archives/2019/07/100354.html" class="next-post btn btn-default" title='大数据hadoop之 四十八.Hadoop的CDH发行版本'>
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs">大数据hadoop之 四十八.Hadoop的CDH发行版本</span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>


    <div id="comments">
        
	
    <div id="vcomments" class="valine"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="/assets/valine.min.js"></script>

    <script>
        new Valine({
            av: AV,
            el: '#vcomments',
            appId: '5MzTXYXkt03k101j0PmSDN34-gzGzoHsz',
            appKey: 'iwjYgwno6qj3wtDVVSbe8nYQ',
            placeholder: '说点什么吧',
            notify: false,
            verify: true,
            avatar: 'mm',
            meta: 'nick,mail'.split(','),
            pageSize: '10',
            path: window.location.pathname,
            lang: 'zh-CN'.toLowerCase()
        })
    </script>


    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">文章目录</h3>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#一-系统环境"><span class="toc-text">一 系统环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二-安装说明"><span class="toc-text">二 安装说明</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-官方参考文档："><span class="toc-text">1 官方参考文档：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Cloudera-Manager下载地址："><span class="toc-text">2 Cloudera Manager下载地址：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Cloudera-Manager安装要求信息："><span class="toc-text">3 Cloudera Manager安装要求信息：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-CDH安装包下载地址："><span class="toc-text">4 CDH安装包下载地址：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-注意-："><span class="toc-text">5 注意 ：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三-准备工作：系统环境搭建"><span class="toc-text">三 准备工作：系统环境搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-网络配置-所有节点"><span class="toc-text">1). 网络配置(所有节点)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-注意："><span class="toc-text">2) 注意：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#四-打通SSH，设置ssh无密码登陆（所有节点）"><span class="toc-text">四 打通SSH，设置ssh无密码登陆（所有节点）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-测试："><span class="toc-text">1 测试：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#五-安装Oracle的Java（所有节点）"><span class="toc-text">五 安装Oracle的Java（所有节点）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#六-安装配置MySql（主节点）"><span class="toc-text">六 安装配置MySql（主节点）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#官方MySql配置文档："><span class="toc-text">官方MySql配置文档：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#七-关闭防火墙和SELinux"><span class="toc-text">七 关闭防火墙和SELinux</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#注意："><span class="toc-text">注意：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#八-所有节点配置NTP服务（参照-补充说明1）"><span class="toc-text">八 所有节点配置NTP服务（参照:补充说明1）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-主节点配置"><span class="toc-text">1 主节点配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-配置ntp客户端（所有datanode节点）"><span class="toc-text">2 配置ntp客户端（所有datanode节点）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#九-安装Cloudera-Manager-Server-和Agent"><span class="toc-text">九 安装Cloudera Manager Server 和Agent</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-主节点解压安装"><span class="toc-text">1 主节点解压安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-为Cloudera-Manager-5建立数据库"><span class="toc-text">2 为Cloudera Manager 5建立数据库</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#十-Agent配置"><span class="toc-text">十 Agent配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-同步Agent到其他节点"><span class="toc-text">1 同步Agent到其他节点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-在所有节点创建cloudera-scm用户"><span class="toc-text">2 在所有节点创建cloudera-scm用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-准备Parcels，用以安装CDH5"><span class="toc-text">3 准备Parcels，用以安装CDH5</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-相关启动脚本"><span class="toc-text">4 相关启动脚本</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#十一-CDH5的安装配置"><span class="toc-text">十一 CDH5的安装配置</span></a></li></ol>
        
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
</div>

            </div>
            <div class="col-sm-12">
                <span>Copyright &copy; 2019-2023&emsp;<a href="/" class="copyright-links" target="_blank" rel="nofollow">Ljjyy.com</a>
                </span> |
                <span>
                    <a href="/about/" class="copyright-links" target="_blank" rel="nofollow">关于我们</a>
                </span> |                
                <span>
                    <a href="/sitemap.xml" class="copyright-links" target="_blank" rel="nofollow">网站地图</a>
                </span> |
                <span>
                    <a href="/archives/" class="copyright-links" target="_blank" rel="nofollow">时间轴</a>
                </span>              
            </div>
        </div>
    </div>
</div>







<script src="/js/app.js?rev=@@hash"></script>

</body>
</html>
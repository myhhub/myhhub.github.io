<!DOCTYPE HTML>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <meta name="theme-version" content="1.2.3">
    <meta name="root" content="/">
    <link rel="dns-prefetch" href="https://www.ljjyy.com">
    <!--SEO-->

    <meta name="keywords" content="hadoop,scala">


    <meta name="description" content="一、初识类和对象Scala的类与Java的类具有非常多的相似性，示例如下：
12345678910111213141516171819202122232425262728293031323334...">



<meta name="robots" content="all">
<meta name="google" content="all">
<meta name="googlebot" content="all">
<meta name="verify" content="all">

    <!--Title-->


<title>Scala类和对象 | 来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟</title>


    <link rel="alternate" href="/atom.xml" title="来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟" type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    



<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    
	<div class="hide">
        <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
        <script>LA.init({id: "JgbNOaw1xxsmUUsQ",ck: "JgbNOaw1xxsmUUsQ"})</script>
	</div>






    
    <meta name="baidu-site-verification" content="dTHILoORpx">


    <script>
        (function(){
            var bp = document.createElement('script');
            var curProtocol = window.location.protocol.split(':')[0];
            if (curProtocol === 'https') {
                bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
            }
            else {
                bp.src = 'http://push.zhanzhang.baidu.com/push.js';
            }
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(bp, s);
        })();
    </script>

</head>

</html>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header"  >
    <div class="main-header-box">
        <!--a class="header-avatar" href="/" title='Ljjyy.com'>
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a-->
        <div class="branding">
            
                <h2> 多读书多实践，勤思考善领悟 </h2>
            
    	  </div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">

        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="web-logo"  href="/" title='Ljjyy.com'></a>
                    <!--a class="navbar-brand" href="https://www.ljjyy.com">来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟</a-->
                </div>
                <div class="collapse navbar-collapse" id="main-menu" style="">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>首页</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/cloud/"><i class="fa "></i>云计算</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/front/"><i class="fa "></i>前端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/back/"><i class="fa "></i>后端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/devops/"><i class="fa "></i>运维</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/crack/"><i class="fa "></i>破解</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/penetration/"><i class="fa "></i>渗透</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/tool/"><i class="fa "></i>工具</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/other/"><i class="fa "></i>其他</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="Scala类和对象">
            
	            Scala类和对象
            
        </h1>
        <div class="post-meta">
    
        <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
            <a class="category-link" href="/categories/back/">后端</a>
        </span>
    

    
        <span class="fa-wrap">
            <i class="fa fa-tags"></i>
            <span class="tags-meta">
                
                    <a class="tag-link" href="/tags/hadoop/">hadoop</a> <a class="tag-link" href="/tags/scala/">scala</a>
                
            </span>
        </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2019/07/18</span>
        </span>
        
    
</div>
            
            
            <p class="fa fa-exclamation-triangle warning">
                本文于<strong>1432</strong>天之前发表，文中内容可能已经过时。
            </p>
        
    </div>
    
    <div class="post-body post-content">
        <h2 id="一、初识类和对象"><a href="#一、初识类和对象" class="headerlink" title="一、初识类和对象"></a>一、初识类和对象</h2><p>Scala的类与Java的类具有非常多的相似性，示例如下：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 在scala中，类不需要用public声明,所有的类都具有公共的可见性</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2. 声明私有变量,用var修饰的变量默认拥有getter/setter属性</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> age = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3.如果声明的变量不需要进行初始赋值，此时Scala就无法进行类型推断，所以需要显式指明类型</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> name: <span class="type">String</span> = _</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 4. 定义方法,应指明传参类型。返回值类型不是必须的，Scala可以自动推断出来，但是为了方便调用者，建议指明</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">growUp</span></span>(step: <span class="type">Int</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">    age += step</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 5.对于改值器方法(即改变对象状态的方法),即使不需要传入参数,也建议在声明中包含()</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">growUpFix</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">    age += <span class="number">10</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 6.对于取值器方法(即不会改变对象状态的方法),不必在声明中包含()</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">currentAge</span></span>: <span class="type">Int</span> = &#123;</span><br><span class="line">    age</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 7.不建议使用return关键字,默认方法中最后一行代码的计算结果为返回值</span></span><br><span class="line"><span class="comment">   *   如果方法很简短，甚至可以写在同一行中</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">getName</span></span>: <span class="type">String</span> = name</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 伴生对象</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">// 8.创建类的实例</span></span><br><span class="line">    <span class="keyword">val</span> counter = <span class="keyword">new</span> <span class="type">Person</span>()</span><br><span class="line">    <span class="comment">// 9.用var修饰的变量默认拥有getter/setter属性，可以直接对其进行赋值</span></span><br><span class="line">    counter.age = <span class="number">12</span></span><br><span class="line">    counter.growUp(<span class="number">8</span>)</span><br><span class="line">    counter.growUpFix()</span><br><span class="line">    <span class="comment">// 10.用var修饰的变量默认拥有getter/setter属性，可以直接对其进行取值，输出: 30</span></span><br><span class="line">    println(counter.age)</span><br><span class="line">    <span class="comment">// 输出: 30</span></span><br><span class="line">    println(counter.currentAge)</span><br><span class="line">    <span class="comment">// 输出: null</span></span><br><span class="line">    println(counter.getName)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<h2 id="二、类"><a href="#二、类" class="headerlink" title="二、类"></a>二、类</h2><h3 id="2-1-成员变量可见性"><a href="#2-1-成员变量可见性" class="headerlink" title="2.1 成员变量可见性"></a>2.1 成员变量可见性</h3><p>Scala中成员变量的可见性默认都是public，如果想要保证其不被外部干扰，可以声明为private，并通过getter和setter方法进行访问。</p>
<h3 id="2-2-getter和setter属性"><a href="#2-2-getter和setter属性" class="headerlink" title="2.2 getter和setter属性"></a>2.2 getter和setter属性</h3><p>getter和setter属性与声明变量时使用的关键字有关：</p>
<ul>
<li>使用var关键字：变量同时拥有getter和setter属性；</li>
<li>使用val关键字：变量只拥有getter属性；</li>
<li>使用private[this]：变量既没有getter属性、也没有setter属性，只能通过内部的方法访问；</li>
</ul>
<p>需要特别说明的是：假设变量名为age,则其对应的get和set的方法名分别叫做<code>age</code>和<code>age_=</code>。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">val</span> name = <span class="string">"myhhub"</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> age = <span class="number">12</span></span><br><span class="line">  <span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">var</span> birthday = <span class="string">"2019-08-08"</span></span><br><span class="line">  <span class="comment">// birthday只能被内部方法所访问</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">getBirthday</span></span>: <span class="type">String</span> = birthday</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> person = <span class="keyword">new</span> <span class="type">Person</span></span><br><span class="line">    person.age = <span class="number">30</span></span><br><span class="line">    println(person.name)</span><br><span class="line">    println(person.age)</span><br><span class="line">    println(person.getBirthday)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>解释说明：</p>
<p>示例代码中<code>person.age=30</code>在执行时内部实际是调用了方法<code>person.age_=(30)</code>，而<code>person.age</code>内部执行时实际是调用了<code>person.age()</code>方法。想要证明这一点，可以对代码进行反编译。同时为了说明成员变量可见性的问题，我们对下面这段代码进行反编译：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">&gt; <span class="keyword">var</span> name = <span class="string">""</span></span><br><span class="line">&gt; <span class="keyword">private</span> <span class="keyword">var</span> age = <span class="string">""</span></span><br><span class="line">&gt; &#125;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>依次执行下面编译命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> &gt; scalac Person.scala</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> &gt; javap -private Person</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"></span></span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>编译结果如下，从编译结果可以看到实际的get和set的方法名(因为JVM不允许在方法名中出现＝，所以它被翻译成$eq)，同时也验证了成员变量默认的可见性为public。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt; Compiled from <span class="string">"Person.scala"</span></span><br><span class="line">&gt; <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">&gt; <span class="keyword">private</span> java.lang.String name;</span><br><span class="line">&gt; <span class="keyword">private</span> java.lang.String age;</span><br><span class="line">&gt;  </span><br><span class="line">&gt; <span class="keyword">public</span> java.lang.<span class="function">String <span class="title">name</span><span class="params">()</span></span>;</span><br><span class="line">&gt; <span class="keyword">public</span> <span class="keyword">void</span> name_$eq(java.lang.String);</span><br><span class="line">&gt;  </span><br><span class="line">&gt; <span class="keyword">private</span> java.lang.<span class="function">String <span class="title">age</span><span class="params">()</span></span>;</span><br><span class="line">&gt; <span class="keyword">private</span> <span class="keyword">void</span> age_$eq(java.lang.String);</span><br><span class="line">&gt;  </span><br><span class="line">&gt; <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span></span>;</span><br><span class="line">&gt; &#125;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="2-3-BeanProperty"><a href="#2-3-BeanProperty" class="headerlink" title="2.3 @BeanProperty"></a>2.3 @BeanProperty</h3><p>在上面的例子中可以看到我们是使用<code>.</code>来对成员变量进行访问的，如果想要额外生成和Java中一样的getXXX和setXXX方法，则需要使用@BeanProperty进行注解。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="meta">@BeanProperty</span> <span class="keyword">var</span> name = <span class="string">""</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> person = <span class="keyword">new</span> <span class="type">Person</span></span><br><span class="line">    person.setName(<span class="string">"myhhub"</span>)</span><br><span class="line">    println(person.getName)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-4-主构造器"><a href="#2-4-主构造器" class="headerlink" title="2.4 主构造器"></a>2.4 主构造器</h3><p>和Java不同的是，Scala类的主构造器直接写在类名后面，但注意以下两点：</p>
<ul>
<li>主构造器传入的参数默认就是val类型的，即不可变，你没有办法在内部改变传参；</li>
<li>写在主构造器中的代码块会在类初始化的时候被执行，功能类似于Java的静态代码块<code>static{}</code></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">val name: <span class="type">String</span>, val age: <span class="type">Int</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  println(<span class="string">"功能类似于Java的静态代码块static&#123;&#125;"</span>)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">getDetail</span></span>: <span class="type">String</span> = &#123;</span><br><span class="line">    <span class="comment">//name="heibai" 无法通过编译</span></span><br><span class="line">    name + <span class="string">":"</span> + age</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> person = <span class="keyword">new</span> <span class="type">Person</span>(<span class="string">"myhhub"</span>, <span class="number">20</span>)</span><br><span class="line">    println(person.getDetail)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">输出：</span><br><span class="line">功能类似于<span class="type">Java</span>的静态代码块static&#123;&#125;</span><br><span class="line">myhhub:<span class="number">20</span></span><br></pre></td></tr></table></figure>
<h3 id="2-5-辅助构造器"><a href="#2-5-辅助构造器" class="headerlink" title="2.5 辅助构造器"></a>2.5 辅助构造器</h3><p>辅助构造器有两点硬性要求：</p>
<ul>
<li>辅助构造器的名称必须为this；</li>
<li>每个辅助构造器必须以主构造器或其他的辅助构造器的调用开始。</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">val name: <span class="type">String</span>, val age: <span class="type">Int</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> birthday = <span class="string">""</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 1.辅助构造器的名称必须为this</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(name: <span class="type">String</span>, age: <span class="type">Int</span>, birthday: <span class="type">String</span>) &#123;</span><br><span class="line">    <span class="comment">// 2.每个辅助构造器必须以主构造器或其他的辅助构造器的调用开始</span></span><br><span class="line">    <span class="keyword">this</span>(name, age)</span><br><span class="line">    <span class="keyword">this</span>.birthday = birthday</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3.重写toString方法</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">toString</span></span>: <span class="type">String</span> = name + <span class="string">":"</span> + age + <span class="string">":"</span> + birthday</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="keyword">new</span> <span class="type">Person</span>(<span class="string">"myhhub"</span>, <span class="number">20</span>, <span class="string">"2019-02-21"</span>))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-6-方法传参不可变"><a href="#2-6-方法传参不可变" class="headerlink" title="2.6 方法传参不可变"></a>2.6 方法传参不可变</h3><p>在Scala中，方法传参默认是val类型，即不可变，这意味着你在方法体内部不能改变传入的参数。这和Scala的设计理念有关，Scala遵循函数式编程理念，强调方法不应该有副作用。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">low</span></span>(word: <span class="type">String</span>): <span class="type">String</span> = &#123;</span><br><span class="line">    word=<span class="string">"word"</span> <span class="comment">// 编译无法通过</span></span><br><span class="line">    word.toLowerCase</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<h2 id="三、对象"><a href="#三、对象" class="headerlink" title="三、对象"></a>三、对象</h2><p>Scala中的object(对象)主要有以下几个作用：</p>
<ul>
<li>因为object中的变量和方法都是静态的，所以可以用于存放工具类；</li>
<li>可以作为单例对象的容器；</li>
<li>可以作为类的伴生对象；</li>
<li>可以拓展类或特质；</li>
<li>可以拓展Enumeration来实现枚举。</li>
</ul>
<h3 id="3-1-工具类-amp-单例-amp-全局静态常量-amp-拓展特质"><a href="#3-1-工具类-amp-单例-amp-全局静态常量-amp-拓展特质" class="headerlink" title="3.1 工具类&amp;单例&amp;全局静态常量&amp;拓展特质"></a>3.1 工具类&amp;单例&amp;全局静态常量&amp;拓展特质</h3><p>这里我们创建一个对象<code>Utils</code>,代码如下：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Utils</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">   *1. 相当于Java中的静态代码块static,会在对象初始化时候被执行</span></span><br><span class="line"><span class="comment">   *   这种方式实现的单例模式是饿汉式单例,即无论你的单例对象是否被用到，</span></span><br><span class="line"><span class="comment">   *   都在一开始被初始化完成</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">val</span> person = <span class="keyword">new</span> <span class="type">Person</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 2. 全局固定常量 等价于Java的public static final </span></span><br><span class="line">  <span class="keyword">val</span> <span class="type">CONSTANT</span> = <span class="string">"固定常量"</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3. 全局静态方法</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">low</span></span>(word: <span class="type">String</span>): <span class="type">String</span> = &#123;</span><br><span class="line">    word.toLowerCase</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其中Person类代码如下：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  println(<span class="string">"Person默认构造器被调用"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>新建测试类：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.ScalaApp对象扩展自trait App</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaApp</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2.验证单例</span></span><br><span class="line">  println(<span class="type">Utils</span>.person == <span class="type">Utils</span>.person)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3.获取全局常量</span></span><br><span class="line">  println(<span class="type">Utils</span>.<span class="type">CONSTANT</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 4.调用工具类</span></span><br><span class="line">  println(<span class="type">Utils</span>.low(<span class="string">"ABCDEFG"</span>))</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出如下：</span></span><br><span class="line"><span class="type">Person</span>默认构造器被调用</span><br><span class="line"><span class="literal">true</span></span><br><span class="line">固定常量</span><br><span class="line">abcdefg</span><br></pre></td></tr></table></figure>
<h3 id="3-2-伴生对象"><a href="#3-2-伴生对象" class="headerlink" title="3.2 伴生对象"></a>3.2 伴生对象</h3><p>在Java中，你通常会用到既有实例方法又有静态方法的类，在Scala中，可以通过类和与类同名的伴生对象来实现。类和伴生对象必须存在与同一个文件中。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">val</span> name = <span class="string">"myhhub"</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">getName</span></span>: <span class="type">String</span> = &#123;</span><br><span class="line">    <span class="comment">// 调用伴生对象的方法和属性</span></span><br><span class="line">    <span class="type">Person</span>.toLow(<span class="type">Person</span>.<span class="type">PREFIX</span> + name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 伴生对象</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">val</span> <span class="type">PREFIX</span> = <span class="string">"prefix-"</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">toLow</span></span>(word: <span class="type">String</span>): <span class="type">String</span> = &#123;</span><br><span class="line">    word.toLowerCase</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> person = <span class="keyword">new</span> <span class="type">Person</span></span><br><span class="line">    <span class="comment">// 输出 prefix-myhhub  </span></span><br><span class="line">    println(person.getName)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-3-实现枚举类"><a href="#3-3-实现枚举类" class="headerlink" title="3.3 实现枚举类"></a>3.3 实现枚举类</h3><p>Scala中没有直接提供枚举类，需要通过扩展<code>Enumeration</code>，并调用其中的Value方法对所有枚举值进行初始化来实现。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Color</span> <span class="keyword">extends</span> <span class="title">Enumeration</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 1.类型别名,建议声明,在import时有用</span></span><br><span class="line">  <span class="class"><span class="keyword">type</span> <span class="title">Color</span> </span>= <span class="type">Value</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2.调用Value方法</span></span><br><span class="line">  <span class="keyword">val</span> <span class="type">GREEN</span> = <span class="type">Value</span></span><br><span class="line">  <span class="comment">// 3.只传入id</span></span><br><span class="line">  <span class="keyword">val</span> <span class="type">RED</span> = <span class="type">Value</span>(<span class="number">3</span>)</span><br><span class="line">  <span class="comment">// 4.只传入值</span></span><br><span class="line">  <span class="keyword">val</span> <span class="type">BULE</span> = <span class="type">Value</span>(<span class="string">"blue"</span>)</span><br><span class="line">  <span class="comment">// 5.传入id和值</span></span><br><span class="line">  <span class="keyword">val</span> <span class="type">YELLOW</span> = <span class="type">Value</span>(<span class="number">5</span>, <span class="string">"yellow"</span>)</span><br><span class="line">  <span class="comment">// 6. 不传入id时,id为上一个声明变量的id+1,值默认和变量名相同</span></span><br><span class="line">  <span class="keyword">val</span> <span class="type">PINK</span> = <span class="type">Value</span></span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用枚举类：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.使用类型别名导入枚举类</span></span><br><span class="line"><span class="keyword">import</span> com.myhhub.<span class="type">Color</span>.<span class="type">Color</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaApp</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2.使用枚举类型,这种情况下需要导入枚举类</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">printColor</span></span>(color: <span class="type">Color</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(color.toString)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3.判断传入值和枚举值是否相等</span></span><br><span class="line">  println(<span class="type">Color</span>.<span class="type">YELLOW</span>.toString == <span class="string">"yellow"</span>)</span><br><span class="line">  <span class="comment">// 4.遍历枚举类和值</span></span><br><span class="line">  <span class="keyword">for</span> (c &lt;- <span class="type">Color</span>.values) println(c.id + <span class="string">":"</span> + c.toString)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line"><span class="literal">true</span></span><br><span class="line"><span class="number">0</span>:<span class="type">GREEN</span></span><br><span class="line"><span class="number">3</span>:<span class="type">RED</span></span><br><span class="line"><span class="number">4</span>:blue</span><br><span class="line"><span class="number">5</span>:yellow</span><br><span class="line"><span class="number">6</span>:<span class="type">PINK</span></span><br></pre></td></tr></table></figure>
<p><br></p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ol>
<li>Martin Odersky . Scala编程(第3版)[M] . 电子工业出版社 . 2018-1-1  </li>
<li>凯.S.霍斯特曼  . 快学Scala(第2版)[M] . 电子工业出版社 . 2017-7</li>
</ol>

    </div>
    
    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="/" target="_blank">Ljjyy.com</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/archives/2019/07/100452.html" class="pre-post btn btn-default" title='Scala继承和特质'>
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs">Scala继承和特质</span>
        </a>
    
    
        <a href="/archives/2019/07/100450.html" class="next-post btn btn-default" title='Scala集合Map & Tuple'>
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs">Scala集合Map & Tuple</span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>


    <div id="comments">
        
	
    <div id="vcomments" class="valine"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="/assets/valine.min.js"></script>

    <script>
        new Valine({
            av: AV,
            el: '#vcomments',
            appId: '5MzTXYXkt03k101j0PmSDN34-gzGzoHsz',
            appKey: 'iwjYgwno6qj3wtDVVSbe8nYQ',
            placeholder: '说点什么吧',
            notify: false,
            verify: true,
            avatar: 'mm',
            meta: 'nick,mail'.split(','),
            pageSize: '10',
            path: window.location.pathname,
            lang: 'zh-CN'.toLowerCase()
        })
    </script>


    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">文章目录</h3>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#一、初识类和对象"><span class="toc-text">一、初识类和对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二、类"><span class="toc-text">二、类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-成员变量可见性"><span class="toc-text">2.1 成员变量可见性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-getter和setter属性"><span class="toc-text">2.2 getter和setter属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-BeanProperty"><span class="toc-text">2.3 @BeanProperty</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-主构造器"><span class="toc-text">2.4 主构造器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-辅助构造器"><span class="toc-text">2.5 辅助构造器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-方法传参不可变"><span class="toc-text">2.6 方法传参不可变</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三、对象"><span class="toc-text">三、对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-工具类-amp-单例-amp-全局静态常量-amp-拓展特质"><span class="toc-text">3.1 工具类&amp;单例&amp;全局静态常量&amp;拓展特质</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-伴生对象"><span class="toc-text">3.2 伴生对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-实现枚举类"><span class="toc-text">3.3 实现枚举类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参考资料"><span class="toc-text">参考资料</span></a></li></ol>
        
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
</div>

            </div>
            <div class="col-sm-12">
                <span>Copyright &copy; 2019-2023&emsp;<a href="/" class="copyright-links" target="_blank" rel="nofollow">Ljjyy.com</a>
                </span> |
                <span>
                    <a href="/about/" class="copyright-links" target="_blank" rel="nofollow">关于我们</a>
                </span> |                
                <span>
                    <a href="/sitemap.xml" class="copyright-links" target="_blank" rel="nofollow">网站地图</a>
                </span> |
                <span>
                    <a href="/archives/" class="copyright-links" target="_blank" rel="nofollow">时间轴</a>
                </span>              
            </div>
        </div>
    </div>
</div>







<script src="/js/app.js?rev=@@hash"></script>

</body>
</html>
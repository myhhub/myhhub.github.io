<!DOCTYPE HTML>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <meta name="theme-version" content="1.2.3">
    <meta name="root" content="/">
    <link rel="dns-prefetch" href="https://www.ljjyy.com">
    <!--SEO-->

    <meta name="keywords" content="java">


    <meta name="description" content="官方英文原版： https://docs.oracle.com/en/java/javase/11/migrate/index.html#JSMIG-GUID-C25E2B1D-6C24-440...">



<meta name="robots" content="all">
<meta name="google" content="all">
<meta name="googlebot" content="all">
<meta name="verify" content="all">

    <!--Title-->


<title>Oracle JDK迁移指南，JDK11变化详解，JDK8升级JDK11详细指南 | 来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟</title>


    <link rel="alternate" href="/atom.xml" title="来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟" type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    



<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    
	<div class="hide">
        <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
        <script>LA.init({id: "JgbNOaw1xxsmUUsQ",ck: "JgbNOaw1xxsmUUsQ"})</script>
	</div>






    
    <meta name="baidu-site-verification" content="dTHILoORpx">


    <script>
        (function(){
            var bp = document.createElement('script');
            var curProtocol = window.location.protocol.split(':')[0];
            if (curProtocol === 'https') {
                bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
            }
            else {
                bp.src = 'http://push.zhanzhang.baidu.com/push.js';
            }
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(bp, s);
        })();
    </script>

</head>

</html>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header"  >
    <div class="main-header-box">
        <!--a class="header-avatar" href="/" title='Ljjyy.com'>
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a-->
        <div class="branding">
            
                <h2> 多读书多实践，勤思考善领悟 </h2>
            
    	  </div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">

        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="web-logo"  href="/" title='Ljjyy.com'></a>
                    <!--a class="navbar-brand" href="https://www.ljjyy.com">来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟</a-->
                </div>
                <div class="collapse navbar-collapse" id="main-menu" style="">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>首页</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/cloud/"><i class="fa "></i>云计算</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/front/"><i class="fa "></i>前端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/back/"><i class="fa "></i>后端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/devops/"><i class="fa "></i>运维</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/crack/"><i class="fa "></i>破解</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/penetration/"><i class="fa "></i>渗透</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/tool/"><i class="fa "></i>工具</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/other/"><i class="fa "></i>其他</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="Oracle JDK迁移指南，JDK11变化详解，JDK8升级JDK11详细指南">
            
	            Oracle JDK迁移指南，JDK11变化详解，JDK8升级JDK11详细指南
            
        </h1>
        <div class="post-meta">
    
        <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
            <a class="category-link" href="/categories/back/">后端</a>
        </span>
    

    
        <span class="fa-wrap">
            <i class="fa fa-tags"></i>
            <span class="tags-meta">
                
                    <a class="tag-link" href="/tags/java/">java</a>
                
            </span>
        </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2019/08/14</span>
        </span>
        
    
</div>
            
            
            <p class="fa fa-exclamation-triangle warning">
                本文于<strong>1345</strong>天之前发表，文中内容可能已经过时。
            </p>
        
    </div>
    
    <div class="post-body post-content">
        <p>官方英文原版： <a href="https://yq.aliyun.com/go/articleRenderRedirect?spm=a2c4e.11153940.0.0.3fa04645dfqilp&amp;url=https%3A%2F%2Fdocs.oracle.com%2Fen%2Fjava%2Fjavase%2F11%2Fmigrate%2Findex.html%23JSMIG-GUID-C25E2B1D-6C24-4403-8540-CFEA875B994A" target="_blank" rel="noopener">https://docs.oracle.com/en/java/javase/11/migrate/index.html#JSMIG-GUID-C25E2B1D-6C24-4403-8540-CFEA875B994A</a></p>
<p>Oracle JDK迁移指南</p>
<p>第11版</p>
<p>E94894-03</p>
<p>2019年7月</p>
<h3 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h3><p>本指南的目的是帮助您识别潜在问题，并在将现有Java应用程序迁移到最新JDK版本时为您提供有关如何继续的建议。该指南还强调了对最新版本所做的重大更改和增强。</p>
<p>本指南包含以下部分：</p>
<ul>
<li><a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-561005C1-12BB-455C-AD41-00455CAD23A6" target="_blank" rel="noopener">JDK 11发布的重大变化</a></li>
<li><a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-5657F44A-B2D7-4FB6-AAD7-295AC4533ABC" target="_blank" rel="noopener">准备迁移</a></li>
<li><a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-7744EF96-5899-4FB2-B34E-86D49B2E89B6" target="_blank" rel="noopener">从JDK 8迁移到以后的JDK版本</a></li>
<li><a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-8074FBBD-92DF-4C46-837D-86D1D55DEC84" target="_blank" rel="noopener">下一步</a></li>
</ul>
<h3 id="JDK-11发布的重大变化"><a href="#JDK-11发布的重大变化" class="headerlink" title="JDK 11发布的重大变化"></a>JDK 11发布的重大变化</h3><p>在将应用程序迁移到JDK 11之前，您应该了解它与JDK 10版本之间的更新和更改。如果要从JDK 8迁移，则还应熟悉<a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-7744EF96-5899-4FB2-B34E-86D49B2E89B6" target="_blank" rel="noopener">从JDK 8迁移到以后的JDK版本</a>中描述的JDK 8和更高版本之间的差异。</p>
<p>以下是JDK 11中的一些重要更改：</p>
<ul>
<li>Oracle不再提供JRE和Server JRE下载; 因此，自动更新不再可用。</li>
<li>Oracle不再提供32位Windows下载。</li>
<li>Java Web Start，Java插件和Java控制面板在JDK中不可用。请参阅<a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-4B3D2D73-359C-4ADA-937E-BAEA79CFDF0F" target="_blank" rel="noopener">删除部署堆栈</a>。</li>
<li>JDK中不再包含JavaFX。它现在可以从<a href="https://openjfx.io/单独下载。" target="_blank" rel="noopener">https://openjfx.io/单独下载。</a></li>
<li>JAXB和JAX-WS不再与JDK捆绑在一起。请参阅<a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-F640FA9D-FB66-4D85-AD2B-D931174C09A3" target="_blank" rel="noopener">删除Java EE和CORBA模块</a>。</li>
</ul>
<p>此外，还需要了解与安全相关的更新以及很少删除的工具和组件。看到：</p>
<ul>
<li><a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-8C36237D-76BB-4ADD-B026-4EB3EAA6BE99" target="_blank" rel="noopener">安全更新</a></li>
<li><a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-FAD4E80D-64BA-42AC-A682-38D06EE61AC6" target="_blank" rel="noopener">删除了API，工具和组件</a></li>
</ul>
<h3 id="删除部署堆栈"><a href="#删除部署堆栈" class="headerlink" title="删除部署堆栈"></a>删除部署堆栈</h3><p>Java部署技术在JDK 9中已弃用，在JDK 11中已删除。</p>
<p>Java applet和Web Start功能，包括Java插件，Java Applet Viewer，Java控制面板和Java Web Start，以及<code>javaws</code>工具，已在JDK 11中删除。</p>
<p>请参阅 <a href="http://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html#JDK-8185077" target="_blank" rel="noopener">删除Java部署技术</a>。</p>
<h3 id="删除Java-EE和CORBA模块"><a href="#删除Java-EE和CORBA模块" class="headerlink" title="删除Java EE和CORBA模块"></a>删除Java EE和CORBA模块</h3><p>在JDK 11中，删除了Java EE和CORBA模块。不推荐在JDK 9中删除这些模块。</p>
<p>删除的模块是：</p>
<ul>
<li>java.xml.ws：用于XML Web服务的Java API（JAX-WS），用于Java平台的Web服务元数据以及用于Java的附件的SOAP（SAAJ）</li>
<li>java.xml.bind：用于XML绑定的Java体系结构（JAXB）</li>
<li>java.xml.ws.annotation：Java SE定义的JSR-250 Common Annotations的子集，用于支持Web服务</li>
<li>java.corba：CORBA</li>
<li>java.transaction：Java SE定义的Java Transaction API的子集，用于支持CORBA对象事务服务</li>
<li>java.activation：JavaBeans Activation Framework</li>
<li>java.se.ee：上面六个模块的聚合器模块</li>
<li>jdk.xml.ws：JAX-WS的工具</li>
<li>jdk.xml.bind：JAXB的工具</li>
</ul>
<p>如果不更改构建，则不会编译引用这些API中的类的现有代码。同样，在这些API类的引用的类路径上的代码将失败，<code>NoDefClassFoundError</code>或者<code>ClassNotFoundException</code>，除非改变了应用程序的部署制成。 </p>
<p>请参阅<a href="http://openjdk.java.net/jeps/320" target="_blank" rel="noopener">JEP 320：删除Java EE和CORBA模块</a>以获取有关模块可能替换的更多信息。</p>
<p>注意：</p>
<p>您可以从Maven下载JAXB和JAX-WS。</p>
<h3 id="安全更新"><a href="#安全更新" class="headerlink" title="安全更新"></a>安全更新</h3><p>JDK 11发行版中的安全更新</p>
<p>JDK 11版本包括传输层安全性（TLS）1.3规范（<a href="https://www.rfc-editor.org/info/rfc8446" target="_blank" rel="noopener">RFC 8446</a>）的实现。</p>
<p>TLS 1.3是传输层安全性（TLS）协议的最新版本（2018年8月），默认情况下在JDK 11中启用。该版本不仅关注速度改进，还通过强调现代加密技术来更新协议的整体安全性。实践，并禁止过时或弱的加密算法。（例如，不再允许RSA密钥交换和普通DSA签名。）</p>
<p>TLS 1.3协议中添加了一些功能以提高向后兼容性，但有几个问题需要注意。有关详细信息，请参阅<a href="http://openjdk.java.net/jeps/332" target="_blank" rel="noopener">JEP 332</a>。</p>
<p>删除安全证书</p>
<p>已从JDK 11中的密钥库中删除以下根证书：</p>
<ul>
<li><a href="http://www.oracle.com/technetwork/java/javase/12-relnote-issues-5211422.html#JDK-8195793" target="_blank" rel="noopener">删除GTE CyberTrust Global Root</a></li>
</ul>
<p>已从JDK 11中的信任库中删除以下根证书：</p>
<ul>
<li><a href="http://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html#JDK-8191031" target="_blank" rel="noopener">几个Symantec根CA.</a></li>
<li><a href="http://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html#JDK-8189949" target="_blank" rel="noopener">巴尔的摩Cybertrust代码签署加州</a></li>
<li><a href="http://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html#JDK-8191844" target="_blank" rel="noopener">SECOM根证书</a></li>
<li><a href="http://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html#JDK-8203230" target="_blank" rel="noopener">AOL和Swisscom根证书</a></li>
</ul>
<p>使用已删除的证书的产品可能不再有效。如果需要这些证书，则必须使用缺少的证书配置和填充cacerts。为了证书添加到信任，看到<a href="http://www.oracle.com/pls/topic/lookup?ctx=javase12&amp;id=keytool_tool_reference" target="_blank" rel="noopener">密钥工具</a>在Java平台，标准版工具参考指南。</p>
<h3 id="删除了API，工具和组件"><a href="#删除了API，工具和组件" class="headerlink" title="删除了API，工具和组件"></a>删除了API，工具和组件</h3><p>本节提供有关在JDK 11中删除的API，工具和组件的详细信息。</p>
<h3 id="在JDK-11中删除了API"><a href="#在JDK-11中删除了API" class="headerlink" title="在JDK 11中删除了API"></a>在JDK 11中删除了API</h3><p>JDK 11中删除了以下API。许多这些API在以前的版本中已弃用，并且已被更新的API替换。有关可能的替代方案的信息，请参阅<a href="https://docs.oracle.com/en/java/javase/11/docs/api/" target="_blank" rel="noopener">JDK 11 API规范</a>。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">javax<span class="selector-class">.security</span><span class="selector-class">.auth</span><span class="selector-class">.Policy</span> </span><br><span class="line">java<span class="selector-class">.lang</span><span class="selector-class">.Runtime</span><span class="selector-class">.runFinalizersOnExit</span>(boolean)</span><br><span class="line">java<span class="selector-class">.lang</span><span class="selector-class">.SecurityManager</span><span class="selector-class">.checkAwtEventQueueAccess</span>() </span><br><span class="line">java<span class="selector-class">.lang</span><span class="selector-class">.SecurityManager</span><span class="selector-class">.checkMemberAccess</span>(java<span class="selector-class">.lang</span><span class="selector-class">.Class</span>,int)</span><br><span class="line">java<span class="selector-class">.lang</span><span class="selector-class">.SecurityManager</span><span class="selector-class">.checkSystemClipboardAccess</span>()</span><br><span class="line">java<span class="selector-class">.lang</span><span class="selector-class">.SecurityManager</span><span class="selector-class">.checkTopLevelWindow</span>(java<span class="selector-class">.lang</span><span class="selector-class">.Object</span>)</span><br><span class="line">java<span class="selector-class">.lang</span><span class="selector-class">.System</span><span class="selector-class">.runFinalizersOnExit</span>(boolean)</span><br><span class="line">java<span class="selector-class">.lang</span><span class="selector-class">.Thread</span><span class="selector-class">.destroy</span>()</span><br><span class="line">java<span class="selector-class">.lang</span><span class="selector-class">.Thread</span><span class="selector-class">.stop</span>(java<span class="selector-class">.lang</span><span class="selector-class">.Throwable</span>)</span><br></pre></td></tr></table></figure>
<h3 id="JDK-11未附带的工具和组件"><a href="#JDK-11未附带的工具和组件" class="headerlink" title="JDK 11未附带的工具和组件"></a>JDK 11未附带的工具和组件</h3><p>以下是JDK 11未附带的工具和组件列表。</p>
<p>主要工具</p>
<ul>
<li><code>appletviewer</code></li>
</ul>
<p>请参阅<a href="https://bugs.java.com/view_bug.do?bug_id=JDK-8200146" target="_blank" rel="noopener">JDK-8200146：删除appletviewer启动器</a>。</p>
<p>CORBA工具</p>
<ul>
<li><code>idlj</code></li>
<li><code>orbd</code></li>
<li><code>servertool</code></li>
<li><code>tnamesrv</code></li>
</ul>
<p>此外，<code>rmic</code>（RMI编译器）将不再支持<code>-idl</code>或<code>-iiop</code>选项。请参阅 <a href="http://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html#JDK-8190378" target="_blank" rel="noopener">JDK 11发行说明</a>。</p>
<p>Java Web服务工具</p>
<ul>
<li><code>schemagen</code></li>
<li><code>wsgen</code></li>
<li><code>wsimport</code></li>
<li><code>xjc</code></li>
</ul>
<p>请参阅<a href="http://openjdk.java.net/jeps/320" target="_blank" rel="noopener">JEP 320：删除Java EE和CORBA模块</a>。</p>
<p>Java部署工具</p>
<ul>
<li><code>javapackager</code></li>
<li><code>javaws</code></li>
</ul>
<p>注意：</p>
<p><code>pack 200</code>并且<code>unpack200</code>已被弃用，可能会在将来的JDK版本中删除。</p>
<p>请参阅<a href="http://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html#JDK-8198527" target="_blank" rel="noopener">从JDK</a>和<a href="http://openjdk.java.net/jeps/336" target="_blank" rel="noopener">JEP中</a><a href="http://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html#JDK-8198527" target="_blank" rel="noopener">删除JavaFX </a><a href="http://openjdk.java.net/jeps/336" target="_blank" rel="noopener">336：弃用Pack200工具和API</a>。</p>
<p>监控工具</p>
<ul>
<li><code>jmc</code>：在JDK 11中，JMC作为独立程序包提供，而不是捆绑在JDK中。</li>
</ul>
<p>请参阅<a href="http://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html#JDK-8202347" target="_blank" rel="noopener">从JDK</a>和<a href="https://blogs.oracle.com/java-platform-group/java-mission-control-now-serving-openjdk-binaries-too" target="_blank" rel="noopener">Java Mission Control中</a><a href="http://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html#JDK-8202347" target="_blank" rel="noopener">删除JMC</a>。</p>
<p>JVM管理-MIB.mib中</p>
<p><code>JVM-MANAGEMENT-MIB.mib</code>已删除通过SNMP进行JVM监视和管理的规范。请参阅<a href="https://bugs.java.com/view_bug.do?bug_id=JDK-8206211" target="_blank" rel="noopener">删除JVM-MANAGEMENT-MIB.mib</a>。</p>
<p>SNMP代理</p>
<p>该 <code>jdk.snmp</code>模块已被删除。请参阅<a href="https://bugs.java.com/view_bug.do?bug_id=JDK-8071367" target="_blank" rel="noopener">删除SNMP代理</a>。</p>
<p>Oracle桌面特定删除</p>
<ul>
<li>Oracle JDK T2K字体光栅器已被删除。</li>
<li>Lucida字体：Oracle JDK不再提供任何字体，完全依赖于操作系统上安装的字体。请参阅<a href="http://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html#JDK-8191522" target="_blank" rel="noopener">从Oracle JDK中删除Lucida字体</a>。</li>
</ul>
<h3 id="准备迁移"><a href="#准备迁移" class="headerlink" title="准备迁移"></a>准备迁移</h3><p>以下部分将帮助您成功迁移您的应用程序：</p>
<ul>
<li><a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-6FB24439-342C-496E-9D99-5F752528C7B1" target="_blank" rel="noopener">下载最新的JDK</a></li>
<li><a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-2A6D935A-2FFB-4D3A-B982-3266A4588B49" target="_blank" rel="noopener">在重新编译之前运行程序</a></li>
<li><a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-AFD3BDEC-99FC-4F3C-946F-A1CD2D05B74B" target="_blank" rel="noopener">更新第三方库</a></li>
<li><a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-77874D97-46F3-4DB5-85E4-2ACB5F8D760B" target="_blank" rel="noopener">如果需要，编译您的应用程序</a></li>
<li><a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-BA521187-60FD-4CA5-B998-58A1D05587BC" target="_blank" rel="noopener">在您的代码上运行jdeps</a></li>
</ul>
<h3 id="下载最新的JDK"><a href="#下载最新的JDK" class="headerlink" title="下载最新的JDK"></a>下载最新的JDK</h3><p>下载并安装<a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="noopener">最新的JDK版本</a>。</p>
<h3 id="在重新编译之前运行程序"><a href="#在重新编译之前运行程序" class="headerlink" title="在重新编译之前运行程序"></a>在重新编译之前运行程序</h3><p>尝试在最新的JDK版本（JDK 11）上运行您的应用程序。大多数代码和库应该在JDK 11上运行而不做任何更改，但可能有一些库需要升级。</p>
<p>注意：</p>
<p>迁移是一个迭代过程。你可能会发现最好先尝试运行你的程序（这个任务），然后或多或少并行地完成这三个任务：</p>
<ul>
<li><a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-AFD3BDEC-99FC-4F3C-946F-A1CD2D05B74B" target="_blank" rel="noopener">更新第三方库</a></li>
<li><a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-77874D97-46F3-4DB5-85E4-2ACB5F8D760B" target="_blank" rel="noopener">如果需要，编译您的应用程序</a></li>
<li><a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-BA521187-60FD-4CA5-B998-58A1D05587BC" target="_blank" rel="noopener">在您的代码上运行jdeps</a>。</li>
</ul>
<p>运行应用程序时，请从JVM中查找有关过时VM选项的警告。如果VM无法启动，请查找已<a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-977E1ED7-02BE-4A13-9B04-A719728E84BF" target="_blank" rel="noopener">删除的GC选项</a>。</p>
<p>如果您的应用程序成功启动，请仔细查看您的测试并确保其行为与您使用的JDK版本相同。例如，一些早期采用者注意到他们的日期和货币格式不同。请参阅<a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-A20F2989-BFA9-482D-8618-6CBB4BAAE310" target="_blank" rel="noopener">默认使用CLDR区域设置数据</a>。</p>
<p>要使代码适用于最新的JDK版本，请了解每个JDK版本中的新功能和更改。</p>
<ul>
<li><p>有关JDK 11中的新功能和更改的详细信息，请参阅<a href="http://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html#NewFeature" target="_blank" rel="noopener">JDK 11中的新增功能 - 新增功能和增强功能</a>。</p>
</li>
<li><p>有关新功能和更改JDK 10的详细信息，请参阅<a href="http://www.oracle.com/technetwork/java/javase/10-relnote-issues-4108729.html#NewFeature" target="_blank" rel="noopener">什么在JDK 10的新功能</a>。</p>
</li>
<li><p>对于所有的JDK 9的新功能的完整列表，请参阅<a href="https://docs.oracle.com/javase/9/whatsnew/toc.htm#JSNEW-GUID-C23AFD78-C777-460B-8ACE-58BE5EA681F6" target="_blank" rel="noopener">什么在JDK 9的新功能</a>。</p>
<p>有关JDK 9中的更改的详细信息，请参阅<a href="http://www.oracle.com/technetwork/java/javase/9-relnotes-3622618.html" target="_blank" rel="noopener">JDK 9发行说明</a>。</p>
</li>
</ul>
<p>即使您的程序似乎成功运行，您也应该完成本指南中的其余步骤并查看问题列表。</p>
<h3 id="更新第三方库"><a href="#更新第三方库" class="headerlink" title="更新第三方库"></a>更新第三方库</h3><p>对于您使用的每个工具和第三方库，您可能需要具有支持最新JDK版本的更新版本。</p>
<p>检查第三方库和工具供应商的网站，以获取适用于最新JDK的每个库或工具的版本。如果存在，则下载并安装新版本。</p>
<p>如果使用Maven或Gradle构建应用程序，请确保升级到支持最新JDK版本的更新版本。</p>
<p>如果使用IDE开发应用程序，则可能有助于迁移现有代码。NetBeans，Eclipse和IntelliJ IDE都有可用的版本，包括对最新JDK的支持。</p>
<p>您可以在OpenJDK wiki的<a href="https://wiki.openjdk.java.net/display/quality/Quality+Outreach" target="_blank" rel="noopener">Quality Outreach</a>上看到OpenJDK 构建的许多免费开源软件（FOSS）项目的测试状态。</p>
<h3 id="如果需要，编译您的应用程序"><a href="#如果需要，编译您的应用程序" class="headerlink" title="如果需要，编译您的应用程序"></a>如果需要，编译您的应用程序</h3><p>使用最新的JDK编译器编译代码将简化向未来版本的迁移，因为代码可能依赖于已被确定为有问题的API和功能。但是，并非绝对必要。</p>
<p>如果需要使用JDK 11编译器编译代码，请注意以下事项：</p>
<ul>
<li><p>如果在源代码中使用下划线字符（“_”）作为单字符标识符，则代码将无法在JDK 11中编译。它在JDK 8中生成警告，并从JDK 9开始生成错误。</p>
<p>举个例子：</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="built_in">Object</span> _ = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br></pre></td></tr></table></figure>
<p>此代码从编译器生成以下错误消息：</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MyClass.java:<span class="number">2</span>: error: <span class="keyword">as</span> <span class="keyword">of</span> release <span class="number">9</span>, <span class="string">'_'</span> is <span class="keyword">a</span> keyword, <span class="keyword">and</span> may <span class="keyword">not</span> be used <span class="keyword">as</span> <span class="keyword">a</span> legal identifier.</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果使用<code>-source</code>和<code>-target</code>选项<code>javac</code>，则检查您使用的值。</p>
<p>支持的<code>-source/-target</code>值为11（默认值），10,9,8,7和6（不推荐使用6，并且在使用此值时会显示警告）。</p>
<p>在JDK 8，<code>-source</code>和<code>-target</code>1.5 / 5的值和更早被弃用，并引起了警告。在JDK 9及更高版本中，这些值会导致错误。</p>
<figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;javac -source 5 -target 5 Sample.java </span><br><span class="line">warning: [options] bootstrap class path not set in conjunction with -source 5 </span><br><span class="line"><span class="keyword">error: </span>Source option 5 is no longer supported. Use 6 or later. </span><br><span class="line"><span class="keyword">error: </span>Target option 1.5 is no longer supported. Use 1.6 or later.</span><br></pre></td></tr></table></figure>
<p>如果可能，请使用新<code>--release</code>标志而不是 <code>-source</code>和<code>-target</code>选项。见<a href="http://www.oracle.com/pls/topic/lookup?ctx=javase12&amp;id=javac_tool_reference" target="_blank" rel="noopener">javac的</a>在Java平台，标准版工具参考。</p>
<p>该<code>--release</code>标志的有效参数遵循与之相同的策略，<code>-source</code>并且<code>-target</code>一加三后退。</p>
<p>它<code>javac</code>可以识别和处理所有以前的JDK的类文件，一直回到JDK 1.0.2类文件。</p>
<p>请参阅<a href="http://openjdk.java.net/jeps/182" target="_blank" rel="noopener">JEP 182：退休javac -source和-target选项的政策</a>。</p>
</li>
<li><p>在JDK 11中仍然可以访问关键的内部JDK API，例如sun.misc.Unsafe，但是在编译时无法访问大多数JDK的内部API。您可能会收到编译错误，指出您的应用程序或其库依赖于内部API。</p>
<p>要标识依赖项，请运行Java依赖关系分析工具。请参阅<a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-BA521187-60FD-4CA5-B998-58A1D05587BC" target="_blank" rel="noopener">在您的代码上运行jdeps</a>。如果可能，请更新代码以使用支持的替换API。</p>
<p>您可以使用该<code>--add-exports</code>选项作为临时解决方法来编译源代码，并引用JDK内部类。</p>
</li>
<li><p>您可能会看到比以前更多的弃用警告。</p>
</li>
</ul>
<h3 id="在您的代码上运行jdeps"><a href="#在您的代码上运行jdeps" class="headerlink" title="在您的代码上运行jdeps"></a>在您的代码上运行jdeps</h3><p><code>jdeps</code>在应用程序上运行该工具，以查看应用程序和库所依赖的包和类。如果您使用内部API，则<code>jdeps</code>可以建议替换以帮助您更新代码。</p>
<p>要查找内部JDK API的依赖项，请<code>jdeps</code>使用该<code>-jdkinternals</code>选项运行。例如，如果您<code>jdeps</code>在调用的类上运行<code>sun.misc.BASE64Encoder</code>，您将看到：</p>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt;jdeps -jdkinternals Sample.<span class="keyword">class</span></span><br><span class="line">Sample.<span class="keyword">class</span> -&gt; JDK removed <span class="keyword">internal</span> API</span><br><span class="line">   Sample  -&gt; sun.misc.BASE64Encoder  JDK <span class="keyword">internal</span> API (JDK removed <span class="keyword">internal</span> API)</span><br><span class="line"></span><br><span class="line">Warning: JDK <span class="keyword">internal</span> APIs are unsupported <span class="keyword">and</span> <span class="keyword">private</span> <span class="keyword">to</span> JDK implementation that are</span><br><span class="line">subject <span class="keyword">to</span> be removed <span class="keyword">or</span> changed incompatibly <span class="keyword">and</span> could break your application.</span><br><span class="line">Please modify your code <span class="keyword">to</span> eliminate dependency on any JDK <span class="keyword">internal</span> APIs.</span><br><span class="line">For the most recent update on JDK <span class="keyword">internal</span> API replacements, please check:</span><br><span class="line">https:<span class="comment">//wiki.openjdk.java.net/display/JDK8/Java+Dependency+Analysis+Tool</span></span><br><span class="line"></span><br><span class="line">JDK Internal API                         Suggested Replacement</span><br><span class="line">----------------                         ---------------------</span><br><span class="line">sun.misc.BASE64Encoder                   Use java.util.Base64 @since <span class="number">1.8</span></span><br></pre></td></tr></table></figure>
<p>如果您使用Maven，则可以使用<code>jdeps</code> 插件。</p>
<p>有关<code>jdeps</code>语法，请参阅Java平台标准版工具参考中的<a href="http://www.oracle.com/pls/topic/lookup?ctx=javase11&amp;id=jdeps_tool_reference" target="_blank" rel="noopener">jdeps</a>。</p>
<p>请记住，这<code>jdeps</code>是一个静态分析工具，代码的静态分析可能无法提供完整的依赖项列表。如果代码使用反射来调用内部API，则<code>jdeps</code>不会发出警告。</p>
<h3 id="从JDK-8迁移到以后的JDK版本"><a href="#从JDK-8迁移到以后的JDK版本" class="headerlink" title="从JDK 8迁移到以后的JDK版本"></a>从JDK 8迁移到以后的JDK版本</h3><p>JDK 8和后来的JDK版本之间发生了重大变化。</p>
<p>Every new Java SE release introduces some binary, source, and behavioral incompatibilities with previous releases. The modularization of the Java SE Platform that happened in JDK 9 brought many benefits, but also many changes. Code that uses only official Java SE Platform APIs and supported JDK-specific APIs should continue to work without change. Code that uses JDK-internal APIs should continue to run but should be migrated to use the supported APIs.</p>
<p>The following sections describe the changes in the JDK package and APIs that you should be aware of when migrating your JDK 8 applications to later JDK releases.</p>
<p>Look at the list of changes that you may encounter as you run your application.</p>
<ul>
<li><a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-3A71ECEF-5FC5-46FE-9BA9-88CBFCE828CB" target="_blank" rel="noopener">New Version-String Scheme</a></li>
<li><a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-7BB28E4D-99B3-4078-BDC4-FC24180CE82B" target="_blank" rel="noopener">Understanding Runtime Access Warnings</a></li>
<li><a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-D867DCCC-CEB5-4AFA-9D11-9C62B7A3FAB1" target="_blank" rel="noopener">Changes to the Installed JDK/JRE Image</a></li>
<li><a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-F7696E02-A1FB-4D5A-B1F2-89E7007D4096" target="_blank" rel="noopener">Removed or Changed APIs</a></li>
<li><a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-954372A5-5954-4075-A1AF-6A9168371246" target="_blank" rel="noopener">Deployment</a></li>
<li><a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-D6EE05FB-6791-43B3-A610-3F4416DEE508" target="_blank" rel="noopener">Security Updates in JDK 9</a></li>
<li><a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-1F270BDA-50B0-49C8-807E-0B727CCC5169" target="_blank" rel="noopener">Changes to Garbage Collection</a></li>
<li><a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-12237744-E23B-42F8-8892-26BA1BDD63F2" target="_blank" rel="noopener">Removed Tools and Components</a></li>
<li><a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-97C1D0BB-D5D3-4CAD-B17D-03A87A0AAF3B" target="_blank" rel="noopener">Removed macOS-Specific Features</a></li>
</ul>
<p>When your application is running successfully on the latest version of JDK, review <a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-8074FBBD-92DF-4C46-837D-86D1D55DEC84" target="_blank" rel="noopener">Next Steps</a>, which will help you avoid problems with future releases.</p>
<h3 id="Understanding-Runtime-Access-Warnings"><a href="#Understanding-Runtime-Access-Warnings" class="headerlink" title="Understanding Runtime Access Warnings"></a>Understanding Runtime Access Warnings</h3><p>Some tools and libraries use reflection to access parts of the JDK that are meant for internal use only. This illegal reflective access will be disabled in a future release of the JDK. Currently, it is permitted by default and a warning is issued.</p>
<p>For example, here is the warning issued when starting Jython:</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;java -jar jython-standalone-2.7.0.jar</span><br><span class="line"><span class="symbol">WARNING: </span>An illegal reflective access operation has occurred</span><br><span class="line"><span class="symbol">WARNING: </span>Illegal reflective access by jnr.posix.JavaLibCHelper (file:/C:/Jython/jython2.7.0/jython-standalone-2.7.0.jar) to method sun.nio.ch.SelChImpl.getFD()</span><br><span class="line"><span class="symbol">WARNING: </span>Please consider reporting this to the maintainers of jnr.posix.JavaLibCHelper</span><br><span class="line"><span class="symbol">WARNING: </span>Use --illegal-access=warn to enable warnings of further illegal reflective access operations</span><br><span class="line"><span class="symbol">WARNING: </span>All illegal access operations will be denied in a future release</span><br><span class="line">Jython 2.7.0 (default:9987c746f838, Apr 29 2015, 02:25:11)</span><br></pre></td></tr></table></figure>
<p>如果您看到这样的警告，请联系工具或库的维护人员。警告的第二行命名精确的JAR文件，其代码使用反射来访问JDK的内部部分。</p>
<p>默认情况下，在<code>java</code>启动程序启动的进程的生命周期中，最多会发出一条有关反射访问的警告。警告的确切时间取决于执行反射访问操作的工具和库的行为。警告可能会在过程的生命周期的早期出现，也可能在启动后很长时间出现。</p>
<p>您可以使用<code>--add-opens</code>命令行标志在逐个库的基础上禁用警告消息。例如，您可以通过以下方式启动Jython：</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="keyword">java </span>--<span class="keyword">add-opens </span><span class="keyword">java.base/sun.nio.ch=ALL-UNNAMED </span>--<span class="keyword">add-opens </span><span class="keyword">java.base/java.io=ALL-UNNAMED </span>-<span class="keyword">jar </span><span class="keyword">jython-standalone-2.7.0.jar</span></span><br><span class="line"><span class="keyword">Jython </span><span class="number">2</span>.<span class="number">7</span>.<span class="number">0</span> (default:<span class="number">9987</span>c<span class="number">746f</span>838, Apr <span class="number">29</span> <span class="number">2015</span>, <span class="number">02</span>:<span class="number">25</span>:<span class="number">11</span>)</span><br></pre></td></tr></table></figure>
<p>这次，不发出警告，因为<code>java</code>调用明确地确认了反射访问。如您所见，您可能需要指定多个<code>--add-opens</code>标志来涵盖类路径上的库尝试的所有反射访问操作。</p>
<p>为了更好地理解工具和库的行为，可以使用命令行标志。该标志导致为每个非法反射访问操作发出警告消息。此外，您还可以通过设置获取有关非法反射访问操作（包括堆栈跟踪）的详细信息。 <code>--illegal-access=warn`</code>–illegal-access=debug`</p>
<p>如果您更新了库，或者获得了库，那么您可以尝试使用命令行标志。除了由其他命令行选项启用的操作外，它禁用所有反射访问操作，例如。这将是未来版本中的默认模式。 <code>--illegal-access=deny`</code>–add-opens`</p>
<p>有两个选项可以让您以特定方式打破封装。您可以结合使用它们，或者如前所述，来抑制警告。 <code>--illegal-access=deny</code></p>
<ul>
<li>如果需要使用已无法访问的内部API，请使用<a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-2F61F3A9-0979-46A4-8B49-325BA0EE8B66" target="_blank" rel="noopener"><code>--add-exports</code></a>运行时选项。您还可以<code>--add-exports</code>在编译时使用来访问内部API。</li>
<li>如果必须允许类路径上的代码进行<em>深入反射</em>以访问非公共成员，请使用该<a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-12F945EB-71D6-46AF-8C3D-D354FD0B1781" target="_blank" rel="noopener"><code>--add-opens</code></a>选项。</li>
</ul>
<p>如果要禁止所有反射访问警告，请在需要时使用<code>--add-exports</code>和<code>--add-opens</code>选项。</p>
<h3 id="–add-exports"><a href="#–add-exports" class="headerlink" title="–add-exports"></a>–add-exports</h3><p>如果必须使用默认情况下无法访问的内部API，则可以使用<code>--add-exports</code>命令行选项中断封装。</p>
<p>该<code>--add-exports</code></p>
<figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby">-add-exports &lt;source-<span class="class"><span class="keyword">module</span>&gt;/&lt;package&gt;=&lt;target-<span class="title">module</span>&gt;(,&lt;target-<span class="title">module</span>&gt;)*</span></span></span><br></pre></td></tr></table></figure>
<p>其中<code>&lt;source-module&gt;`</code><target-module><code></code><package>`</package></target-module></p>
<p>The <code>--add-exports</code> option allows code in the target module to access types in the named package of the source module if the target module reads the source module.</p>
<p>As a special case, if the   , then the source package is exported to all unnamed modules, whether they exist initially or are created later on. For example:This example allows code in all unnamed modules (code on the class path) to access the public members of public types in<code>java.management/sun.management</code>  </p>
<p>If an application   package of the<code>java.management</code>module, then the access that it requires can be granted in this way:</p>
<p>You can also break encapsulation with the JAR file manifest:</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Add</span><span class="bash">-Exports:java.management/sun.management</span></span><br></pre></td></tr></table></figure>
<p>Use the <code>--add-exports</code> option carefully. You can use it to gain access to an internal API of a library module, or even of the JDK itself, but you do so at your own risk. If that internal API changes or is removed, then your library or application fails.</p>
<p>See also <a href="http://openjdk.java.net/jeps/261" target="_blank" rel="noopener">JEP 261</a>.</p>
<h3 id="–add-opens"><a href="#–add-opens" class="headerlink" title="–add-opens"></a>–add-opens</h3><p>If you have to allow code on the class path to do <em>deep reflection</em> to access nonpublic members, then use the <code>--add-opens</code>runtime option.</p>
<p>Some libraries do deep reflection, meaning <code>setAccessible(true)</code>, so they can access all members, including private ones. You can grant this access using the <code>--add-opens</code> option on the <code>java</code> command line. No warning messages are generated as a result of using this option.</p>
<p>If <code>--illegal-access=deny</code>, and you see <code>IllegalAccessException</code> or <code>InaccessibleObjectException</code>messages at runtime, you could use the <code>--add-opens</code> runtime option, basing the arguments upon the information shown in the exception message.</p>
<p>The syntax for  </p>
<figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--<span class="keyword">add</span>-opens <span class="keyword">module</span>/package=<span class="keyword">target</span>-<span class="keyword">module</span>(,<span class="keyword">target</span>-<span class="keyword">module</span>)*</span><br></pre></td></tr></table></figure>
<p>This option allows     , regardless of the module declaration.</p>
<p>As a special case, if the   , then the source package is exported to all unnamed modules, whether they exist initially or are created later on. For example:This example allows all of the code on the class path to access nonpublic members of public types in the<code>java.management/sun.management</code>package.</p>
<p>Note:</p>
<p>If you are using the JNI Invocation API, including, for example, a Java Web Start JNLP file, you must include an equals sign between  </p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;j2se <span class="keyword">version</span>=<span class="string">"10"</span> java-<span class="keyword">vm</span>-<span class="keyword">args</span>=<span class="string">"--add-opens=module/package=ALL-UNNAMED"</span>  /&gt;</span><br></pre></td></tr></table></figure>
<p>The equals sign between <code>--add-opens</code> and its value is optional on the command line.</p>
<h3 id="New-Version-String-Scheme"><a href="#New-Version-String-Scheme" class="headerlink" title="New Version-String Scheme"></a>New Version-String Scheme</h3><p>JDK 10 introduced some minor changes, to better accommodate the time-based release model, to the version-string scheme introduced in JDK 9. JDK 11 retains the version string format that was introduced in JDK 10.</p>
<p>If your code relies on the version-string format to distinguish major, minor, security, and patch update releases, then you may need to update it.</p>
<p>The format of the new version-string is:</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$FEATURE.$INTERIM.$UPDATE.$PATCH</span><br></pre></td></tr></table></figure>
<p>A simple Java API to parse, validate, and compare version strings has been added. See <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runtime.Version.html" target="_blank" rel="noopener">java.lang.Runtime.Version</a>.</p>
<p>See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/java/javase/11/migrate&amp;id=JSJIG-GUID-DCA60310-6565-4BB6-8D24-6FF07C1C4B4E" target="_blank" rel="noopener">Version String Format</a> in Java Platform, Standard Edition Installation Guide .</p>
<p>For the changes to the version string introduced in JDK 9, see <a href="http://openjdk.java.net/jeps/223" target="_blank" rel="noopener">JEP 223: New Version-String Scheme </a>.</p>
<p>For the version string changes introduced in JDK 10, see <a href="http://openjdk.java.net/jeps/322" target="_blank" rel="noopener">JEP 322: Time-Based Release Versioning</a>.</p>
<h3 id="Changes-to-the-Installed-JDK-JRE-Image"><a href="#Changes-to-the-Installed-JDK-JRE-Image" class="headerlink" title="Changes to the Installed JDK/JRE Image"></a>Changes to the Installed JDK/JRE Image</h3><p>Significant changes have been made to the JDK and JRE.</p>
<h3 id="Changed-JDK-and-JRE-Layout"><a href="#Changed-JDK-and-JRE-Layout" class="headerlink" title="Changed JDK and JRE Layout"></a>Changed JDK and JRE Layout</h3><p>After you install the JDK, if you look at the file system, you’ll notice that the directory layout is different from that of releases before JDK 9.</p>
<p><strong>JDK 11</strong></p>
<p>JDK 11 does not have the JRE image. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/java/javase/11/migrate&amp;id=JSJIG-GUID-F7178F2F-DC92-47E9-8062-CA6B2612D350" target="_blank" rel="noopener">Installed Directory Structure of JDK</a> in Java Platform, Standard Edition Installation Guide.</p>
<p><strong>JDK 9 and JDK 10</strong></p>
<p>Prior releases produced two types of runtime images: the JRE, which was a complete implementation of the Java SE Platform, and the JDK, which included the entire JRE in a <code>jre/</code> directory, plus development tools and libraries.</p>
<p>In JDK 9 and and JDK 10, the JDK and JRE are two types of modular runtime images, where each contains the following directories:</p>
<ul>
<li><strong><code>bin</code></strong>: contains binary executables.</li>
<li><strong><code>conf</code></strong>: contains <code>.properties</code>, <code>.policy</code>, and other kinds of files intended to be edited by developers, deployers, and end users. These files were formerly found in the <code>lib</code> directory or its subdirectories.</li>
<li><strong><code>lib</code></strong>: contains dynamically linked libraries and the complete internal implementation of the JDK.</li>
</ul>
<p>在JDK 9和JDK 10中，仍然有单独的JDK和JRE下载，但每个都具有相同的目录结构。JDK映像包含历史上在JDK中找到的额外工具和库。没有<code>jdk/</code>与<code>jre/</code>包装目录相对应，并且二进制文件（例如<code>java</code>命令）不会重复。</p>
<p>请参阅<a href="http://openjdk.java.net/jeps/220" target="_blank" rel="noopener">JEP 220：模块化运行时映像</a>。</p>
<h3 id="新的类加载器实现"><a href="#新的类加载器实现" class="headerlink" title="新的类加载器实现"></a>新的类加载器实现</h3><p>JDK 9及更高版本维护自1.2版本以来存在的类加载器的层次结构。但是，已经进行了以下更改以实现模块系统：</p>
<ul>
<li><p>应用程序类加载器不再是URLClassLoader的实例，而是内部类的实例。它是模块中类的默认加载器，既不是Java SE也不是JDK模块。</p>
</li>
<li><p>扩展类加载器已重命名; 它现在是平台类加载器。通过平台类加载器可以保证Java SE平台中的所有类都可见。</p>
<p>仅仅因为通过平台类加载器可见类并不意味着该类实际上是由平台类加载器定义的。Java SE平台中的某些类由平台类加载器定义，而其他类则由引导类加载器定义。应用程序不应该依赖于哪个类加载器定义哪个平台类。</p>
<p>在JDK 9中实现的更改可能会影响使用<code>null</code>（即引导类加载器）创建类加载器的代码作为父类加载器，并假定所有平台类对父级是可见的。可能需要更改此类代码以使用平台类加载器作为父代（请参阅<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ClassLoader.html#getPlatformClassLoader(" target="_blank" rel="noopener">ClassLoader.getPlatformClassLoader</a>)）。</p>
<p>平台类加载器不是URLClassLoader的实例，而是内部类的实例。</p>
</li>
<li><p>引导类加载器仍然是内置的Java虚拟机和代表<code>null</code>中ClassLoader的 API。它定义了一些关键模块中的类，例如java.base。因此，它定义的类比JDK 8中的类少得多，因此使用<code>-Xbootclasspath/a</code>或创建类加载器<code>null</code>作为父级的应用程序可能需要如前所述进行更改。</p>
</li>
</ul>
<h3 id="删除了JDK-9中的rt-jar和tools-jar"><a href="#删除了JDK-9中的rt-jar和tools-jar" class="headerlink" title="删除了JDK 9中的rt.jar和tools.jar"></a>删除了JDK 9中的rt.jar和tools.jar</h3><p>类和资源文件之前存储在<code>lib/rt.jar</code>，<code>lib/tools.jar</code>，<code>lib/dt.jar</code>和其他各种内部JAR文件都存储在一个更有效的格式在实现特定的文件<code>lib</code>目录。</p>
<p>删除<code>rt.jar</code>和类似文件会导致这些方面出现问题：</p>
<ul>
<li><p>从JDK 9开始，<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ClassLoader.html#getSystemResource(java.lang.String" target="_blank" rel="noopener">ClassLoader.getSystemResource</a>)不返回指向JAR文件的URL（因为没有JAR文件）。相反，它返回一个<code>jrt</code>URL，该URL命名存储在运行时映像中的模块，类和资源，而不会泄露图像的内部结构或格式。</p>
<p>例如：</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ClassLoader.getSystemResource(<span class="string">"java/lang/Class.class"</span>)<span class="comment">;</span></span><br></pre></td></tr></table></figure>
<p>在JDK 8上运行时，此方法返回以下形式的JAR URL：</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">jar:</span><span class="symbol">file:</span>/usr/local/jdk8/jre/<span class="class"><span class="keyword">lib</span>/<span class="title">rt</span>.<span class="title">jar!</span>/<span class="title">java</span>/<span class="title">lang</span>/<span class="title">Class</span>.<span class="title">class</span></span></span><br></pre></td></tr></table></figure>
<p>它嵌入一个文件URL来命名运行时映像中的实际JAR文件。</p>
<p>模块化图像不包含任何JAR文件，因此这种形式的URL毫无意义。在JDK 9及更高版本中，此方法返回：</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jrt:<span class="regexp">/java.base/</span>java<span class="regexp">/lang/</span><span class="keyword">Class</span>.<span class="keyword">class</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>The <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/CodeSource.html" target="_blank" rel="noopener">java.security.CodeSource</a> API and security policy files use URLs to name the locations of code bases that are to be granted specific permissions. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/java/javase/11/migrate&amp;id=JSSEC-GUID-7942E6F8-8AAB-4404-9FE9-E08DD6FFCFFA" target="_blank" rel="noopener">Policy File Syntax</a> in Java Platform, Standard Edition Security Developer’s Guide. Components of the runtime system that require specific permissions are currently identified in the <code>conf/security/java.policy</code> file by using file URLs.</p>
</li>
<li><p>Older versions of IDEs and other development tools require the ability to enumerate the class and resource files stored in a runtime image, and to read their contents directly by opening and reading <code>rt.jar</code> and similar files. This isn’t possible with a modular image.</p>
</li>
</ul>
<h3 id="Removed-Extension-Mechanism-in-JDK-9"><a href="#Removed-Extension-Mechanism-in-JDK-9" class="headerlink" title="Removed Extension Mechanism in JDK 9"></a>Removed Extension Mechanism in JDK 9</h3><p>In JDK 8 and earlier, the extension mechanism made it possible for the runtime environment to find and load extension classes without specifically naming them on the class path. Starting from JDK 9, if you need to use the extension classes, ensure that the JAR files are on the class path.</p>
<p>In JDK 9 and JDK 10, the <code>javac</code> compiler and <code>java</code> launcher will exit if the <code>java.ext.dirs</code> system property is set, or if the <code>lib/ext</code> directory exists. To additionally check the platform-specific systemwide directory, specify the <code>-XX:+CheckEndorsedAndExtDirs</code> command-line option. This causes the same exit behavior to occur if the directory exists and isn’t empty. The extension class loader is retained in JDK 9 (and later releases) and is specified as the platform class loader (see <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ClassLoader.html#getPlatformClassLoader(" target="_blank" rel="noopener">getPlatformClassLoader</a>).) However, in JDK 11, this option is obsolete and a warning is issued when it is used.</p>
<p>The following error means that your system is configured to use the extension mechanism:</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;JAVA_HOME&gt;<span class="regexp">/lib/</span>ext exists, extensions mechanism no longer supported; Use -classpath instead.</span><br><span class="line">.Error: Could not create the Java Virtual Machine.</span><br><span class="line">Error: A fatal exception has occurred. Program will <span class="keyword">exit</span>.</span><br></pre></td></tr></table></figure>
<p>You’ll see a similar error if the <code>java.ext.dirs</code> system property is set.</p>
<p>To fix this error, remove the <code>ext/</code> directory or the <code>java.ext.dirs</code> system property.</p>
<p>See <a href="http://openjdk.java.net/jeps/220" target="_blank" rel="noopener">JEP 220: Modular Run-Time Images</a>.</p>
<h3 id="Removed-Endorsed-Standards-Override-Mechanism"><a href="#Removed-Endorsed-Standards-Override-Mechanism" class="headerlink" title="Removed Endorsed Standards Override Mechanism"></a>Removed Endorsed Standards Override Mechanism</h3><p>The <code>java.endorsed.dirs</code> system property and the <code>lib/endorsed</code> directory are no longer present. The <code>javac</code>compiler and <code>java</code> launcher will exit if either one is detected.</p>
<p>Starting from JDK 9, you can use upgradeable modules or put the JAR files on the class path.</p>
<p>This mechanism was intended for application servers to override components used in the JDK. Packages to be updated would be placed into JAR files, and the system property <code>java.endorsed.dirs</code> would tell the Java runtime environment where to find them. If a value for this property wasn’t specified, then the default of <code>$JAVA_HOME/lib/endorsed</code> was used.</p>
<p>In JDK 8, you can use the <code>-XX:+CheckEndorsedAndExtDirs</code> command-line argument to check for such directories anywhere on the system.</p>
<p>In JDK 9 and later releases, the <code>javac</code> compiler and <code>java</code> launcher will exit if the <code>java.endorsed.dirs</code> system property is set, or if the <code>lib/endorsed</code> directory exists.</p>
<p>The following error means that your system is configured to use the endorsed standards override mechanism:</p>
<figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;JAVA_HOME&gt;/lib/endorsed is not supported. Endorsed standards and standalone APIs</span><br><span class="line">in modular form will be supported via the concept of upgradeable modules.</span><br><span class="line"><span class="keyword">Error: </span>Could not create the Java Virtual Machine.</span><br><span class="line"><span class="keyword">Error: </span>A fatal exception has occurred. Program will exit.</span><br></pre></td></tr></table></figure>
<p>如果<code>java.endorsed.dirs</code>设置了系统属性，您将看到类似的错误。</p>
<p>要修复此错误，请删除该<code>lib/endorsed</code>目录，或取消设置<code>java.endorsed.dirs</code>系统属性。</p>
<p>请参阅<a href="http://openjdk.java.net/jeps/220" target="_blank" rel="noopener">JEP 220：模块化运行时映像</a>。</p>
<h3 id="Windows注册表项更改"><a href="#Windows注册表项更改" class="headerlink" title="Windows注册表项更改"></a>Windows注册表项更改</h3><p>安装JDK时，Java 11安装程序会创建这些Windows注册表项：</p>
<ul>
<li><code>“HKEY_LOCAL_MACHINE\SOFTWARE\JavaSoft\JDK”</code></li>
<li><code>“HKEY_LOCAL_MACHINE\SOFTWARE\JavaSoft\JDK\11”</code></li>
</ul>
<p>如果安装了两个版本的JDK，则会创建两个不同的Windows注册表项。例如，如果JDK 11.0.1与JDK 11一起安装，则安装程序会创建另一个Windows注册表项，如下所示：</p>
<ul>
<li><code>“HKEY_LOCAL_MACHINE\SOFTWARE\JavaSoft\JDK”</code></li>
<li><code>“HKEY_LOCAL_MACHINE\SOFTWARE\JavaSoft\JDK\11.0.1”</code></li>
</ul>
<h3 id="删除或更改的API"><a href="#删除或更改的API" class="headerlink" title="删除或更改的API"></a>删除或更改的API</h3><p>本节重点介绍在默认行为中无法访问，删除或更改的API。编译或运行应用程序时，您可能会遇到本节中描述的问题。</p>
<p>请参阅<a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-4B613B7E-B150-4D0A-835C-2393C60BE1F8" target="_blank" rel="noopener">JDK 11中的已删除API</a>。</p>
<h3 id="删除了JDK-9和JDK-10中的API"><a href="#删除了JDK-9和JDK-10中的API" class="headerlink" title="删除了JDK 9和JDK 10中的API"></a>删除了JDK 9和JDK 10中的API</h3><p>以下是从JDK 9和JDK 10发行版中删除的一些重要API。</p>
<h3 id="删除了java。-API"><a href="#删除了java。-API" class="headerlink" title="删除了java。* API"></a>删除了java。* API</h3><p>Java团队致力于向后兼容。如果应用程序在JDK 8中运行，那么它将在JDK 9及更高版本上运行，只要它使用支持并供外部使用的API即可。</p>
<p>这些包括：</p>
<ul>
<li>JCP标准，java。<em>，javax。</em></li>
<li>JDK特定的API，一些com.sun。<em>，一些jdk。</em></li>
</ul>
<p>可以从JDK中删除支持的API，但只能通知。通过运行静态分析工具<a href="http://www.oracle.com/pls/topic/lookup?ctx=javase11&amp;id=jdeprscan_tool_reference" target="_blank" rel="noopener">jdeprscan，</a>了解您的代码是否使用了弃用的API 。</p>
<p>java。*在JDK 9中删除的API包括java.util.logging.LogManager和java.util.jar.Pack200包中以前弃用的方法：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">java<span class="selector-class">.util</span><span class="selector-class">.logging</span><span class="selector-class">.LogManager</span><span class="selector-class">.addPropertyChangeListener</span></span><br><span class="line">java<span class="selector-class">.util</span><span class="selector-class">.logging</span><span class="selector-class">.LogManager</span><span class="selector-class">.removePropertyChangeListener</span></span><br><span class="line">java<span class="selector-class">.util</span><span class="selector-class">.jar</span><span class="selector-class">.Pack200</span><span class="selector-class">.Packer</span><span class="selector-class">.addPropertyChangeListener</span></span><br><span class="line">java<span class="selector-class">.util</span><span class="selector-class">.jar</span><span class="selector-class">.Pack200</span><span class="selector-class">.Packer</span><span class="selector-class">.removePropertyChangeListener</span></span><br><span class="line">java<span class="selector-class">.util</span><span class="selector-class">.jar</span><span class="selector-class">.Pack200</span><span class="selector-class">.Unpacker</span><span class="selector-class">.addPropertyChangeListener</span></span><br><span class="line">java<span class="selector-class">.util</span><span class="selector-class">.jar</span><span class="selector-class">.Pack200</span><span class="selector-class">.Unpacker</span><span class="selector-class">.removePropertyChangeListener</span></span><br></pre></td></tr></table></figure>
<h3 id="删除和将来删除sun-misc和sun-reflect-API"><a href="#删除和将来删除sun-misc和sun-reflect-API" class="headerlink" title="删除和将来删除sun.misc和sun.reflect API"></a>删除和将来删除sun.misc和sun.reflect API</h3><p>与java。<em> API不同，几乎所有sun。</em> API都不受支持，JDK内部API，并且可能随时消失。</p>
<p>在JDK 9中删除了一些sun。* API。值得注意的是，sun.misc.BASE64Encoder和sun.misc.BASE64Decoder被删除了。而是使用受支持的<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Base64.html" target="_blank" rel="noopener">java.util.Base64</a>类，该类在JDK 8中添加。</p>
<p>如果您使用这些API，则可能希望迁移到其支持的替换项：</p>
<ul>
<li><p>sun.misc.Unsafe</p>
<p>通过使用变量句柄可以使用此类中的许多方法的功能，请参阅<a href="http://openjdk.java.net/jeps/193" target="_blank" rel="noopener">JEP 193：可变句柄</a>。</p>
</li>
<li><p>sun.reflect.Reflection :: getCallerClass（INT）</p>
<p>相反，使用stack-walking API，请参阅<a href="http://openjdk.java.net/jeps/259" target="_blank" rel="noopener">JEP 259：Stack-Walking API</a>。</p>
</li>
</ul>
<p>请参阅<a href="http://openjdk.java.net/jeps/260" target="_blank" rel="noopener">JEP 260：封装大多数内部API</a>。</p>
<h3 id="java-awt-peer不可访问"><a href="#java-awt-peer不可访问" class="headerlink" title="java.awt.peer不可访问"></a>java.awt.peer不可访问</h3><p>该java.awt.peer中和java.awt.dnd.peer包无法访问，在JDK 9开始的包从来没有在Java SE API的一部分，尽管是java中。*命名空间。</p>
<p>引用这些包中定义的类型的Java SE API中的所有方法都从JDK 9中删除。调用先前接受或返回在这些包中定义的类型的方法的代码不再编译或运行。</p>
<p>java.awt.peer</p>
<ul>
<li><p>要查看是否已设置对等方：</p>
<figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (component.getPeer() != <span class="built_in">null</span>) &#123; .. &#125;</span><br></pre></td></tr></table></figure>
<p>将其替换为JDK 1.1 API中的</p>
<p>Component.isDisplayable（）</p>
<p>：</p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">boolean</span> <span class="title">isDisplayable</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> getPeer() != <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>要测试组件是否轻量级：</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (component.getPeer() <span class="keyword">instanceof</span> LightweightPeer) ..</span><br></pre></td></tr></table></figure>
<p>将其替换为JDK 1.2 API中的</p>
<p>Component.isLightweight（）</p>
<p>：</p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">boolean</span> <span class="title">isLightweight</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> getPeer() <span class="keyword">instanceof</span> LightweightPeer;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="删除了com-sun-image-codec-jpeg包"><a href="#删除了com-sun-image-codec-jpeg包" class="headerlink" title="删除了com.sun.image.codec.jpeg包"></a>删除了com.sun.image.codec.jpeg包</h3><p>非标准包com.sun.image.codec.jpeg已被删除。请改用Java Image I / O API。</p>
<p>该的com.sun.image.codec.jpeg包JDK 1.2中加入作为控制装载和JPEG格式的图像文件的保存的一个非标准的方式。它从未成为平台规范的一部分。</p>
<p>在JDK 1.4中，Java Image I / O API作为标准API添加，位于javax.imageio包中。它提供了一种标准机制，用于控制采样图像格式的加载和保存，并要求所有兼容的Java SE实现都支持基于Java Image I / O规范的JPEG。</p>
<h3 id="删除了压缩配置文件的工具支持"><a href="#删除了压缩配置文件的工具支持" class="headerlink" title="删除了压缩配置文件的工具支持"></a>删除了压缩配置文件的工具支持</h3><p>从JDK 9开始，您可以选择针对Java运行时映像中的任何模块子集构建和运行应用程序，而无需依赖预定义的配置文件。</p>
<p>Java SE 8中引入的配置文件定义了Java SE Platform API的子集，这些子集可以减少存储容量有限的设备上Java运行时的静态大小。在JDK 8支持工具三个配置文件，<code>compact1</code>，<code>compact2</code>，和<code>compact3</code>。有关每个配置文件的API组合，请参阅JDK 8文档中的<a href="https://docs.oracle.com/javase/8/docs/technotes/guides/compactprofiles/compactprofiles.html" target="_blank" rel="noopener">详细配置文件组合</a>和<a href="https://docs.oracle.com/javase/8/docs/api/overview-summary.html" target="_blank" rel="noopener">API参考</a>。</p>
<p>在JDK 8中，您可以使用该<code>-profile</code>选项在运行<code>javac</code>和<code>java</code>命令时指定配置文件。从JDK 9开始，该<code>-profile</code>选项<code>javac</code>仅与该<code>--release 8</code>选项一起支持，并且不受支持<code>java</code>。</p>
<p>JDK 9及更高版本允许您选择在编译和运行时使用的模块。通过使用新<code>--limit-modules</code>选项指定模块，您可以获得紧凑配置文件中的相同API。该选项是由两个支持<code>javac</code>和<code>java</code>命令，如在以下实施例：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">javac --limit-modules java<span class="selector-class">.base</span>,java<span class="selector-class">.logging</span> MyApp.java</span><br><span class="line">java --limit-modules java<span class="selector-class">.base</span>,java<span class="selector-class">.logging</span> MyApp</span><br></pre></td></tr></table></figure>
<p>为Java SE 8中的每个配置文件指定的包将由以下几组模块共同导出：</p>
<ul>
<li>对于<code>compact1</code>配置文件：java.base，java.logging，java.scripting</li>
<li>对于<code>compact2</code>配置文件：java.base，java.logging，java.scripting，java.rmi，java.sql，java.xml</li>
<li>对于<code>compact3</code>配置文件：java.base，java.logging，java.scripting，java.rmi，java.sql，java.xml，java.compiler，java.instrument，java.management，java.naming，java.prefs，java。 security.jgss，java.security.sasl，java.sql.rowset，java.xml.crypto</li>
</ul>
<p>您可以使用该<code>jdeps</code>工具对源代码中使用的Java包进行静态分析。这为您提供了执行应用程序所需的一组模块。<code>compact3</code>例如，如果您一直在使用该 配置文件，那么您可能会发现在构建应用程序时不需要包含整套模块。见<a href="http://www.oracle.com/pls/topic/lookup?ctx=javase11&amp;id=jdeps_tool_reference" target="_blank" rel="noopener">jdeps</a>在Java平台，标准版工具参考。</p>
<p>请参阅<a href="http://openjdk.java.net/jeps/200" target="_blank" rel="noopener">JEP 200：模块化JDK</a>。</p>
<h3 id="默认情况下使用CLDR区域设置数据"><a href="#默认情况下使用CLDR区域设置数据" class="headerlink" title="默认情况下使用CLDR区域设置数据"></a>默认情况下使用CLDR区域设置数据</h3><p>从JDK 9开始，Unicode Consortium的公共区域设置数据存储库（CLDR）数据作为默认区域设置数据启用，因此您可以使用标准区域设置数据而无需任何进一步操作。</p>
<p>在JDK 8中，虽然CLDR区域设置数据与JRE捆绑在一起，但默认情况下不启用它。</p>
<p>使用区域设置敏感服务（如日期，时间和数字格式）的代码可能会使用CLDR区域设置数据生成不同的结果。请记住，即使System.out.printf（）也可以识别区域设置。</p>
<p>要启用与JDK 8兼容的行为，请将系统属性设置为例如前面的<code>java.locale.providers</code>值。<code>COMPAT`</code>CLDR<code></code>java.locale.providers=COMPAT,CLDR`</p>
<p>见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/java/javase/11/migrate&amp;id=JSINT-GUID-9DCDB41C-A989-4220-8140-DBFB844A0FCA" target="_blank" rel="noopener">CLDR语言环境数据通过默认启用</a>的Java平台，标准版国际指南和<a href="http://openjdk.java.net/jeps/252" target="_blank" rel="noopener">JEP 252：使用CLDR语言环境数据的默认</a>。</p>
<h3 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h3><p>Java部署技术在JDK 9中已弃用，在JDK 11中已删除。</p>
<p>使用<code>jlink</code>JDK 9引入的工具打包和部署专用运行时，而不是依赖于预安装的系统JRE。</p>
<h3 id="删除了启动时JRE版本选择"><a href="#删除了启动时JRE版本选择" class="headerlink" title="删除了启动时JRE版本选择"></a>删除了启动时JRE版本选择</h3><p>从JDK 9开始，删除了请求从发布时启动的JRE版本的JRE版本的能力。</p>
<p>现代应用程序通常使用Java Web Start（JNLP），本机OS打包系统或活动安装程序进行部署。这些技术有自己的方法来管理所需的JRE，根据需要查找或下载并更新所需的JRE。这使得启动程序的启动时JRE版本选择已过时。</p>
<p>在以前的版本中，您可以指定启动应用程序时要使用的JRE版本（或版本范围）。通过命令行选项和应用程序的JAR文件中的清单条目，可以选择版本。</p>
<p>从JDK 9开始，<code>java</code></p>
<ul>
<li>如果<code>-version:</code>在命令行上给出了选项，则发出错误消息并退出。</li>
<li>如果<code>JRE-Version</code>在JAR文件中找到清单条目，则发出警告消息并继续。</li>
</ul>
<p>请参阅<a href="http://openjdk.java.net/jeps/231" target="_blank" rel="noopener">JEP 231：删除启动时JRE版本选择。</a></p>
<h3 id="删除了对序列化小程序的支持"><a href="#删除了对序列化小程序的支持" class="headerlink" title="删除了对序列化小程序的支持"></a>删除了对序列化小程序的支持</h3><p>从JDK 9开始，不支持将applet部署为序列化对象的能力。借助现代压缩和JVM性能，以这种方式部署applet没有任何好处。</p>
<p>在<code>object</code>该属性<code>applet</code>标签和<code>object</code>和<code>java object</code>applet的参数标签启动小程序时被忽略。</p>
<p>而不是序列化小程序，使用标准部署策略。</p>
<h3 id="JNLP规范更新"><a href="#JNLP规范更新" class="headerlink" title="JNLP规范更新"></a>JNLP规范更新</h3><p>JNLP（Java网络启动协议）已更新，以消除不一致性，使代码维护更容易，并增强安全性。</p>
<p>JNLP已更新如下：</p>
<ol>
<li><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&amp;amp;</span></span><br></pre></td></tr></table></figure>
<p>而不是</p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&amp;</span></span><br></pre></td></tr></table></figure>
<p>在JNLP文件中。</p>
<p>JNLP文件语法符合XML规范，所有JNLP文件都应该能够由标准XML解析器解析。</p>
<p>JNLP文件允许您指定复杂的比较。以前，这是通过使用ampersand（<code>&amp;</code>）完成的，但标准XML不支持此功能。如果您正在使用<code>&amp;</code>创建复杂的比较，请<code>&amp;amp;</code>在JNLP文件中替换它。<code>&amp;amp;</code>与所有版本的JNLP兼容。</p>
</li>
<li><p>将数字版本元素类型与非数字版本元素类型进行比较。</p>
<p>以前，当将<code>int</code>版本元素与另一个无法解析为<code>int</code>的版本元素进行比较时，版本元素按字典顺序通过ASCII值进行比较。</p>
<p>从JDK 9开始，如果可以解析为<code>int</code>a 的元素是一个比另一个元素更短的字符串，则在按字典顺序按ASCII值进行比较之前，它将用前导零填充。这确保不存在圆形。</p>
<p>在使用版本比较和JNLP servlet的情况下，您应该仅使用数值来表示版本。</p>
</li>
<li><p>具有</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">java</span></span><br></pre></td></tr></table></figure>
<p>（或</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">j2se</span><br></pre></td></tr></table></figure>
<p>）元素中嵌套资源的组件扩展。</p>
<p>这在规范中是允许的。它以前得到了支持，但这种支持没有反映在规范中。</p>
</li>
<li><p>FX XML扩展。</p>
<p>该JNLP规范已经增强，一个添加<code>type</code>属性<code>application-desc</code>元素，并添加子元素<code>param</code>中<code>application-desc</code>（因为它已经是<code>applet-desc</code>）。</p>
<p>这不会导致现有应用程序出现问题，因为仍然支持以前指定JavaFX应用程序的方法。</p>
</li>
</ol>
<p>请参阅<a href="https://jcp.org/aboutJava/communityprocess/maintenance/jsr056/9.html" target="_blank" rel="noopener">JSR-056上</a>的JNLP规范更新。</p>
<h3 id="JDK-9中的安全更新"><a href="#JDK-9中的安全更新" class="headerlink" title="JDK 9中的安全更新"></a>JDK 9中的安全更新</h3><p>从JDK 9开始，一些与安全相关的默认值已更改。</p>
<h3 id="JCE管辖权政策文件默认为无限制"><a href="#JCE管辖权政策文件默认为无限制" class="headerlink" title="JCE管辖权政策文件默认为无限制"></a>JCE管辖权政策文件默认为无限制</h3><p>如果您的应用程序以前需要Java Cryptography Extension（JCE）Unlimited Strength Jurisdiction Policy Files，那么您不再需要下载或安装它们。它们包含在JDK中，默认情况下处于激活状态。</p>
<p>如果您的国家/地区或用途需要更严格的策略，则仍然可以使用有限的Java加密策略文件。</p>
<p>如果默认情况下提供的任一策略文件都不满足要求，则可以自定义这些策略文件以满足您的需要。</p>
<p>请参阅文件中的<code>crypto.policy</code>Security属性<code>&lt;java-home&gt;/conf/security/java.security</code>，或Java平台标准版安全开发人员指南中的<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/java/javase/11/migrate&amp;id=JSSEC-GUID-EFA5AC2D-644E-4CD9-8523-C6D3936D5FB1" target="_blank" rel="noopener">加密强度配置</a>。</p>
<p>建议您咨询您的出口/进口控制律师或律师，以确定具体要求。</p>
<h3 id="创建PKCS12密钥库"><a href="#创建PKCS12密钥库" class="headerlink" title="创建PKCS12密钥库"></a>创建PKCS12密钥库</h3><p>我们建议您为密钥库使用PKCS12格式。此格式是默认密钥库类型，基于RSA PKCS12个人信息交换语法标准。</p>
<p>请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/java/javase/11/migrate&amp;id=JSSEC-GUID-3D26386B-BC7A-41BB-AC70-80E6CD147D6F" target="_blank" rel="noopener">创建密钥库与JSSE使用</a>的Java平台，标准版安全开发人员指南和<a href="http://www.oracle.com/pls/topic/lookup?ctx=javase12&amp;id=keytool_tool_reference" target="_blank" rel="noopener">密钥工具</a>在Java平台，标准版工具参考。</p>
<h3 id="垃圾收集的变化"><a href="#垃圾收集的变化" class="headerlink" title="垃圾收集的变化"></a>垃圾收集的变化</h3><p>本节介绍从JDK 9开始的垃圾回收更改。</p>
<h3 id="使G1成为默认垃圾收集器"><a href="#使G1成为默认垃圾收集器" class="headerlink" title="使G1成为默认垃圾收集器"></a>使G1成为默认垃圾收集器</h3><p>Garbage-First垃圾收集器（G1 GC）是JDK 9及更高版本中的默认垃圾收集器。</p>
<p>对于大多数用户而言，低暂停收集器（例如G1 GC）应该提供比面向吞吐量的收集器更好的整体体验，例如Parallel GC，它是JDK 8的默认值。</p>
<p>见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/java/javase/11/migrate&amp;id=JSGCT-GUID-082C967F-2DAC-4B59-8A81-0CEC6EEB9016" target="_blank" rel="noopener">为G1 GC人体工学默认值</a>和<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/java/javase/11/migrate&amp;id=JSGCT-GUID-379B3888-FE24-4C3F-9E38-26434EB04F89" target="_blank" rel="noopener">可调默认</a>的Java平台，标准版Java虚拟机指南有关调整G1 GC的更多信息。</p>
<h3 id="删除了GC选项"><a href="#删除了GC选项" class="headerlink" title="删除了GC选项"></a>删除了GC选项</h3><p>以下GC组合将导致您的应用程序无法在JDK 9及更高版本中启动：</p>
<ul>
<li><code>DefNew + CMS</code></li>
<li><code>ParNew + SerialOld</code></li>
<li><code>Incremental CMS</code></li>
</ul>
<p>CMS的前台模式也已删除。被删除的命令行标志<code>-Xincgc</code>，<code>-XX:+CMSIncrementalMode</code>，<code>-XX:+UseCMSCompactAtFullCollection</code>，<code>-XX:+CMSFullGCsBeforeCompaction</code>，和<code>-XX:+UseCMSCollectionPassing</code>。</p>
<p>命令行标志<code>-XX:+UseParNewGC</code>不再有效。该<code>ParNew</code>标志只能用于CMS和CMS要求<code>ParNew</code>。因此，该<code>-XX:+UseParNewGC</code>标志已被弃用，并且有资格在将来的版本中删除。</p>
<p>请参阅<a href="http://openjdk.java.net/jeps/214" target="_blank" rel="noopener">JEP 214：删除JDK 8中不推荐使用的GC组合</a>。</p>
<p>删除了永久世代</p>
<p>在JDK 8中删除了永久代，并且相关的VM选项会导致打印警告。您应该从脚本中删除这些选项：</p>
<ul>
<li><code>-XX:MaxPermSize=size</code></li>
<li><code>-XX:PermSize=size</code></li>
</ul>
<p>在JDK 9及更高版本中，JVM会显示如下警告：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Java HotSpot(TM) 64-Bit<span class="built_in"> Server </span>VM warning: Ignoring option MaxPermSize; support was removed <span class="keyword">in</span> 8.0</span><br></pre></td></tr></table></figure>
<p>知道永久代的工具可能需要更新。</p>
<p>请参阅<a href="http://openjdk.java.net/jeps/122" target="_blank" rel="noopener">JEP 122：删除永久生成</a>和<a href="http://www.oracle.com/technetwork/java/javase/9-removed-features-3745614.html" target="_blank" rel="noopener">JDK 9发行说明 - 已删除的API，功能和选项</a>。</p>
<h3 id="GC日志输出的更改"><a href="#GC日志输出的更改" class="headerlink" title="GC日志输出的更改"></a>GC日志输出的更改</h3><p>垃圾收集（GC）日志记录使用JVM统一日志记录框架，新旧日志之间存在一些差异。您正在使用的任何GC日志解析器都可能需要更改。</p>
<p>您可能还需要更新JVM日志记录选项。所有与GC相关的日志记录都应使用<code>gc</code>标记（例如<code>—Xlog:gc</code>），通常与其他标记结合使用。这些<code>—XX:+PrintGCDetails</code>和<code>-XX:+PrintGC</code>选项已被弃用。</p>
<p>请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/java/javase/11/migrate&amp;id=JSWOR-GUID-BE93ABDC-999C-4CB5-A88B-1994AAAC74D5" target="_blank" rel="noopener">启用与JVM统一日志框架记录</a>在Java平台，标准版工具参考和<a href="http://openjdk.java.net/jeps/271" target="_blank" rel="noopener">JEP 271：统一GC日志记录</a>。</p>
<h3 id="删除了工具和组件"><a href="#删除了工具和组件" class="headerlink" title="删除了工具和组件"></a>删除了工具和组件</h3><p>此列表包括不再与JDK捆绑在一起的工具和组件。</p>
<p>要了解有关JDK 11中删除的工具和组件的更多信息，请参阅JDK 11中的已<a href="https://docs.oracle.com/en/java/javase/11/migrate/index.html#GUID-4B613B7E-B150-4D0A-835C-2393C60BE1F8" target="_blank" rel="noopener">删除API</a>。</p>
<h3 id="删除了Native-Header生成工具（javah）"><a href="#删除了Native-Header生成工具（javah）" class="headerlink" title="删除了Native-Header生成工具（javah）"></a>删除了Native-Header生成工具（javah）</h3><p>该<code>javah</code>工具已被优越的功能所取代<code>javac</code>。它已在JDK 10中删除。</p>
<p>从JDK 8开始，<code>javac</code>提供了在编译Java源代码时编写本机头文件的功能，从而无需单独的工具。</p>
<p>而不是<code>javah</code></p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">javac -h</span></span><br></pre></td></tr></table></figure>
<h3 id="删除了JavaDB"><a href="#删除了JavaDB" class="headerlink" title="删除了JavaDB"></a>删除了JavaDB</h3><p>JavaDB是Apache Derby的品牌重塑，不再包含在JDK中。</p>
<p>JavaDB与JDK 7和JDK 8捆绑在一起。它<code>db</code>位于JDK安装目录的目录中。</p>
<p>您可以从<a href="https://db.apache.org/derby/derby_downloads.html" target="_blank" rel="noopener">Apache Derby Downloads</a>下载并安装Apache Derby 。</p>
<h3 id="删除了JVM-TI-hprof代理"><a href="#删除了JVM-TI-hprof代理" class="headerlink" title="删除了JVM TI hprof代理"></a>删除了JVM TI hprof代理</h3><p>该<code>hprof</code>代理程序库已被删除。</p>
<p>该<code>hprof</code>剂被写为演示代码<a href="https://docs.oracle.com/javase/8/docs/technotes/guides/jvmti/index.html" target="_blank" rel="noopener">JVM工具界面</a>，并没有打算成为一个生产工具。<code>hprof</code>代理的有用功能已被更好的替代方案所取代，包括JDK中包含的一些替代方案。</p>
<p>要以<code>hprof</code>格式创建堆转储，请使用诊断命令（<code>jcmd</code>）或<code>jmap</code>工具：</p>
<ul>
<li>诊断命令：。见。 <code>jcmd &lt;pid&gt; GC.heap_dump`</code>jcmd`</li>
<li>jmap : <code>jmap -dump</code>. 见<code>jmap</code>。</li>
</ul>
<p>对于CPU Profiler功能，请使用与JDK捆绑在一起的Java Flight Recorder。</p>
<p>注意：</p>
<p>Java Flight Recorder需要商业许可才能用于生产。要了解有关商业功能以及如何启用它们的更多信息，请访问<a href="http://www.oracle.com/technetwork/java/javaseproducts/" target="_blank" rel="noopener">http://www.oracle.com/technetwork/java/javaseproducts/</a></p>
<p>请参阅<a href="http://openjdk.java.net/jeps/240" target="_blank" rel="noopener">JEP 240：删除JVM TI hprof代理</a>。</p>
<h3 id="删除了jhat工具"><a href="#删除了jhat工具" class="headerlink" title="删除了jhat工具"></a>删除了jhat工具</h3><p>该<code>jhat</code>工具是JDK 6中添加的实验性，不受支持的堆可视化工具。高级堆可视化器和分析器已经可用多年。</p>
<h3 id="删除了java-rmi-exe和java-rmi-cgi启动器"><a href="#删除了java-rmi-exe和java-rmi-cgi启动器" class="headerlink" title="删除了java-rmi.exe和java-rmi.cgi启动器"></a>删除了java-rmi.exe和java-rmi.cgi启动器</h3><p><code>java-rmi.exe</code>来自Windows以及<code>java-rmi.cgi</code>Linux和Solaris 的启动程序已被删除。</p>
<p><code>java-rmi.cgi</code>在<code>$JAVA_HOME/bin</code>Linux和Solaris上。</p>
<p><code>java-rmi.exe</code>在<code>$JAVA_HOME/bin</code>Windows上。</p>
<p>这些启动程序被添加到JDK中以便于使用RMI CGI代理机制，该机制在JDK 8中已弃用。</p>
<p>多年来，使用servlet代替RMI over HTTP的替代方案已经可用，甚至是首选。请参阅<a href="https://docs.oracle.com/javase/8/docs/technotes/guides/rmi/faq.html#servlet" target="_blank" rel="noopener">Java RMI和对象序列化。</a></p>
<h3 id="从JMX-RMIConnector中删除了对IIOP传输的支持"><a href="#从JMX-RMIConnector中删除了对IIOP传输的支持" class="headerlink" title="从JMX RMIConnector中删除了对IIOP传输的支持"></a>从JMX RMIConnector中删除了对IIOP传输的支持</h3><p>来自JMX RMI连接器的IIOP传输支持及其支持类已从JDK中删除。</p>
<p>在JDK 8中，对IIOP传输的支持从需求降级为可选。这是多版本努力从JMX Remote API中删除对IIOP传输的支持的第一步。在JDK 9中，完全删除了对IIOP的支持。</p>
<p>公共API更改包括：</p>
<ul>
<li>该<code>javax.management.remote.rmi.RMIIIOPServerImpl</code>班已弃用。在调用时，它的所有方法和构造函数都会抛出<code>java.lang.UnsupportedOperationException</code>一条解释性消息。</li>
<li>不会生成两个类，<code>org.omg.stub.javax.management.rmi._RMIConnection_Stub</code>和<code>org.omg.stub.javax.management.rmi._RMIConnection_Tie</code>。</li>
</ul>
<h3 id="删除了Windows-32位客户端VM"><a href="#删除了Windows-32位客户端VM" class="headerlink" title="删除了Windows 32位客户端VM"></a>删除了Windows 32位客户端VM</h3><p>Windows 32位客户端VM不再可用。仅提供服务器VM。</p>
<p>JDK 8及更早版本为Windows 32位系统提供了客户端JVM和服务器JVM。JDK 9及更高版本仅提供服务器JVM，该服务器JVM经过调整以最大化峰值运行速度。</p>
<h3 id="删除了Java-VisualVM"><a href="#删除了Java-VisualVM" class="headerlink" title="删除了Java VisualVM"></a>删除了Java VisualVM</h3><p>Java VisualVM是一个工具，它提供有关在Java虚拟机上运行的代码的信息。该<code>jvisualvm</code>工具提供了JDK 6，JDK 7和JDK 8。</p>
<p>Java VisualVM不再与JDK捆绑在一起，但您可以从<a href="https://visualvm.github.io/" target="_blank" rel="noopener">VisualVM开源项目站点</a>获取它。</p>
<h3 id="删除了native2ascii工具"><a href="#删除了native2ascii工具" class="headerlink" title="删除了native2ascii工具"></a>删除了native2ascii工具</h3><p>该<code>native2ascii</code>工具已从JDK中删除。由于JDK 9及更高版本支持基于UTF-8的属性资源包，因此不再需要基于UTF-8的属性资源包到ISO-8859-1的转换工具。</p>
<p>见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/java/javase/11/migrate&amp;id=JSINT-GUID-974CF488-23E8-4963-A322-82006A7A14C7" target="_blank" rel="noopener">UTF-8属性文件</a>中的Java平台，标准版国际指南。</p>
<h3 id="删除了特定于macOS的功能"><a href="#删除了特定于macOS的功能" class="headerlink" title="删除了特定于macOS的功能"></a>删除了特定于macOS的功能</h3><p>本节包括从JDK 9开始已删除的特定于macOS的功能。</p>
<h3 id="特定于平台的桌面功能"><a href="#特定于平台的桌面功能" class="headerlink" title="特定于平台的桌面功能"></a>特定于平台的桌面功能</h3><p>本<code>java.awt.Desktop</code>类包含了苹果专用的API的替代品<code>com.apple.eawt</code>和<code>com.apple.eio</code>套餐。新API取代了macOS API，并且与平台无关。</p>
<p><code>com.apple.eawt</code>和<code>com.apple.eio</code>包中的API 是封装的，因此您无法在JDK 9或更高版本中针对它们进行编译。但是，它们在运行时仍可访问，因此编译为旧版本的现有代码将继续运行。最终，使用<code>apple</code>和<code>com.apple</code> 包及其子包中的内部类的库或应用程序  将需要迁移到新的API。</p>
<p>在<code>com.apple.concurrent</code> 与<code>apple.applescript</code>包没有任何替代删除。</p>
<p>请参阅<a href="http://openjdk.java.net/jeps/272" target="_blank" rel="noopener">JEP 272：特定于平台的桌面功能。</a></p>
<h3 id="删除了AppleScript引擎"><a href="#删除了AppleScript引擎" class="headerlink" title="删除了AppleScript引擎"></a>删除了AppleScript引擎</h3><p>AppleScript引擎是一个特定于平台的javax.script实现，在JDK中没有任何替换，已被删除。</p>
<p>AppleScript引擎在最近的版本中几乎无法使用。该功能仅适用于已在系统上具有Apple版本<code>AppleScriptEngine.jar</code>文件的系统上的JDK 7或JDK 8 。</p>
<h3 id="下一步"><a href="#下一步" class="headerlink" title="下一步"></a>下一步</h3><p>在JDK 11上运行应用程序之后，这里有一些建议可以帮助您从Java SE平台中获得最大收益：</p>
<ul>
<li>如果需要，使用<a href="http://www.oracle.com/pls/topic/lookup?ctx=javase12&amp;id=javac_tool_reference" target="_blank" rel="noopener">javac</a>工具中的新<code>-–release</code>标志交叉编译到平台的旧版本 。</li>
<li>利用IDE的建议，使用最新功能更新代码。</li>
<li>通过运行静态分析工具<a href="http://www.oracle.com/pls/topic/lookup?ctx=javase11&amp;id=jdeprscan_tool_reference" target="_blank" rel="noopener">jdeprscan，</a>了解您的代码是否使用了弃用的API 。正如本指南中已经提到的，API可以从JDK中删除，但只能提前通知。</li>
<li>熟悉多版本JAR文件等新功能（参见<a href="http://www.oracle.com/pls/topic/lookup?ctx=javase11&amp;id=jar_tool_reference" target="_blank" rel="noopener">jar</a>）。</li>
</ul>
<h3 id="文档可访问性"><a href="#文档可访问性" class="headerlink" title="文档可访问性"></a>文档可访问性</h3><p>有关Oracle对辅助功能的承诺的信息，请访问Oracle辅助功能计划网站<a href="http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=docacc。" target="_blank" rel="noopener">http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=docacc。</a></p>
<p>访问Oracle支持</p>
<p>已购买支持的Oracle客户可通过My Oracle Support获得电子支持。有关详细信息，请访问<a href="http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=info或访问http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=trs如果您听力受损。" target="_blank" rel="noopener">http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=info或访问http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=trs如果您听力受损。</a></p>
<hr>
<p>Java平台，标准版Oracle JDK迁移指南，版本11</p>
<p>E94894-03</p>
<p>版权所有©2017,2019，Oracle和/或其附属公司。版权所有。</p>
<p>本指南将帮助您将应用程序从Oracle JDK 8迁移到Oracle JDK 10。</p>
<p>本软件及相关文档根据许可协议提供，该协议包含对使用和披露的限制，并受知识产权法保护。除非您的许可协议中明确允许或法律允许，否则您不得以任何形式使用，复制，复制，翻译，广播，修改，许可，传输，分发，展示，执行，发布或展示任何部分，或以任何方式。除非法律要求互操作性，否则禁止对该软件进行逆向工程，反汇编或反编译。</p>
<p>此处包含的信息如有更改，恕不另行通知，并且不保证没有错误。如果您发现任何错误，请以书面形式向我们报告。</p>
<p>如果这是交付给美国政府的软件或相关文档或代表美国政府许可的任何人，则以下通知适用：</p>
<p>美国政府最终用户：根据适用的联邦采购法规和代理机构，Oracle程序，包括任何操作系统，集成软件，安装在硬件上的任何程序和/或文档，都是“商业计算机软件”。具体的补充规定。因此，程序的使用，复制，公开，修改和调整，包括任何操作系统，集成软件，安装在硬件上的任何程序和/或文档，应受适用于程序的许可条款和许可限制的约束。 。没有其他权利授予美国政府。</p>
<p>该软件或硬件被开发用于各种信息管理应用中的一般用途。它不是为任何本质上危险的应用而开发或打算使用的，包括可能造成人身伤害风险的应用。如果您在危险应用程序中使用此软件或硬件，则您应负责采取所有适当的故障安全，备份，冗余和其他措施，以确保其安全使用。Oracle Corporation及其附属公司对因在危险应用中使用此软件或硬件而造成的任何损害不承担任何责任。</p>
<p>Oracle和Java是Oracle和/或其附属公司的注册商标。其他名称可能是其各自所有者的商标。</p>
<p>Intel和Intel Xeon是Intel Corporation的商标或注册商标。所有SPARC商标的使用均已获得许可，是SPARC International，Inc。的商标或注册商标.AMD，Opteron，AMD徽标和AMD Opteron徽标是Advanced Micro Devices的商标或注册商标。UNIX是The Open Group的注册商标。</p>
<p>该软件或硬件和文档可以提供对来自第三方的内容，产品和服务的访问或信息。除非您与Oracle之间的适用协议另有规定，否则Oracle Corporation及其附属公司不对第三方内容，产品和服务的任何形式的保证承担任何责任，并明确拒绝。Oracle Corporation及其附属公司对由于您访问或使用第三方内容，产品或服务而导致的任何损失，成本或损害不承担任何责任，但您与Oracle之间的适用协议中规定的除外。</p>

    </div>
    
    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="/" target="_blank">Ljjyy.com</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/archives/2019/08/100577.html" class="pre-post btn btn-default" title='JavaFX 11+ controlsfx的build.gradle'>
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs">JavaFX 11+ controlsfx的build.gradle</span>
        </a>
    
    
        <a href="/archives/2019/08/100575.html" class="next-post btn btn-default" title='用于运行JavaFX 11+应用程序的Maven插件'>
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs">用于运行JavaFX 11+应用程序的Maven插件</span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>


    <div id="comments">
        
	
    <div id="vcomments" class="valine"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="/assets/valine.min.js"></script>

    <script>
        new Valine({
            av: AV,
            el: '#vcomments',
            appId: '5MzTXYXkt03k101j0PmSDN34-gzGzoHsz',
            appKey: 'iwjYgwno6qj3wtDVVSbe8nYQ',
            placeholder: '说点什么吧',
            notify: false,
            verify: true,
            avatar: 'mm',
            meta: 'nick,mail'.split(','),
            pageSize: '10',
            path: window.location.pathname,
            lang: 'zh-CN'.toLowerCase()
        })
    </script>


    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">文章目录</h3>
        
            <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#入门"><span class="toc-text">入门</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JDK-11发布的重大变化"><span class="toc-text">JDK 11发布的重大变化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除部署堆栈"><span class="toc-text">删除部署堆栈</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除Java-EE和CORBA模块"><span class="toc-text">删除Java EE和CORBA模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安全更新"><span class="toc-text">安全更新</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除了API，工具和组件"><span class="toc-text">删除了API，工具和组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#在JDK-11中删除了API"><span class="toc-text">在JDK 11中删除了API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JDK-11未附带的工具和组件"><span class="toc-text">JDK 11未附带的工具和组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#准备迁移"><span class="toc-text">准备迁移</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#下载最新的JDK"><span class="toc-text">下载最新的JDK</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#在重新编译之前运行程序"><span class="toc-text">在重新编译之前运行程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#更新第三方库"><span class="toc-text">更新第三方库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#如果需要，编译您的应用程序"><span class="toc-text">如果需要，编译您的应用程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#在您的代码上运行jdeps"><span class="toc-text">在您的代码上运行jdeps</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#从JDK-8迁移到以后的JDK版本"><span class="toc-text">从JDK 8迁移到以后的JDK版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Understanding-Runtime-Access-Warnings"><span class="toc-text">Understanding Runtime Access Warnings</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#–add-exports"><span class="toc-text">–add-exports</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#–add-opens"><span class="toc-text">–add-opens</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#New-Version-String-Scheme"><span class="toc-text">New Version-String Scheme</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Changes-to-the-Installed-JDK-JRE-Image"><span class="toc-text">Changes to the Installed JDK/JRE Image</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Changed-JDK-and-JRE-Layout"><span class="toc-text">Changed JDK and JRE Layout</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#新的类加载器实现"><span class="toc-text">新的类加载器实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除了JDK-9中的rt-jar和tools-jar"><span class="toc-text">删除了JDK 9中的rt.jar和tools.jar</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Removed-Extension-Mechanism-in-JDK-9"><span class="toc-text">Removed Extension Mechanism in JDK 9</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Removed-Endorsed-Standards-Override-Mechanism"><span class="toc-text">Removed Endorsed Standards Override Mechanism</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Windows注册表项更改"><span class="toc-text">Windows注册表项更改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除或更改的API"><span class="toc-text">删除或更改的API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除了JDK-9和JDK-10中的API"><span class="toc-text">删除了JDK 9和JDK 10中的API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除了java。-API"><span class="toc-text">删除了java。* API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除和将来删除sun-misc和sun-reflect-API"><span class="toc-text">删除和将来删除sun.misc和sun.reflect API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#java-awt-peer不可访问"><span class="toc-text">java.awt.peer不可访问</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除了com-sun-image-codec-jpeg包"><span class="toc-text">删除了com.sun.image.codec.jpeg包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除了压缩配置文件的工具支持"><span class="toc-text">删除了压缩配置文件的工具支持</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#默认情况下使用CLDR区域设置数据"><span class="toc-text">默认情况下使用CLDR区域设置数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#部署"><span class="toc-text">部署</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除了启动时JRE版本选择"><span class="toc-text">删除了启动时JRE版本选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除了对序列化小程序的支持"><span class="toc-text">删除了对序列化小程序的支持</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JNLP规范更新"><span class="toc-text">JNLP规范更新</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JDK-9中的安全更新"><span class="toc-text">JDK 9中的安全更新</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JCE管辖权政策文件默认为无限制"><span class="toc-text">JCE管辖权政策文件默认为无限制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建PKCS12密钥库"><span class="toc-text">创建PKCS12密钥库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#垃圾收集的变化"><span class="toc-text">垃圾收集的变化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使G1成为默认垃圾收集器"><span class="toc-text">使G1成为默认垃圾收集器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除了GC选项"><span class="toc-text">删除了GC选项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GC日志输出的更改"><span class="toc-text">GC日志输出的更改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除了工具和组件"><span class="toc-text">删除了工具和组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除了Native-Header生成工具（javah）"><span class="toc-text">删除了Native-Header生成工具（javah）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除了JavaDB"><span class="toc-text">删除了JavaDB</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除了JVM-TI-hprof代理"><span class="toc-text">删除了JVM TI hprof代理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除了jhat工具"><span class="toc-text">删除了jhat工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除了java-rmi-exe和java-rmi-cgi启动器"><span class="toc-text">删除了java-rmi.exe和java-rmi.cgi启动器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#从JMX-RMIConnector中删除了对IIOP传输的支持"><span class="toc-text">从JMX RMIConnector中删除了对IIOP传输的支持</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除了Windows-32位客户端VM"><span class="toc-text">删除了Windows 32位客户端VM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除了Java-VisualVM"><span class="toc-text">删除了Java VisualVM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除了native2ascii工具"><span class="toc-text">删除了native2ascii工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除了特定于macOS的功能"><span class="toc-text">删除了特定于macOS的功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#特定于平台的桌面功能"><span class="toc-text">特定于平台的桌面功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除了AppleScript引擎"><span class="toc-text">删除了AppleScript引擎</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#下一步"><span class="toc-text">下一步</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文档可访问性"><span class="toc-text">文档可访问性</span></a></li></ol>
        
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
</div>

            </div>
            <div class="col-sm-12">
                <span>Copyright &copy; 2019-2023&emsp;<a href="/" class="copyright-links" target="_blank" rel="nofollow">Ljjyy.com</a>
                </span> |
                <span>
                    <a href="/about/" class="copyright-links" target="_blank" rel="nofollow">关于我们</a>
                </span> |                
                <span>
                    <a href="/sitemap.xml" class="copyright-links" target="_blank" rel="nofollow">网站地图</a>
                </span> |
                <span>
                    <a href="/archives/" class="copyright-links" target="_blank" rel="nofollow">时间轴</a>
                </span>              
            </div>
        </div>
    </div>
</div>







<script src="/js/app.js?rev=@@hash"></script>

</body>
</html>
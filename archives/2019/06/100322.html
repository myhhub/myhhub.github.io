<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <meta name="theme-version" content="1.2.3">
    <meta name="root" content="/">
    <link rel="dns-prefetch" href="https://www.ljjyy.com">
    <!--SEO-->

    <meta name="keywords" content="hadoop,hive" />


    <meta name="description" content="一 安装环境
Hadoop 2.7.2
JDK 1.7 U79
Hive 2.1.0
Mysql(apt-get 安装)
192.168.1.166为Mysql server meta serv..." />



<meta name="robots" content="all" />
<meta name="google" content="all" />
<meta name="googlebot" content="all" />
<meta name="verify" content="all" />

    <!--Title-->


<title>大数据hadoop之 十六.Hive2.1.0的安装 | 来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟</title>


    <link rel="alternate" href="/atom.xml" title="来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟" type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    




<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7.css">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0.css">
<link rel="stylesheet" href="/css/style.css?rev=@@hash.css">





    
	<div class="hide">
        <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
        <script>LA.init({id: "JgbNOaw1xxsmUUsQ",ck: "JgbNOaw1xxsmUUsQ"})</script>
	</div>






    
    <meta name="baidu-site-verification" content="dTHILoORpx" />


    <script>
        (function(){
            var bp = document.createElement('script');
            var curProtocol = window.location.protocol.split(':')[0];
            if (curProtocol === 'https') {
                bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
            }
            else {
                bp.src = 'http://push.zhanzhang.baidu.com/push.js';
            }
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(bp, s);
        })();
    </script>

<meta name="generator" content="Hexo 7.3.0"></head>


<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header"  >
    <div class="main-header-box">
        <!--a class="header-avatar" href="/" title='Ljjyy.com'>
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a-->
        <div class="branding">
            
                <h2> 多读书多实践，勤思考善领悟 </h2>
            
    	  </div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">

        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="web-logo"  href="/" title='Ljjyy.com'></a>
                    <!--a class="navbar-brand" href="https://www.ljjyy.com">来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟</a-->
                </div>
                <div class="collapse navbar-collapse" id="main-menu" style="">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>首页</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/cloud/"><i class="fa "></i>云计算</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/front/"><i class="fa "></i>前端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/back/"><i class="fa "></i>后端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/devops/"><i class="fa "></i>运维</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/crack/"><i class="fa "></i>破解</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/penetration/"><i class="fa "></i>渗透</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/tool/"><i class="fa "></i>工具</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/other/"><i class="fa "></i>其他</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="大数据hadoop之 十六.Hive2.1.0的安装">
            
	            大数据hadoop之 十六.Hive2.1.0的安装
            
        </h1>
        <div class="post-meta">
    
        <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
            <a class="category-link" href="/categories/cloud/">云计算</a>
        </span>
    

    
        <span class="fa-wrap">
            <i class="fa fa-tags"></i>
            <span class="tags-meta">
                
                    <a class="tag-none-link" href="/tags/hadoop/" rel="tag">hadoop</a> <a class="tag-none-link" href="/tags/hive/" rel="tag">hive</a>
                
            </span>
        </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2019/06/14</span>
        </span>
        
    
</div>
            
            
            <p class="fa fa-exclamation-triangle warning">
                本文于<strong>2104</strong>天之前发表，文中内容可能已经过时。
            </p>
        
    </div>
    
    <div class="post-body post-content">
        <h2 id="一-安装环境"><a href="#一-安装环境" class="headerlink" title="一 安装环境"></a>一 安装环境</h2><ul>
<li>Hadoop 2.7.2</li>
<li>JDK 1.7 U79</li>
<li>Hive 2.1.0</li>
<li>Mysql(apt-get 安装)</li>
<li>192.168.1.166为Mysql server meta server安装位置</li>
<li>192.168.1.159为Hive数据仓库安装位置</li>
</ul>
<h2 id="二-Hive的安装-MySQL作为元数据库"><a href="#二-Hive的安装-MySQL作为元数据库" class="headerlink" title="二 Hive的安装-MySQL作为元数据库"></a>二 Hive的安装-MySQL作为元数据库</h2><ul>
<li>安装JDK-略过</li>
<li>安装Hadoop-略过</li>
<li>安装Mysql-略过</li>
</ul>
<h2 id="三-在192-168-1-166上建立Hive-meta数据库-用户-赋予权限"><a href="#三-在192-168-1-166上建立Hive-meta数据库-用户-赋予权限" class="headerlink" title="三 在192.168.1.166上建立Hive meta数据库,用户,赋予权限"></a>三 在192.168.1.166上建立Hive meta数据库,用户,赋予权限</h2><p><strong>mysql虚拟机的默认密码,在我做试验的时候是123456</strong></p>
<figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta"><span class="keyword">$mysql</span> -u root -p</span></span><br><span class="line">mysql&gt;grant <span class="keyword">all</span> privileges on *.* to hive@<span class="string">&quot;%&quot;</span> identified by <span class="string">&quot;hive&quot;</span> with grant <span class="keyword">option</span>;</span><br><span class="line">mysql&gt;flush privileges;</span><br><span class="line">Mysql在Ubuntu中默认安装后,只能在本机访问,如果要开启远程访问,需要做以下两个步骤:</span><br><span class="line"><span class="meta"><span class="keyword">$nano</span> /etc/mysql/my.cnf</span></span><br><span class="line"></span><br><span class="line">找到bind-address=<span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> ,把这一行注释掉</span><br><span class="line"><span class="meta"><span class="keyword">$service</span> mysql restart</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="四-在192-168-1-159上安装Hive"><a href="#四-在192-168-1-159上安装Hive" class="headerlink" title="四 在192.168.1.159上安装Hive"></a>四 在192.168.1.159上安装Hive</h2><h3 id="1-安装Hive"><a href="#1-安装Hive" class="headerlink" title="1 安装Hive"></a>1 安装Hive</h3><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hadoop<span class="variable">@hadoopmaster</span><span class="symbol">:~</span><span class="variable">$ </span>sudo tar xvfz apache-hive<span class="number">-2.1</span>.<span class="number">0</span>-bin.tar.gz </span><br><span class="line">hadoop<span class="variable">@hadoopmaster</span><span class="symbol">:~</span><span class="variable">$ </span>sudo cp -R apache-hive<span class="number">-2.1</span>.<span class="number">0</span>-bin /usr/local/hive </span><br><span class="line">hadoop<span class="variable">@hadoopmaster</span><span class="symbol">:~</span><span class="variable">$ </span>sudo chmod -R <span class="number">775</span> /usr/local/hive/</span><br><span class="line">hadoop<span class="variable">@hadoopmaster</span><span class="symbol">:~</span><span class="variable">$ </span>sudo chown -R <span class="symbol">hadoop:</span>hadoop /usr/local/hive</span><br></pre></td></tr></table></figure>


<h3 id="2-修改-etc-profile加入HIVE-HOME的变量"><a href="#2-修改-etc-profile加入HIVE-HOME的变量" class="headerlink" title="2 修改&#x2F;etc&#x2F;profile加入HIVE_HOME的变量"></a>2 修改&#x2F;etc&#x2F;profile加入HIVE_HOME的变量</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> <span class="attribute">HIVE_HOME</span>=/usr/local/hive</span><br><span class="line"><span class="built_in">export</span> <span class="attribute">PATH</span>=<span class="variable">$PATH</span>:$HIVE_HOME/bin</span><br><span class="line"><span class="built_in">export</span> <span class="attribute">CLASSPATH</span>=.:$&#123;JAVA_HOME&#125;/lib:<span class="variable">$&#123;JRE_HOME&#125;</span>/lib:/usr/local/hive/lib</span><br><span class="line"><span class="variable">$source</span> /etc/profile</span><br></pre></td></tr></table></figure>

<h3 id="3-修改hive-conf下的几个template模板并重命名为其他"><a href="#3-修改hive-conf下的几个template模板并重命名为其他" class="headerlink" title="3 修改hive&#x2F;conf下的几个template模板并重命名为其他"></a>3 修改hive&#x2F;conf下的几个template模板并重命名为其他</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cp hive-env.sh.<span class="keyword">template</span> hive-env.sh</span><br><span class="line">cp hive-<span class="keyword">default</span>.xml.<span class="keyword">template</span> hive-site.xml</span><br></pre></td></tr></table></figure>

<p><strong>配置hive-env.sh文件，指定HADOOP_HOME</strong></p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">HADOOP_HOME</span>=/usr/local/hadoop</span><br></pre></td></tr></table></figure>

<h3 id="4-修改hive-site-xml文件，指定MySQL数据库驱动、数据库名、用户名及密码，修改的内容如下所示"><a href="#4-修改hive-site-xml文件，指定MySQL数据库驱动、数据库名、用户名及密码，修改的内容如下所示" class="headerlink" title="4 修改hive-site.xml文件，指定MySQL数据库驱动、数据库名、用户名及密码，修改的内容如下所示"></a>4 修改hive-site.xml文件，指定MySQL数据库驱动、数据库名、用户名及密码，修改的内容如下所示</h3><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  </span><span class="language-xml"><span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionURL<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  </span><span class="language-xml"><span class="tag">&lt;<span class="name">value</span>&gt;</span>jdbc:mysql://192.168.1.178:3306/hive?createDatabaseIfNotExist=true<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  </span><span class="language-xml"><span class="tag">&lt;<span class="name">description</span>&gt;</span>JDBC connect string for a JDBC metastore<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  </span><span class="language-xml"><span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionDriverName<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  </span><span class="language-xml"><span class="tag">&lt;<span class="name">value</span>&gt;</span>com.mysql.jdbc.Driver<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  </span><span class="language-xml"><span class="tag">&lt;<span class="name">description</span>&gt;</span>Driver class name for a JDBC metastore<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  </span><span class="language-xml"><span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionUserName<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  </span><span class="language-xml"><span class="tag">&lt;<span class="name">value</span>&gt;</span>hive<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  </span><span class="language-xml"><span class="tag">&lt;<span class="name">description</span>&gt;</span>username to use against metastore database<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  </span><span class="language-xml"><span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionPassword<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  </span><span class="language-xml"><span class="tag">&lt;<span class="name">value</span>&gt;</span>hive<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  </span><span class="language-xml"><span class="tag">&lt;<span class="name">description</span>&gt;</span>password to use against metastore database<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">其中：</span><br><span class="line">javax.jdo.<span class="keyword">option</span>.ConnectionURL参数指定的是Hive连接数据库的连接字符串；</span><br><span class="line">javax.jdo.<span class="keyword">option</span>.ConnectionDriverName参数指定的是驱动的类入口名称；</span><br><span class="line">javax.jdo.<span class="keyword">option</span>.ConnectionUserName参数指定了数据库的用户名；</span><br><span class="line">javax.jdo.<span class="keyword">option</span>.ConnectionPassword参数指定了数据库的密码。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="5-缓存目录的问题-如果不配置也会出错的"><a href="#5-缓存目录的问题-如果不配置也会出错的" class="headerlink" title="5 缓存目录的问题,如果不配置也会出错的"></a>5 缓存目录的问题,如果不配置也会出错的</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>hive.exec.local.scratchdir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>/home/hadoop/iotmp<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">description</span>&gt;</span>Local scratch space for Hive jobs<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>hive.downloaded.resources.dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>/home/hadoop/iotmp<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">description</span>&gt;</span>Temporary local directory for added resources in the remote file system.<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>并且需要对目录进行权限设定 </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /home/hadoop/iotmp </span><br><span class="line"><span class="built_in">chmod</span> -R 775 /home/hadoop/iotmp </span><br></pre></td></tr></table></figure>

<h2 id="五-修改hive-bin下的hive-config-sh文件，设置JAVA-HOME-HADOOP-HOME"><a href="#五-修改hive-bin下的hive-config-sh文件，设置JAVA-HOME-HADOOP-HOME" class="headerlink" title="五 修改hive&#x2F;bin下的hive-config.sh文件，设置JAVA_HOME,HADOOP_HOME"></a>五 修改hive&#x2F;bin下的hive-config.sh文件，设置JAVA_HOME,HADOOP_HOME</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> <span class="attribute">JAVA_HOME</span>=/usr/lib/jvm</span><br><span class="line"><span class="built_in">export</span> <span class="attribute">HADOOP_HOME</span>=/usr/local/hadoop</span><br><span class="line"><span class="built_in">export</span> <span class="attribute">HIVE_HOME</span>=/usr/local/hive</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="六-下载mysql-connector-java-5-1-27-bin-jar文件，并放到-HIVE-HOME-lib目录下"><a href="#六-下载mysql-connector-java-5-1-27-bin-jar文件，并放到-HIVE-HOME-lib目录下" class="headerlink" title="六 下载mysql-connector-java-5.1.27-bin.jar文件，并放到$HIVE_HOME&#x2F;lib目录下"></a>六 下载mysql-connector-java-5.1.27-bin.jar文件，并放到$HIVE_HOME&#x2F;lib目录下</h2><p><strong>可以从Mysql的官方网站下载,但是记得一定要解压呀,下载的是一个tar.gz文件</strong></p>
<h2 id="七-在HDFS中创建-tmp和-user-hive-warehouse并设置权限"><a href="#七-在HDFS中创建-tmp和-user-hive-warehouse并设置权限" class="headerlink" title="七 在HDFS中创建&#x2F;tmp和&#x2F;user&#x2F;hive&#x2F;warehouse并设置权限"></a>七 在HDFS中创建&#x2F;tmp和&#x2F;user&#x2F;hive&#x2F;warehouse并设置权限</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -<span class="built_in">mkdir</span> /tmp</span><br><span class="line">hadoop fs -<span class="built_in">mkdir</span> -p /user/hive/warehouse</span><br><span class="line">hadoop fs -<span class="built_in">chmod</span> g+w /tmp</span><br><span class="line">hadoop fs -<span class="built_in">chmod</span> g+w /user/hive/warehouse</span><br></pre></td></tr></table></figure>

<h3 id="1-初始化meta数据库"><a href="#1-初始化meta数据库" class="headerlink" title="1. 初始化meta数据库"></a>1. 初始化meta数据库</h3><p>进入之前需要初始化数据库</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">schematool -initSchema -dbType mysql</span><br><span class="line"></span><br><span class="line">hadoop@hadoopmaster:/usr/<span class="keyword">local</span>/hive/lib$ schematool -initSchema -dbType mysql </span><br><span class="line">SLF4J: <span class="keyword">Class</span> <span class="type">path</span> contains multiple SLF4J bindings.</span><br><span class="line">SLF4J: <span class="built_in">Found</span> binding <span class="keyword">in</span> [jar:file:/usr/<span class="keyword">local</span>/hive/lib/log4j-slf4j-impl<span class="number">-2.4</span><span class="number">.1</span>.jar!/org/slf4j/impl/StaticLoggerBinder.<span class="keyword">class</span>]</span><br><span class="line">SLF4J: <span class="built_in">Found</span> binding <span class="keyword">in</span> [jar:file:/usr/<span class="keyword">local</span>/hadoop/<span class="keyword">share</span>/hadoop/common/lib/slf4j-log4j12<span class="number">-1.7</span><span class="number">.10</span>.jar!/org/slf4j/impl/StaticLoggerBinder.<span class="keyword">class</span>]</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings <span class="keyword">for</span> an explanation.</span><br><span class="line">SLF4J: Actual binding <span class="keyword">is</span> <span class="keyword">of</span> <span class="keyword">type</span> [org.apache.logging.slf4j.Log4jLoggerFactory]</span><br><span class="line">Metastore <span class="keyword">connection</span> URL: jdbc:mysql://<span class="number">192.168</span><span class="number">.1</span><span class="number">.166</span>:<span class="number">3306</span>/hive?createDatabaseIfNotExist=<span class="keyword">true</span></span><br><span class="line">Metastore <span class="keyword">Connection</span> Driver : com.mysql.jdbc.Driver</span><br><span class="line">Metastore <span class="keyword">connection</span> <span class="keyword">User</span>: hive</span><br><span class="line">Starting metastore <span class="keyword">schema</span> initialization <span class="keyword">to</span> <span class="number">2.1</span><span class="number">.0</span></span><br><span class="line">Initialization script hive-<span class="keyword">schema</span><span class="number">-2.1</span><span class="number">.0</span>.mysql.<span class="keyword">sql</span></span><br><span class="line">Initialization script completed</span><br><span class="line">schemaTool completed</span><br></pre></td></tr></table></figure>

<h3 id="2-测试hive-shell"><a href="#2-测试hive-shell" class="headerlink" title="2. 测试hive shell"></a>2. 测试hive shell</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hive</span><br><span class="line"><span class="keyword">show</span> databases;</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">tables</span>;</span><br></pre></td></tr></table></figure>

<h3 id="3-可以在hadoop中查看hive生产的文件"><a href="#3-可以在hadoop中查看hive生产的文件" class="headerlink" title="3. 可以在hadoop中查看hive生产的文件"></a>3. 可以在hadoop中查看hive生产的文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop dfs -<span class="built_in">ls</span> /user/hive/warehouse</span><br></pre></td></tr></table></figure>

<h2 id="七-Hive-shell使用实例"><a href="#七-Hive-shell使用实例" class="headerlink" title="七 Hive shell使用实例"></a>七 Hive shell使用实例</h2><p>在正式讲解HiveQL之前,先在命令行下运行几样命令是有好处的,可以感受一下HiveQL是如何工作的,也可以自已随便探索一下.</p>
<h3 id="1-创建数据-文本以tab分隔"><a href="#1-创建数据-文本以tab分隔" class="headerlink" title="1. 创建数据(文本以tab分隔)"></a>1. 创建数据(文本以tab分隔)</h3><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">~ vi /home/cos/demo/t_hive.txt</span><br><span class="line"></span><br><span class="line">16     <span class="number"> 2 </span>      3</span><br><span class="line">61     <span class="number"> 12 </span>     13</span><br><span class="line">41     <span class="number"> 2 </span>      31</span><br><span class="line">17     <span class="number"> 21 </span>     3</span><br><span class="line">71     <span class="number"> 2 </span>      31</span><br><span class="line">1      <span class="number"> 12 </span>     34</span><br><span class="line">11     <span class="number"> 2 </span>      34</span><br></pre></td></tr></table></figure>
<h3 id="2-创建新表"><a href="#2-创建新表" class="headerlink" title="2. 创建新表"></a>2. 创建新表</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hive&gt; <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t_hive (a <span class="type">int</span>, b <span class="type">int</span>, c <span class="type">int</span>) <span class="keyword">ROW</span> <span class="keyword">FORMAT</span> DELIMITED FIELDS TERMINATED <span class="keyword">BY</span> <span class="string">&#x27;\t&#x27;</span>;</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.121</span> seconds</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3-导入数据t-hive-txt到t-hive表"><a href="#3-导入数据t-hive-txt到t-hive表" class="headerlink" title="3. 导入数据t_hive.txt到t_hive表"></a>3. 导入数据t_hive.txt到t_hive表</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hive&gt; <span class="keyword">LOAD</span> DATA <span class="keyword">LOCAL</span> INPATH <span class="string">&#x27;/tmp/t_hive.txt&#x27;</span> OVERWRITE <span class="keyword">INTO</span> <span class="keyword">TABLE</span> t_hive ;</span><br><span class="line">Loading data <span class="keyword">to</span> <span class="keyword">table</span> <span class="keyword">default</span>.t_hive</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.609</span> seconds</span><br></pre></td></tr></table></figure>

<h3 id="4-查看表"><a href="#4-查看表" class="headerlink" title="4. 查看表"></a>4. 查看表</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hive&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">OK</span><br><span class="line">t_hive</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.099</span> seconds</span><br></pre></td></tr></table></figure>
<h3 id="5-正则匹配表名"><a href="#5-正则匹配表名" class="headerlink" title="5. 正则匹配表名"></a>5. 正则匹配表名</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hive&gt;<span class="keyword">show</span> <span class="keyword">tables</span> <span class="string">&#x27;*t*&#x27;</span>;</span><br><span class="line">OK</span><br><span class="line">t_hive</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.065</span> seconds</span><br></pre></td></tr></table></figure>
<h3 id="6-查看表数据"><a href="#6-查看表数据" class="headerlink" title="6. 查看表数据"></a>6. 查看表数据</h3><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hive</span>&gt; select * from t_hive;</span><br><span class="line"><span class="attribute">OK</span></span><br><span class="line"><span class="attribute">16</span>      <span class="number">2</span>       <span class="number">3</span></span><br><span class="line"><span class="attribute">61</span>      <span class="number">12</span>      <span class="number">13</span></span><br><span class="line"><span class="attribute">41</span>      <span class="number">2</span>       <span class="number">31</span></span><br><span class="line"><span class="attribute">17</span>      <span class="number">21</span>      <span class="number">3</span></span><br><span class="line"><span class="attribute">71</span>      <span class="number">2</span>       <span class="number">31</span></span><br><span class="line"><span class="attribute">1</span>       <span class="number">12</span>      <span class="number">34</span></span><br><span class="line"><span class="attribute">11</span>      <span class="number">2</span>       <span class="number">34</span></span><br><span class="line"><span class="attribute">Time</span> taken: <span class="number">0</span>.<span class="number">264</span> seconds</span><br></pre></td></tr></table></figure>

<h3 id="7-查看表结构"><a href="#7-查看表结构" class="headerlink" title="7. 查看表结构"></a>7. 查看表结构</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">hive<span class="operator">&gt;</span> <span class="keyword">desc</span> t_hive;</span><br><span class="line">OK</span><br><span class="line">a       <span class="type">int</span></span><br><span class="line">b       <span class="type">int</span></span><br><span class="line">c       <span class="type">int</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.1</span> seconds</span><br></pre></td></tr></table></figure>


<h3 id="8-增加一个字段"><a href="#8-增加一个字段" class="headerlink" title="8. 增加一个字段"></a>8. 增加一个字段</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">hive&gt; <span class="keyword">ALTER</span> <span class="keyword">TABLE</span> t_hive <span class="keyword">ADD</span> <span class="keyword">COLUMNS</span> (new_col String);</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.186</span> seconds</span><br><span class="line">hive&gt; <span class="keyword">desc</span> t_hive;</span><br><span class="line">OK</span><br><span class="line">a       <span class="type">int</span></span><br><span class="line">b       <span class="type">int</span></span><br><span class="line">c       <span class="type">int</span></span><br><span class="line">new_col string</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.086</span> seconds</span><br></pre></td></tr></table></figure>

<h3 id="9-重命令表名"><a href="#9-重命令表名" class="headerlink" title="9. 重命令表名"></a>9. 重命令表名</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">~ <span class="keyword">ALTER</span> <span class="keyword">TABLE</span> t_hive <span class="keyword">RENAME</span> <span class="keyword">TO</span> t_hadoop;</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.45</span> seconds</span><br><span class="line">hive&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">OK</span><br><span class="line">t_hadoop</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.07</span> seconds</span><br></pre></td></tr></table></figure>
<h3 id="10-删除表"><a href="#10-删除表" class="headerlink" title="10. 删除表"></a>10. 删除表</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">hive&gt; <span class="keyword">DROP</span> <span class="keyword">TABLE</span> t_hadoop;</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.767</span> seconds</span><br><span class="line"></span><br><span class="line">hive&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.064</span> seconds</span><br></pre></td></tr></table></figure>


<h2 id="八-使用beeline"><a href="#八-使用beeline" class="headerlink" title="八 使用beeline"></a>八 使用beeline</h2><p>HiveServer2提供了一个新的命令行工具Beeline，它是基于SQLLine CLI的JDBC客户端。<br>关于SQLLine的的知识，可以参考这个网站：<a href="http://sqlline.sourceforge.net/#manual">http://sqlline.sourceforge.net/#manual</a></p>
<p>Beeline工作模式有两种，即本地嵌入模式和远程模式。嵌入模式情况下，它返回一个嵌入式的Hive（类似于Hive CLI）。而远程模式则是通过Thrift协议与某个单独的HiveServer2进程进行连接通信。下面给一个简单的登录Beeline的使用实例：</p>
<h3 id="1-首先把驱动拷贝到Lib中"><a href="#1-首先把驱动拷贝到Lib中" class="headerlink" title="1. 首先把驱动拷贝到Lib中"></a>1. 首先把驱动拷贝到Lib中</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">cp</span> jdbc/hive-jdbc-2.1.0-standalone.jar /usr/local/hive/lib/</span><br></pre></td></tr></table></figure>

<h3 id="2-启动hiveserver2的服务"><a href="#2-启动hiveserver2的服务" class="headerlink" title="2. 启动hiveserver2的服务"></a>2. 启动hiveserver2的服务</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">命令行模式:</span><br><span class="line"></span><br><span class="line">hive <span class="attr">--service</span> hiveserver2 <span class="attr">--hiveconf</span> hive<span class="selector-class">.server2</span><span class="selector-class">.thrift</span>.port=<span class="number">10001</span></span><br><span class="line"></span><br><span class="line">服务模式：</span><br><span class="line"></span><br><span class="line">hiveserver2 start</span><br></pre></td></tr></table></figure>

<h3 id="3-执行操作"><a href="#3-执行操作" class="headerlink" title="3. 执行操作"></a>3. 执行操作</h3><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">% bin/beeline</span><br><span class="line">Hive version 0.11.0-SNAPSHOT by Apache</span><br><span class="line">beeline&gt; !connect jdbc:hive2://localhost:10000/default </span><br><span class="line">!connect jdbc:hive2://localhost:10000/default </span><br><span class="line">Connecting to jdbc:hive2://localhost:10000/default</span><br><span class="line">Connected to: Hive (version 0.10.0)</span><br><span class="line">Driver: Hive (version 0.10.0-SNAPSHOT)</span><br><span class="line">Transaction isolation: TRANSACTION_REPEATABLE_READ</span><br><span class="line">0: jdbc:hive2://localhost:10000&gt; show tables;</span><br><span class="line">show tables;</span><br><span class="line">+-------------------+</span><br><span class="line">|<span class="string">     tab_name      </span>|</span><br><span class="line">+-------------------+</span><br><span class="line">|<span class="string"> primitives        </span>|</span><br><span class="line">|<span class="string"> src               </span>|</span><br><span class="line">|<span class="string"> src1              </span>|</span><br><span class="line">|<span class="string"> src_json          </span>|</span><br><span class="line">|<span class="string"> src_sequencefile  </span>|</span><br><span class="line">|<span class="string"> src_thrift        </span>|</span><br><span class="line">|<span class="string"> srcbucket         </span>|</span><br><span class="line">|<span class="string"> srcbucket2        </span>|</span><br><span class="line">|<span class="string"> srcpart           </span>|</span><br><span class="line">+-------------------+</span><br><span class="line">9 rows selected (1.079 seconds)</span><br></pre></td></tr></table></figure>


<h2 id="九-FAQ"><a href="#九-FAQ" class="headerlink" title="九 FAQ"></a>九 FAQ</h2><h3 id="出错信息1"><a href="#出错信息1" class="headerlink" title="出错信息1"></a>出错信息1</h3><figure class="highlight vhdl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">hadoop@hadoopmaster:/usr/local/hive/conf$ hive </span><br><span class="line">SLF4J: Class path contains multiple SLF4J bindings.</span><br><span class="line">SLF4J: Found binding <span class="keyword">in</span> [jar:<span class="keyword">file</span>:/usr/local/hive/lib/log4j-slf4j-impl-<span class="number">2.4</span>.<span class="number">1</span>.jar!/org/slf4j/impl/StaticLoggerBinder.class]</span><br><span class="line">SLF4J: Found binding <span class="keyword">in</span> [jar:<span class="keyword">file</span>:/usr/local/hadoop/share/hadoop/common/lib/slf4j-log4j12-<span class="number">1.7</span>.<span class="number">10</span>.jar!/org/slf4j/impl/StaticLoggerBinder.class]</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings <span class="keyword">for</span> an explanation.</span><br><span class="line">SLF4J: Actual binding <span class="keyword">is</span> <span class="keyword">of</span> <span class="keyword">type</span> [org.apache.logging.slf4j.Log4jLoggerFactory]</span><br><span class="line"></span><br><span class="line">Logging initialized using <span class="keyword">configuration</span> <span class="keyword">in</span> jar:<span class="keyword">file</span>:/usr/local/hive/lib/hive-common-<span class="number">2.1</span>.<span class="number">0</span>.jar!/hive-log4j2.properties Async: <span class="literal">true</span></span><br><span class="line">Exception <span class="keyword">in</span> thread <span class="string">&quot;main&quot;</span> java.lang.RuntimeException: org.apache.hadoop.hive.ql.metadata.HiveException: org.apache.hadoop.hive.ql.metadata.HiveException: MetaException(message:Hive metastore database <span class="keyword">is</span> <span class="keyword">not</span> initialized. Please <span class="keyword">use</span> schematool (e.g. ./schematool -initSchema -dbType ...) <span class="keyword">to</span> create the schema. <span class="keyword">If</span> needed, don<span class="symbol">&#x27;t</span> forget <span class="keyword">to</span> include the option <span class="keyword">to</span> auto-create the underlying database <span class="keyword">in</span> your JDBC connection <span class="built_in">string</span> (e.g. ?createDatabaseIfNotExist=<span class="literal">true</span> <span class="keyword">for</span> mysql))</span><br><span class="line"> at org.apache.hadoop.hive.ql.session.SessionState.start(SessionState.java:<span class="number">578</span>)</span><br><span class="line"> at org.apache.hadoop.hive.ql.session.SessionState.beginStart(SessionState.java:<span class="number">518</span>)</span><br><span class="line"> at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:<span class="number">705</span>)</span><br><span class="line"> at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:<span class="number">641</span>)</span><br><span class="line"> at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span><br><span class="line"> at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:<span class="number">57</span>)</span><br><span class="line"> at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:<span class="number">43</span>)</span><br><span class="line"> at java.lang.reflect.Method.invoke(Method.java:<span class="number">606</span>)</span><br><span class="line"> at org.apache.hadoop.util.RunJar.run(RunJar.java:<span class="number">221</span>)</span><br><span class="line"> at org.apache.hadoop.util.RunJar.main(RunJar.java:<span class="number">136</span>)</span><br><span class="line">Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: org.apache.hadoop.hive.ql.metadata.HiveException: MetaException(message:Hive metastore database <span class="keyword">is</span> <span class="keyword">not</span> initialized. Please <span class="keyword">use</span> schematool (e.g. ./schematool -initSchema -dbType ...) <span class="keyword">to</span> create the schema. <span class="keyword">If</span> needed, don<span class="symbol">&#x27;t</span> forget <span class="keyword">to</span> include the option <span class="keyword">to</span> auto-create the underlying database <span class="keyword">in</span> your JDBC connection <span class="built_in">string</span> (e.g. ?createDatabaseIfNotExist=<span class="literal">true</span> <span class="keyword">for</span> mysql))</span><br><span class="line"> at org.apache.hadoop.hive.ql.metadata.Hive.registerAllFunctionsOnce(Hive.java:<span class="number">226</span>)</span><br><span class="line"> at org.apache.hadoop.hive.ql.metadata.Hive.&lt;init&gt;(Hive.java:<span class="number">366</span>)</span><br><span class="line"> at org.apache.hadoop.hive.ql.metadata.Hive.create(Hive.java:<span class="number">310</span>)</span><br><span class="line"> at org.apache.hadoop.hive.ql.metadata.Hive.getInternal(Hive.java:<span class="number">290</span>)</span><br><span class="line"> at org.apache.hadoop.hive.ql.metadata.Hive.get(Hive.java:<span class="number">266</span>)</span><br><span class="line"> at org.apache.hadoop.hive.ql.session.SessionState.start(SessionState.java:<span class="number">545</span>)</span><br><span class="line"> ... <span class="number">9</span> more</span><br><span class="line">Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: MetaException(message:Hive metastore database <span class="keyword">is</span> <span class="keyword">not</span> initialized. Please <span class="keyword">use</span> schematool (e.g. ./schematool -initSchema -dbType ...) <span class="keyword">to</span> create the schema. <span class="keyword">If</span> needed, don<span class="symbol">&#x27;t</span> forget <span class="keyword">to</span> include the option <span class="keyword">to</span> auto-create the underlying database <span class="keyword">in</span> your JDBC connection <span class="built_in">string</span> (e.g. ?createDatabaseIfNotExist=<span class="literal">true</span> <span class="keyword">for</span> mysql))</span><br><span class="line"> at org.apache.hadoop.hive.ql.metadata.Hive.getAllFunctions(Hive.java:<span class="number">3593</span>)</span><br><span class="line"> at org.apache.hadoop.hive.ql.metadata.Hive.reloadFunctions(Hive.java:<span class="number">236</span>)</span><br><span class="line"> at org.apache.hadoop.hive.ql.metadata.Hive.registerAllFunctionsOnce(Hive.java:<span class="number">221</span>)</span><br><span class="line"> ... <span class="number">14</span> more</span><br><span class="line">Caused by: MetaException(message:Hive metastore database <span class="keyword">is</span> <span class="keyword">not</span> initialized. Please <span class="keyword">use</span> schematool (e.g. ./schematool -initSchema -dbType ...) <span class="keyword">to</span> create the schema. <span class="keyword">If</span> needed, don<span class="symbol">&#x27;t</span> forget <span class="keyword">to</span> include the option <span class="keyword">to</span> auto-create the underlying database <span class="keyword">in</span> your JDBC connection <span class="built_in">string</span> (e.g. ?createDatabaseIfNotExist=<span class="literal">true</span> <span class="keyword">for</span> mysql))</span><br><span class="line"> at org.apache.hadoop.hive.ql.metadata.Hive.getMSC(Hive.java:<span class="number">3364</span>)</span><br><span class="line"> at org.apache.hadoop.hive.ql.metadata.Hive.getMSC(Hive.java:<span class="number">3336</span>)</span><br><span class="line"> at org.apache.hadoop.hive.ql.metadata.Hive.getAllFunctions(Hive.java:<span class="number">3590</span>)</span><br><span class="line"> ... <span class="number">16</span> more</span><br></pre></td></tr></table></figure>
<p><strong>没有执行</strong></p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">schematool -initSchema -dbType mysql</span></span><br></pre></td></tr></table></figure>
<p>执行之后搞定</p>
<h3 id="出错信息2"><a href="#出错信息2" class="headerlink" title="出错信息2"></a>出错信息2</h3><figure class="highlight roboconf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"> hadoop@hadoopmaster:/usr/local/hive/lib$ hive </span><br><span class="line">SLF4J: Class path contains multiple SLF4J bindings.</span><br><span class="line">SLF4J: Found binding in [jar:file:/usr/local/hive/lib/log4j-slf4j-impl-2.4.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]</span><br><span class="line">SLF4J: Found binding in [jar:file:/usr/local/hadoop/share/hadoop/common/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html<span class="comment">#multiple_bindings for an explanation.</span></span><br><span class="line">SLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]</span><br><span class="line"></span><br><span class="line">Logging initialized using configuration in jar:file:/usr/local/hive/lib/hive-common-2.1.0.jar!/hive-log4j2.properties Async: true</span><br><span class="line">Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: java.net.URISyntaxException: Relative path in absolute URI: $&#123;<span class="attribute">system</span>:java<span class="variable">.io</span><span class="variable">.tmpdir</span>%7D/$%7Bsystem:user<span class="variable">.name</span>%7D</span><br><span class="line"> at org<span class="variable">.apache</span><span class="variable">.hadoop</span><span class="variable">.fs</span><span class="variable">.Path</span><span class="variable">.initialize</span>(Path<span class="variable">.java</span>:205)</span><br><span class="line"> at org<span class="variable">.apache</span><span class="variable">.hadoop</span><span class="variable">.fs</span><span class="variable">.Path</span>.&lt;init&gt;(Path<span class="variable">.java</span>:171)</span><br><span class="line"> at org<span class="variable">.apache</span><span class="variable">.hadoop</span><span class="variable">.hive</span><span class="variable">.ql</span><span class="variable">.session</span><span class="variable">.SessionState</span><span class="variable">.createSessionDirs</span>(SessionState<span class="variable">.java</span>:631)</span><br><span class="line"> at org<span class="variable">.apache</span><span class="variable">.hadoop</span><span class="variable">.hive</span><span class="variable">.ql</span><span class="variable">.session</span><span class="variable">.SessionState</span><span class="variable">.start</span>(SessionState<span class="variable">.java</span>:550)</span><br><span class="line"> at org<span class="variable">.apache</span><span class="variable">.hadoop</span><span class="variable">.hive</span><span class="variable">.ql</span><span class="variable">.session</span><span class="variable">.SessionState</span><span class="variable">.beginStart</span>(SessionState<span class="variable">.java</span>:518)</span><br><span class="line"> at org<span class="variable">.apache</span><span class="variable">.hadoop</span><span class="variable">.hive</span><span class="variable">.cli</span><span class="variable">.CliDriver</span><span class="variable">.run</span>(CliDriver<span class="variable">.java</span>:705)</span><br><span class="line"> at org<span class="variable">.apache</span><span class="variable">.hadoop</span><span class="variable">.hive</span><span class="variable">.cli</span><span class="variable">.CliDriver</span><span class="variable">.main</span>(CliDriver<span class="variable">.java</span>:641)</span><br><span class="line"> at sun<span class="variable">.reflect</span><span class="variable">.NativeMethodAccessorImpl</span><span class="variable">.invoke</span>0(Native Method)</span><br><span class="line"> at sun<span class="variable">.reflect</span><span class="variable">.NativeMethodAccessorImpl</span><span class="variable">.invoke</span>(NativeMethodAccessorImpl<span class="variable">.java</span>:57)</span><br><span class="line"> at sun<span class="variable">.reflect</span><span class="variable">.DelegatingMethodAccessorImpl</span><span class="variable">.invoke</span>(DelegatingMethodAccessorImpl<span class="variable">.java</span>:43)</span><br><span class="line"> at java<span class="variable">.lang</span><span class="variable">.reflect</span><span class="variable">.Method</span><span class="variable">.invoke</span>(Method<span class="variable">.java</span>:606)</span><br><span class="line"> at org<span class="variable">.apache</span><span class="variable">.hadoop</span><span class="variable">.util</span><span class="variable">.RunJar</span><span class="variable">.run</span>(RunJar<span class="variable">.java</span>:221)</span><br><span class="line"> at org<span class="variable">.apache</span><span class="variable">.hadoop</span><span class="variable">.util</span><span class="variable">.RunJar</span><span class="variable">.main</span>(RunJar<span class="variable">.java</span>:136)</span><br><span class="line">Caused by: java<span class="variable">.net</span><span class="variable">.URISyntaxException</span>: Relative path in absolute URI: $&#123;system:java<span class="variable">.io</span><span class="variable">.tmpdir</span>%7D/$%7Bsystem:user<span class="variable">.name</span>%7D</span><br><span class="line"> at java<span class="variable">.net</span><span class="variable">.URI</span><span class="variable">.checkPath</span>(URI<span class="variable">.java</span>:1804)</span><br><span class="line"> at java<span class="variable">.net</span><span class="variable">.URI</span>.&lt;init&gt;(URI<span class="variable">.java</span>:752)</span><br><span class="line"> at org<span class="variable">.apache</span><span class="variable">.hadoop</span><span class="variable">.fs</span><span class="variable">.Path</span><span class="variable">.initialize</span>(Path<span class="variable">.java</span>:202)</span><br><span class="line"> ... 12 more</span><br></pre></td></tr></table></figure>


<p><strong>hive-site.xml中没有配置合理临时目录的问题</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>hive.exec.local.scratchdir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>/home/hadoop/iotmp<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">description</span>&gt;</span>Local scratch space for Hive jobs<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>hive.downloaded.resources.dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>/home/hadoop/iotmp<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">description</span>&gt;</span>Temporary local directory for added resources in the remote file system.<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>并且需要对目录进行权限设定</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /home/hadoop/iotmp</span><br><span class="line"><span class="built_in">chmod</span> -R 775 /home/hadoop/iotmp</span><br></pre></td></tr></table></figure>


<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul>
<li><a href="http://blog.csdn.net/zwx19921215/article/details/42776589">出错信息解决</a></li>
<li><a href="http://blog.csdn.net/lnho2015/article/details/51307438">配置参考</a></li>
<li><a href="http://blog.csdn.net/lnho2015/article/details/51355511">配置参考</a></li>
<li><a href="http://blog.csdn.net/zwx19921215/article/details/42776589">出错信息解决</a></li>
</ul>

    </div>
    
    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="/" target="_blank">Ljjyy.com</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/archives/2019/06/100323.html" class="pre-post btn btn-default" title='大数据hadoop之 十七.Hive的数据导入导出'>
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs">大数据hadoop之 十七.Hive的数据导入导出</span>
        </a>
    
    
        <a href="/archives/2019/06/100321.html" class="next-post btn btn-default" title='大数据hadoop之 十五.Hive1.1.1的安装'>
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs">大数据hadoop之 十五.Hive1.1.1的安装</span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>


    <div id="comments">
        
	
    <div id="vcomments" class="valine"></div>
    
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="/assets/valine.min.js"></script>


    <script>
        new Valine({
            av: AV,
            el: '#vcomments',
            appId: '5MzTXYXkt03k101j0PmSDN34-gzGzoHsz',
            appKey: 'iwjYgwno6qj3wtDVVSbe8nYQ',
            placeholder: '说点什么吧',
            notify: false,
            verify: true,
            avatar: 'mm',
            meta: 'nick,mail'.split(','),
            pageSize: '10',
            path: window.location.pathname,
            lang: 'zh-CN'.toLowerCase()
        })
    </script>


    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">文章目录</h3>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80-%E5%AE%89%E8%A3%85%E7%8E%AF%E5%A2%83"><span class="toc-text">一 安装环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C-Hive%E7%9A%84%E5%AE%89%E8%A3%85-MySQL%E4%BD%9C%E4%B8%BA%E5%85%83%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">二 Hive的安装-MySQL作为元数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89-%E5%9C%A8192-168-1-166%E4%B8%8A%E5%BB%BA%E7%AB%8BHive-meta%E6%95%B0%E6%8D%AE%E5%BA%93-%E7%94%A8%E6%88%B7-%E8%B5%8B%E4%BA%88%E6%9D%83%E9%99%90"><span class="toc-text">三 在192.168.1.166上建立Hive meta数据库,用户,赋予权限</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B-%E5%9C%A8192-168-1-159%E4%B8%8A%E5%AE%89%E8%A3%85Hive"><span class="toc-text">四 在192.168.1.159上安装Hive</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%89%E8%A3%85Hive"><span class="toc-text">1 安装Hive</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BF%AE%E6%94%B9-etc-profile%E5%8A%A0%E5%85%A5HIVE-HOME%E7%9A%84%E5%8F%98%E9%87%8F"><span class="toc-text">2 修改&#x2F;etc&#x2F;profile加入HIVE_HOME的变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E4%BF%AE%E6%94%B9hive-conf%E4%B8%8B%E7%9A%84%E5%87%A0%E4%B8%AAtemplate%E6%A8%A1%E6%9D%BF%E5%B9%B6%E9%87%8D%E5%91%BD%E5%90%8D%E4%B8%BA%E5%85%B6%E4%BB%96"><span class="toc-text">3 修改hive&#x2F;conf下的几个template模板并重命名为其他</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E4%BF%AE%E6%94%B9hive-site-xml%E6%96%87%E4%BB%B6%EF%BC%8C%E6%8C%87%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E5%90%8D%E3%80%81%E7%94%A8%E6%88%B7%E5%90%8D%E5%8F%8A%E5%AF%86%E7%A0%81%EF%BC%8C%E4%BF%AE%E6%94%B9%E7%9A%84%E5%86%85%E5%AE%B9%E5%A6%82%E4%B8%8B%E6%89%80%E7%A4%BA"><span class="toc-text">4 修改hive-site.xml文件，指定MySQL数据库驱动、数据库名、用户名及密码，修改的内容如下所示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E7%BC%93%E5%AD%98%E7%9B%AE%E5%BD%95%E7%9A%84%E9%97%AE%E9%A2%98-%E5%A6%82%E6%9E%9C%E4%B8%8D%E9%85%8D%E7%BD%AE%E4%B9%9F%E4%BC%9A%E5%87%BA%E9%94%99%E7%9A%84"><span class="toc-text">5 缓存目录的问题,如果不配置也会出错的</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94-%E4%BF%AE%E6%94%B9hive-bin%E4%B8%8B%E7%9A%84hive-config-sh%E6%96%87%E4%BB%B6%EF%BC%8C%E8%AE%BE%E7%BD%AEJAVA-HOME-HADOOP-HOME"><span class="toc-text">五 修改hive&#x2F;bin下的hive-config.sh文件，设置JAVA_HOME,HADOOP_HOME</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD-%E4%B8%8B%E8%BD%BDmysql-connector-java-5-1-27-bin-jar%E6%96%87%E4%BB%B6%EF%BC%8C%E5%B9%B6%E6%94%BE%E5%88%B0-HIVE-HOME-lib%E7%9B%AE%E5%BD%95%E4%B8%8B"><span class="toc-text">六 下载mysql-connector-java-5.1.27-bin.jar文件，并放到$HIVE_HOME&#x2F;lib目录下</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83-%E5%9C%A8HDFS%E4%B8%AD%E5%88%9B%E5%BB%BA-tmp%E5%92%8C-user-hive-warehouse%E5%B9%B6%E8%AE%BE%E7%BD%AE%E6%9D%83%E9%99%90"><span class="toc-text">七 在HDFS中创建&#x2F;tmp和&#x2F;user&#x2F;hive&#x2F;warehouse并设置权限</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9D%E5%A7%8B%E5%8C%96meta%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">1. 初始化meta数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%B5%8B%E8%AF%95hive-shell"><span class="toc-text">2. 测试hive shell</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%8F%AF%E4%BB%A5%E5%9C%A8hadoop%E4%B8%AD%E6%9F%A5%E7%9C%8Bhive%E7%94%9F%E4%BA%A7%E7%9A%84%E6%96%87%E4%BB%B6"><span class="toc-text">3. 可以在hadoop中查看hive生产的文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83-Hive-shell%E4%BD%BF%E7%94%A8%E5%AE%9E%E4%BE%8B"><span class="toc-text">七 Hive shell使用实例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE-%E6%96%87%E6%9C%AC%E4%BB%A5tab%E5%88%86%E9%9A%94"><span class="toc-text">1. 创建数据(文本以tab分隔)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E6%96%B0%E8%A1%A8"><span class="toc-text">2. 创建新表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AEt-hive-txt%E5%88%B0t-hive%E8%A1%A8"><span class="toc-text">3. 导入数据t_hive.txt到t_hive表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%9F%A5%E7%9C%8B%E8%A1%A8"><span class="toc-text">4. 查看表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E6%AD%A3%E5%88%99%E5%8C%B9%E9%85%8D%E8%A1%A8%E5%90%8D"><span class="toc-text">5. 正则匹配表名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%9F%A5%E7%9C%8B%E8%A1%A8%E6%95%B0%E6%8D%AE"><span class="toc-text">6. 查看表数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E6%9F%A5%E7%9C%8B%E8%A1%A8%E7%BB%93%E6%9E%84"><span class="toc-text">7. 查看表结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E5%A2%9E%E5%8A%A0%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5"><span class="toc-text">8. 增加一个字段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E9%87%8D%E5%91%BD%E4%BB%A4%E8%A1%A8%E5%90%8D"><span class="toc-text">9. 重命令表名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-%E5%88%A0%E9%99%A4%E8%A1%A8"><span class="toc-text">10. 删除表</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB-%E4%BD%BF%E7%94%A8beeline"><span class="toc-text">八 使用beeline</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%A6%96%E5%85%88%E6%8A%8A%E9%A9%B1%E5%8A%A8%E6%8B%B7%E8%B4%9D%E5%88%B0Lib%E4%B8%AD"><span class="toc-text">1. 首先把驱动拷贝到Lib中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%90%AF%E5%8A%A8hiveserver2%E7%9A%84%E6%9C%8D%E5%8A%A1"><span class="toc-text">2. 启动hiveserver2的服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%89%A7%E8%A1%8C%E6%93%8D%E4%BD%9C"><span class="toc-text">3. 执行操作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D-FAQ"><span class="toc-text">九 FAQ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BA%E9%94%99%E4%BF%A1%E6%81%AF1"><span class="toc-text">出错信息1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BA%E9%94%99%E4%BF%A1%E6%81%AF2"><span class="toc-text">出错信息2</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3"><span class="toc-text">参考文档</span></a></li></ol>
        
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
</div>

            </div>
            <div class="col-sm-12">
                <span>Copyright &copy; 2019-2025&emsp;<a href="/" class="copyright-links" target="_blank" rel="nofollow">Ljjyy.com</a>
                </span> |
                <span>
                    <a href="/about/" class="copyright-links" target="_blank" rel="nofollow">关于我们</a>
                </span> |                
                <span>
                    <a href="/sitemap.xml" class="copyright-links" target="_blank" rel="nofollow">网站地图</a>
                </span> |
                <span>
                    <a href="/archives/" class="copyright-links" target="_blank" rel="nofollow">时间轴</a>
                </span>              
            </div>
        </div>
    </div>
</div>








<script src="/js/app.js?rev=@@hash.js"></script>


</body>
</html>
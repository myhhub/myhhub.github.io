<!DOCTYPE HTML>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <meta name="theme-version" content="1.2.3">
    <meta name="root" content="/">
    <link rel="dns-prefetch" href="https://www.ljjyy.com">
    <!--SEO-->

    <meta name="keywords" content="docker,命令">


    <meta name="description" content="docker命令有很多，总的分为以下几大类：
容器生命周期管理 — docker [run|start|stop|restart|kill|rm|pause|unpause]

容器操作运维 —...">



<meta name="robots" content="all">
<meta name="google" content="all">
<meta name="googlebot" content="all">
<meta name="verify" content="all">

    <!--Title-->


<title>docker命令大全详解 | 来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟</title>


    <link rel="alternate" href="/atom.xml" title="来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟" type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    



<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    
	<div class="hide">
        <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
        <script>LA.init({id: "JgbNOaw1xxsmUUsQ",ck: "JgbNOaw1xxsmUUsQ"})</script>
	</div>






    
    <meta name="baidu-site-verification" content="dTHILoORpx">


    <script>
        (function(){
            var bp = document.createElement('script');
            var curProtocol = window.location.protocol.split(':')[0];
            if (curProtocol === 'https') {
                bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
            }
            else {
                bp.src = 'http://push.zhanzhang.baidu.com/push.js';
            }
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(bp, s);
        })();
    </script>

</head>

</html>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header"  >
    <div class="main-header-box">
        <!--a class="header-avatar" href="/" title='Ljjyy.com'>
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a-->
        <div class="branding">
            
                <h2> 多读书多实践，勤思考善领悟 </h2>
            
    	  </div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">

        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="web-logo"  href="/" title='Ljjyy.com'></a>
                    <!--a class="navbar-brand" href="https://www.ljjyy.com">来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟</a-->
                </div>
                <div class="collapse navbar-collapse" id="main-menu" style="">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>首页</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/cloud/"><i class="fa "></i>云计算</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/front/"><i class="fa "></i>前端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/back/"><i class="fa "></i>后端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/devops/"><i class="fa "></i>运维</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/crack/"><i class="fa "></i>破解</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/penetration/"><i class="fa "></i>渗透</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/tool/"><i class="fa "></i>工具</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/other/"><i class="fa "></i>其他</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="docker命令大全详解">
            
	            docker命令大全详解
            
        </h1>
        <div class="post-meta">
    
        <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
            <a class="category-link" href="/categories/devops/">运维</a>
        </span>
    

    
        <span class="fa-wrap">
            <i class="fa fa-tags"></i>
            <span class="tags-meta">
                
                    <a class="tag-link" href="/tags/docker/">docker</a> <a class="tag-link" href="/tags/command/">命令</a>
                
            </span>
        </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2018/10/13</span>
        </span>
        
    
</div>
            
            
            <p class="fa fa-exclamation-triangle warning">
                本文于<strong>1956</strong>天之前发表，文中内容可能已经过时。
            </p>
        
    </div>
    
    <div class="post-body post-content">
        <h2 id="docker命令有很多，总的分为以下几大类："><a href="#docker命令有很多，总的分为以下几大类：" class="headerlink" title="docker命令有很多，总的分为以下几大类："></a>docker命令有很多，总的分为以下几大类：</h2><ol>
<li><p>容器生命周期管理 — docker [run|start|stop|restart|kill|rm|pause|unpause]</p>
</li>
<li><p>容器操作运维 — docker [ps|inspect|top|attach|events|logs|wait|export|port]</p>
</li>
<li><p>容器rootfs命令 — docker [commit|cp|diff]</p>
</li>
<li><p>镜像仓库 — docker [login|pull|push|search]</p>
</li>
<li><p>本地镜像管理 — docker [images|rmi|tag|build|history|save|import]</p>
</li>
<li><p>其他命令 — docker [info|version]</p>
</li>
</ol>
<p>以上只是日常中大部分使用的命令，更详细的可以查看官网或者命令帮助</p>
<h2 id="docker-–help"><a href="#docker-–help" class="headerlink" title="docker –help"></a><strong>docker –help</strong></h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">Usage: docker [OPTIONS] COMMAND [arg...]</span><br><span class="line">       docker [ --<span class="keyword">help</span> | -v | --<span class="keyword">version</span> ]</span><br><span class="line"></span><br><span class="line">A self-sufficient runtime <span class="keyword">for</span> containers.</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line"></span><br><span class="line">  --config=~/.docker              Location of client config files</span><br><span class="line">  -<span class="keyword">D</span>, --debug                     Enable debug mode</span><br><span class="line">  -<span class="keyword">H</span>, --host=[]                   Daemon socket(s) to connect to</span><br><span class="line">  -<span class="keyword">h</span>, --<span class="keyword">help</span>                      <span class="keyword">Print</span> usage</span><br><span class="line">  -<span class="keyword">l</span>, --<span class="keyword">log</span>-level=info            <span class="keyword">Set</span> the logging level</span><br><span class="line">  --tls                           <span class="keyword">Use</span> TLS; implied <span class="keyword">by</span> --tlsverify</span><br><span class="line">  --tlscacert=~/.docker/<span class="keyword">ca</span>.pem    Trust certs signed only <span class="keyword">by</span> this <span class="keyword">CA</span></span><br><span class="line">  --tlscert=~/.docker/cert.pem    Path to TLS certificate <span class="keyword">file</span></span><br><span class="line">  --tlskey=~/.docker/key.pem      Path to TLS key <span class="keyword">file</span></span><br><span class="line">  --tlsverify                     <span class="keyword">Use</span> TLS and verify the remote</span><br><span class="line">  -v, --<span class="keyword">version</span>                   <span class="keyword">Print</span> <span class="keyword">version</span> information and quit</span><br><span class="line"></span><br><span class="line">Commands:</span><br><span class="line">    attach    Attach to a running container</span><br><span class="line">    build     Build <span class="keyword">an</span> image from a Dockerfile</span><br><span class="line">    commit    Create a new image from a container's changes</span><br><span class="line">    cp        <span class="keyword">Copy</span> files/folders between a container and the <span class="keyword">local</span> filesystem</span><br><span class="line">    create    Create a new container</span><br><span class="line">    diff      <span class="keyword">Inspect</span> changes <span class="keyword">on</span> a container's filesystem</span><br><span class="line">    events    Get real time events from the server</span><br><span class="line">    exec      <span class="keyword">Run</span> a command <span class="keyword">in</span> a running container</span><br><span class="line">    export    Export a container's filesystem <span class="keyword">as</span> a tar archive</span><br><span class="line">    history   Show the history of <span class="keyword">an</span> image</span><br><span class="line">    images    <span class="keyword">List</span> images</span><br><span class="line">    import    Import the contents from a tarball to create a filesystem image</span><br><span class="line">    info      <span class="keyword">Display</span> system-wide information</span><br><span class="line">    <span class="keyword">inspect</span>   <span class="keyword">Return</span> low-level information <span class="keyword">on</span> a container, image or task</span><br><span class="line">    kill      Kill <span class="keyword">one</span> or <span class="keyword">more</span> running containers</span><br><span class="line">    load      Load <span class="keyword">an</span> image from a tar archive or STDIN</span><br><span class="line">    login     <span class="keyword">Log</span> <span class="keyword">in</span> to a Docker registry.</span><br><span class="line">    logout    <span class="keyword">Log</span> <span class="keyword">out</span> from a Docker registry.</span><br><span class="line">    logs      Fetch the logs of a container</span><br><span class="line">    network   Manage Docker networks</span><br><span class="line">    node      Manage Docker Swarm nodes</span><br><span class="line">    <span class="keyword">pause</span>     <span class="keyword">Pause</span> all processes within <span class="keyword">one</span> or <span class="keyword">more</span> containers</span><br><span class="line">    port      <span class="keyword">List</span> port mappings or a specific mapping <span class="keyword">for</span> the container</span><br><span class="line">    ps        <span class="keyword">List</span> containers</span><br><span class="line">    pull      Pull <span class="keyword">an</span> image or a repository from a registry</span><br><span class="line">    push      Push <span class="keyword">an</span> image or a repository to a registry</span><br><span class="line">    <span class="keyword">rename</span>    <span class="keyword">Rename</span> a container</span><br><span class="line">    restart   Restart a container</span><br><span class="line">    <span class="keyword">rm</span>        Remove <span class="keyword">one</span> or <span class="keyword">more</span> containers</span><br><span class="line">    rmi       Remove <span class="keyword">one</span> or <span class="keyword">more</span> images</span><br><span class="line">    <span class="keyword">run</span>       <span class="keyword">Run</span> a command <span class="keyword">in</span> a new container</span><br><span class="line">    <span class="keyword">save</span>      <span class="keyword">Save</span> <span class="keyword">one</span> or <span class="keyword">more</span> images to a tar archive (streamed to STDOUT <span class="keyword">by</span> default)</span><br><span class="line">    <span class="keyword">search</span>    <span class="keyword">Search</span> the Docker Hub <span class="keyword">for</span> images</span><br><span class="line">    service   Manage Docker services</span><br><span class="line">    start     Start <span class="keyword">one</span> or <span class="keyword">more</span> stopped containers</span><br><span class="line">    stats     <span class="keyword">Display</span> a live stream of container(s) resource usage statistics</span><br><span class="line">    stop      Stop <span class="keyword">one</span> or <span class="keyword">more</span> running containers</span><br><span class="line">    swarm     Manage Docker Swarm</span><br><span class="line">    tag       Tag <span class="keyword">an</span> image into a repository</span><br><span class="line">    top       <span class="keyword">Display</span> the running processes of a container</span><br><span class="line">    unpause   Unpause all processes within <span class="keyword">one</span> or <span class="keyword">more</span> containers</span><br><span class="line">    <span class="keyword">update</span>    <span class="keyword">Update</span> configuration of <span class="keyword">one</span> or <span class="keyword">more</span> containers</span><br><span class="line">    <span class="keyword">version</span>   Show the Docker <span class="keyword">version</span> information</span><br><span class="line">    volume    Manage Docker volumes</span><br><span class="line">    wait      Block until a container stops, then <span class="keyword">print</span> its <span class="keyword">exit</span> code</span><br></pre></td></tr></table></figure>
<h2 id="下面是命令的用法和简单实例："><a href="#下面是命令的用法和简单实例：" class="headerlink" title="下面是命令的用法和简单实例："></a><strong>下面是命令的用法和简单实例：</strong></h2><h3 id="attach"><a href="#attach" class="headerlink" title="attach"></a>attach</h3><p>Attach to a running container #将终端依附到容器上</p>
<p>语法：Usage: docker attach [OPTIONS] CONTAINER<br>实例：进入my_container容器</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># docker attach my_container </span></span><br><span class="line">[root<span class="symbol">@d4a75f165ce6</span> /]<span class="meta">#</span></span><br></pre></td></tr></table></figure>
<h3 id="build"><a href="#build" class="headerlink" title="build"></a>build</h3><p>Build an image from a Dockerfile #通过Dockerfile创建镜像</p>
<p>语法：Usage: docker build [OPTIONS] PATH | URL | -<br>实例：使用当前目录的Dockerfile创建镜像。</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[root@localhost ~]</span><span class="selector-id">#docker</span> <span class="selector-tag">build</span> <span class="selector-tag">-t</span> <span class="selector-tag">runoob</span>/<span class="selector-tag">ubuntu</span><span class="selector-pseudo">:v1</span> .</span><br></pre></td></tr></table></figure>
<h3 id="commit"><a href="#commit" class="headerlink" title="commit"></a>commit</h3><p>Create a new image from a container’s changes #通过容器创建本地镜像</p>
<p>语法：Usage: docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]<br>实例：创建一个镜像<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># docker commit centos_v1 centos:v1 68ad49c999496cff25fdda58f0521530a143d3884e61bce7ada09bdc22337638</span></span><br></pre></td></tr></table></figure></p>
<h3 id="cp"><a href="#cp" class="headerlink" title="cp"></a>cp</h3><p>Copy files/folders between a container and the local filesystem #在宿主机和容器之间相互拷贝文件</p>
<p>语法：Usage: docker cp [OPTIONS] CONTAINER:SRC_PATH DEST_PATH|-<br>            docker cp [OPTIONS] SRC_PATH|- CONTAINER:DEST_PATH<br>实例：容器mysql中/usr/local/bin/存在docker-entrypoint.sh文件，可如下方式copy到宿主机</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#docker <span class="keyword">cp</span> mysq<span class="variable">l:</span>/usr/local/bin/docker-entrypoint.<span class="keyword">sh</span> /root</span><br><span class="line">修改完毕后，将该文件重新<span class="keyword">copy</span>回容器</span><br><span class="line">[root@localhost ~]# docker <span class="keyword">cp</span> /root/docker-entrypoint.<span class="keyword">sh</span> mysq<span class="variable">l:</span>/usr/local/bin/</span><br></pre></td></tr></table></figure>
<h3 id="create"><a href="#create" class="headerlink" title="create"></a>create</h3><p>Create a new container #仅创建一个容器</p>
<p>语法：Usage:    docker create [OPTIONS] IMAGE [COMMAND] [ARG…]<br>实例：使用docker镜像nginx:latest创建一个容器,并将容器命名为myrunoob<br><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="title">@localhost</span> ~]# docker create  --name myrunoob  nginx:latest      </span><br><span class="line"><span class="number">09</span>b<span class="number">93464</span><span class="keyword">c</span><span class="number">2</span>f<span class="number">75</span>b<span class="number">7</span>b<span class="number">69</span>f<span class="number">83</span>d<span class="number">56</span>a<span class="number">9</span>cfc<span class="number">23</span>ceb<span class="number">50</span>a<span class="number">48</span>a<span class="number">9</span>db<span class="number">7652</span>ee<span class="number">4</span><span class="keyword">c</span><span class="number">27e3</span>e<span class="number">2</span>cb<span class="number">1961</span>f</span><br></pre></td></tr></table></figure></p>
<h3 id="diff"><a href="#diff" class="headerlink" title="diff"></a>diff</h3><p>Inspect changes on a container’s filesystem #查看容器内发生改变的文件</p>
<p>语法：Usage:    docker diff CONTAINER<br>实例：查看容器mymysql的文件结构更改。<br><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment">#docker diff mymysql</span></span><br><span class="line">A <span class="string">/logs</span></span><br><span class="line">A <span class="string">/mysql_data</span></span><br><span class="line">C <span class="string">/run</span></span><br><span class="line">C <span class="string">/run/mysqld</span></span><br><span class="line">A <span class="string">/run/mysqld/mysqld.pid</span></span><br><span class="line">A <span class="string">/run/mysqld/mysqld.sock</span></span><br><span class="line">C <span class="string">/tmp</span></span><br></pre></td></tr></table></figure></p>
<h3 id="events"><a href="#events" class="headerlink" title="events"></a>events</h3><p>Get real time events from the server #实时输出docker服务器的事件，包括容器的创建、启动和关闭等</p>
<p>语法：Usage:    docker events [OPTIONS]<br>实例：显示docker 2016年7月1日后的所有事件。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# docker events  <span class="attribute">--since</span>=<span class="string">"1467302400"</span></span><br><span class="line">2016-07-08T19:44:54.501277677+08:00<span class="built_in"> network </span>connect 66f958fd13dc4314ad20034e576d5c5eba72e0849dcc38ad9e8436314a4149d4 (<span class="attribute">container</span>=b8573233d675705df8c89796a2c2687cd8e36e03646457a15fb51022db440e64, <span class="attribute">name</span>=bridge, <span class="attribute">type</span>=bridge)</span><br><span class="line">2016-07-08T19:44:54.723876221+08:00 container start b8573233d675705df8c89796a2c2687cd8e36e03646457a15fb51022db440e64 (<span class="attribute">image</span>=nginx:latest, <span class="attribute">name</span>=elegant_albattani)</span><br><span class="line">2016-07-08T19:44:54.726110498+08:00 container resize b8573233d675705df8c89796a2c2687cd8e36e03646457a15fb51022db440e64 (<span class="attribute">height</span>=39, <span class="attribute">image</span>=nginx:latest, <span class="attribute">name</span>=elegant_albattani, <span class="attribute">width</span>=167)</span><br><span class="line">2016-07-08T19:46:22.137250899+08:00 container die b8573233d675705df8c89796a2c2687cd8e36e03646457a15fb51022db440e64 (<span class="attribute">exitCode</span>=0, <span class="attribute">image</span>=nginx:latest, <span class="attribute">name</span>=elegant_albattani)</span><br></pre></td></tr></table></figure>
<p>显示docker 镜像为mysql:5.6 2016年7月1日后的相关事件。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# docker events -f <span class="string">"image"</span>=<span class="string">"mysql:5.6"</span> <span class="attribute">--since</span>=<span class="string">"1467302400"</span> </span><br><span class="line">2016-07-11T00:38:53.975174837+08:00 container start 96f7f14e99ab9d2f60943a50be23035eda1623782cc5f930411bbea407a2bb10 (<span class="attribute">image</span>=mysql:5.6, <span class="attribute">name</span>=mymysql)</span><br><span class="line">2016-07-11T00:51:17.022572452+08:00 container kill 96f7f14e99ab9d2f60943a50be23035eda1623782cc5f930411bbea407a2bb10 (<span class="attribute">image</span>=mysql:5.6, <span class="attribute">name</span>=mymysql, <span class="attribute">signal</span>=9)</span><br><span class="line">2016-07-11T00:51:17.132532080+08:00 container die 96f7f14e99ab9d2f60943a50be23035eda1623782cc5f930411bbea407a2bb10 (<span class="attribute">exitCode</span>=137, <span class="attribute">image</span>=mysql:5.6, <span class="attribute">name</span>=mymysql)</span><br><span class="line">2016-07-11T00:51:17.514661357+08:00 container destroy 96f7f14e99ab9d2f60943a50be23035eda1623782cc5f930411bbea407a2bb10 (<span class="attribute">image</span>=mysql:5.6, <span class="attribute">name</span>=mymysql)</span><br><span class="line">2016-07-11T00:57:18.551984549+08:00 container create c8f0a32f12f5ec061d286af0b1285601a3e33a90a08ff1706de619ac823c345c (<span class="attribute">image</span>=mysql:5.6, <span class="attribute">name</span>=mymysql)</span><br><span class="line">2016-07-11T00:57:18.557405864+08:00 container attach c8f0a32f12f5ec061d286af0b1285601a3e33a90a08ff1706de619ac823c345c (<span class="attribute">image</span>=mysql:5.6, <span class="attribute">name</span>=mymysql)</span><br><span class="line">2016-07-11T00:57:18.844134112+08:00 container start c8f0a32f12f5ec061d286af0b1285601a3e33a90a08ff1706de619ac823c345c (<span class="attribute">image</span>=mysql:5.6, <span class="attribute">name</span>=mymysql)</span><br></pre></td></tr></table></figure>
<p>如果指定的时间是到秒级的，需要将时间转成时间戳。如果时间为日期的话，可以直接使用，如–since=”2016-07-01”。</p>
<h3 id="exec"><a href="#exec" class="headerlink" title="exec"></a>exec</h3><p>Run a command in a running container #对一个启动的容器执行命令</p>
<p>语法：Usage:    docker exec [OPTIONS] CONTAINER COMMAND [ARG…]<br>实例：在容器mynginx中以交互模式执行容器内/root/runoob.sh脚本<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">root@localhost ~</span>]<span class="meta"># docker exec -it mynginx /bin/sh /root/runoob.sh</span></span><br><span class="line">http:<span class="comment">//www.runoob.com/</span></span><br></pre></td></tr></table></figure></p>
<h3 id="export"><a href="#export" class="headerlink" title="export"></a>export</h3><p>Export a container’s filesystem as a tar archive #将容器打包，导出为tar文件格式</p>
<p>语法：Usage:    docker export [OPTIONS] CONTAINER<br>实例：将id为a404c6c174a2的容器按日期保存为tar文件。<br><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="title">@localhost</span> ~]#docker export -o mysql-`date +<span class="symbol">%Y</span><span class="symbol">%m</span><span class="symbol">%d</span>`.tar a<span class="number">404</span><span class="keyword">c</span><span class="number">6</span><span class="keyword">c</span><span class="number">174</span>a<span class="number">2</span></span><br><span class="line">[root<span class="title">@localhost</span> ~]#ls mysql-`date +<span class="symbol">%Y</span><span class="symbol">%m</span><span class="symbol">%d</span>`.tar</span><br><span class="line">mysql<span class="number">-20160711</span>.tar</span><br></pre></td></tr></table></figure></p>
<h3 id="history"><a href="#history" class="headerlink" title="history"></a>history</h3><p>Show the history of an image#显示镜像的创建过程</p>
<p>语法： Usage:    docker history [OPTIONS] IMAGE<br>实例： 查看本地镜像runoob/ubuntu:v3的创建历史。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># docker history runoob/ubuntu:v3</span></span><br><span class="line">IMAGE             CREATED           CREATED BY                                      SIZE      <span class="keyword">COMMENT</span></span><br><span class="line"><span class="number">4e3</span>b13c8a266      <span class="number">3</span> <span class="keyword">months</span> ago      /<span class="keyword">bin</span>/sh -c <span class="comment">#(nop) CMD ["/bin/bash"]             0 B                 </span></span><br><span class="line">&lt;<span class="keyword">missing</span>&gt;         <span class="number">3</span> <span class="keyword">months</span> ago      /<span class="keyword">bin</span>/sh -c sed -i <span class="string">'s/^#\s*\(deb.*universe\)$/   1.863 kB            </span></span><br><span class="line"><span class="string">&lt;missing&gt;         3 months ago      /bin/sh -c set -xe   &amp;&amp; echo '</span><span class="comment">#!/bin/sh' &gt; /u   701 B               </span></span><br><span class="line">&lt;<span class="keyword">missing</span>&gt;         <span class="number">3</span> <span class="keyword">months</span> ago      /<span class="keyword">bin</span>/sh -c <span class="comment">#(nop) ADD file:43cb048516c6b80f22   136.3 MB</span></span><br></pre></td></tr></table></figure></p>
<h3 id="images"><a href="#images" class="headerlink" title="images"></a>images</h3><p>List images #列出本地所有的镜像</p>
<p>语法：Usage: docker images [OPTIONS] [REPOSITORY[:TAG]]<br>实例：查看本地镜像列表。<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#docker images</span><br><span class="line">REPOSITORY              TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">mymysql                 v1                  <span class="number">37</span>af1236adef        <span class="number">5</span> minutes ago       <span class="number">329</span> MB</span><br><span class="line">runoob/ubuntu           v4                  <span class="number">1</span>c06aa18edee        <span class="number">2</span> days ago          <span class="number">142.1</span> MB</span><br><span class="line">&lt;none&gt;                  &lt;none&gt;              <span class="number">5</span>c6e1090e771        <span class="number">2</span> days ago          <span class="number">165.9</span> MB</span><br><span class="line">httpd                   latest              ed38aaffef30        <span class="number">11</span> days ago         <span class="number">195.1</span> MB</span><br><span class="line">alpine                  latest              <span class="number">4e38</span>e38c8ce0        <span class="number">2</span> weeks ago         <span class="number">4.799</span> MB</span><br><span class="line">mongo                   <span class="number">3.2</span>                 <span class="number">282</span>fd552add6        <span class="number">3</span> weeks ago         <span class="number">336.1</span> MB</span><br><span class="line">redis                   latest              <span class="number">4465e4</span>bcad80        <span class="number">3</span> weeks ago         <span class="number">185.7</span> MB</span><br><span class="line">php                     <span class="number">5.6</span>-fpm             <span class="number">025041</span>cd3aa5        <span class="number">3</span> weeks ago         <span class="number">456.3</span> MB</span><br><span class="line">python                  <span class="number">3.5</span>                 <span class="number">045767</span>ddf24a        <span class="number">3</span> weeks ago         <span class="number">684.1</span> MB</span><br></pre></td></tr></table></figure></p>
<p>列出本地镜像中REPOSITORY为ubuntu的镜像列表。<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# docker images  ubuntu</span><br><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">ubuntu              <span class="number">14.04</span>               <span class="number">90</span>d5884b1ee0        <span class="number">9</span> weeks ago         <span class="number">188</span> MB</span><br><span class="line">ubuntu              <span class="number">15.10</span>               <span class="number">4e3</span>b13c8a266        <span class="number">3</span> months ago        <span class="number">136.3</span> MB</span><br></pre></td></tr></table></figure></p>
<h3 id="import"><a href="#import" class="headerlink" title="import"></a>import</h3><p>Import the contents from a tarball to create a filesystem image #导入一个镜像，类型为tar文件</p>
<p>语法：Usage:    docker images [OPTIONS] [REPOSITORY[:TAG]]<br>实例：从镜像归档文件my_ubuntu_v3.tar创建镜像，命名为runoob/ubuntu:v4<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[root@localhost ~]</span># <span class="selector-tag">docker</span> <span class="selector-tag">import</span>  <span class="selector-tag">my_ubuntu_v3</span><span class="selector-class">.tar</span> <span class="selector-tag">runoob</span>/<span class="selector-tag">ubuntu</span><span class="selector-pseudo">:v4</span>  </span><br><span class="line"><span class="selector-tag">sha256</span><span class="selector-pseudo">:63ce4a6d6bc3fabb95dbd6c561404a309b7bdfc4e21c1d59fe9fe4299cbfea39</span></span><br><span class="line"><span class="selector-attr">[root@localhost ~]</span><span class="selector-id">#docker</span> <span class="selector-tag">images</span> <span class="selector-tag">runoob</span>/<span class="selector-tag">ubuntu</span><span class="selector-pseudo">:v4</span></span><br><span class="line"><span class="selector-tag">REPOSITORY</span>          <span class="selector-tag">TAG</span>                 <span class="selector-tag">IMAGE</span> <span class="selector-tag">ID</span>            <span class="selector-tag">CREATED</span>             <span class="selector-tag">SIZE</span></span><br><span class="line"><span class="selector-tag">runoob</span>/<span class="selector-tag">ubuntu</span>       <span class="selector-tag">v4</span>                  <span class="selector-tag">63ce4a6d6bc3</span>        <span class="selector-tag">20</span> <span class="selector-tag">seconds</span> <span class="selector-tag">ago</span>      <span class="selector-tag">142</span><span class="selector-class">.1</span> <span class="selector-tag">MB</span></span><br></pre></td></tr></table></figure></p>
<h3 id="info"><a href="#info" class="headerlink" title="info"></a>info</h3><p>Display system-wide information #显示docker的系统信息</p>
<p>语法：Usage:    docker images [OPTIONS] [REPOSITORY[:TAG]]<br>实例：显示本机docker系统信息<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">[root@localhost</span> <span class="string">~]#</span> <span class="string">docker</span> <span class="string">info</span></span><br><span class="line"><span class="attr">Containers:</span> <span class="number">3</span>    <span class="bullet">--当前有3个容器</span></span><br><span class="line"><span class="attr">Images:</span> <span class="number">298</span>      </span><br><span class="line"><span class="string">Storage</span> <span class="attr">Driver:</span> <span class="string">devicemapper</span></span><br><span class="line"><span class="string">Pool</span> <span class="attr">Name:</span> <span class="attr">docker-253:0-34402623-pool</span></span><br><span class="line"><span class="string">Pool</span> <span class="attr">Blocksize:</span> <span class="number">65.54</span> <span class="string">kB</span></span><br><span class="line"><span class="string">Backing</span> <span class="attr">Filesystem:</span> <span class="string">xfs</span></span><br><span class="line"><span class="string">Data</span> <span class="attr">file:</span> <span class="string">/dev/loop0</span></span><br><span class="line"><span class="string">Metadata</span> <span class="attr">file:</span> <span class="string">/dev/loop1</span></span><br><span class="line"><span class="string">Data</span> <span class="string">Space</span> <span class="attr">Used:</span> <span class="number">8.677</span> <span class="string">GB</span>     <span class="bullet">--对应的是下面Data</span> <span class="string">loop</span> <span class="string">file大小</span></span><br><span class="line"><span class="string">Data</span> <span class="string">Space</span> <span class="attr">Total:</span> <span class="number">107.4</span> <span class="string">GB</span></span><br><span class="line"><span class="string">Data</span> <span class="string">Space</span> <span class="attr">Available:</span> <span class="number">5.737</span> <span class="string">GB</span></span><br><span class="line"><span class="string">Metadata</span> <span class="string">Space</span> <span class="attr">Used:</span> <span class="number">13.4</span> <span class="string">MB</span>  <span class="bullet">--对应的是下面Metadata</span> <span class="string">loop</span> <span class="string">file大小</span></span><br><span class="line"><span class="string">Metadata</span> <span class="string">Space</span> <span class="attr">Total:</span> <span class="number">2.147</span> <span class="string">GB</span></span><br><span class="line"><span class="string">Metadata</span> <span class="string">Space</span> <span class="attr">Available:</span> <span class="number">2.134</span> <span class="string">GB</span></span><br><span class="line"><span class="string">Udev</span> <span class="string">Sync</span> <span class="attr">Supported:</span> <span class="literal">true</span></span><br><span class="line"><span class="string">Deferred</span> <span class="string">Removal</span> <span class="attr">Enabled:</span> <span class="literal">false</span></span><br><span class="line"><span class="string">Data</span> <span class="string">loop</span> <span class="attr">file:</span> <span class="string">/var/lib/docker/devicemapper/devicemapper/data</span></span><br><span class="line"><span class="string">Metadata</span> <span class="string">loop</span> <span class="attr">file:</span> <span class="string">/var/lib/docker/devicemapper/devicemapper/metadata</span></span><br><span class="line"><span class="string">Library</span> <span class="attr">Version:</span> <span class="number">1.02</span><span class="number">.93</span><span class="bullet">-RHEL7</span> <span class="string">(2015-01-28)</span></span><br><span class="line"><span class="string">Execution</span> <span class="attr">Driver:</span> <span class="string">native-0.2</span></span><br><span class="line"><span class="string">Logging</span> <span class="attr">Driver:</span> <span class="string">json-file</span></span><br><span class="line"><span class="string">Kernel</span> <span class="attr">Version:</span> <span class="number">3.10</span><span class="number">.0</span><span class="bullet">-229.</span><span class="string">el7.x86_64</span></span><br><span class="line"><span class="string">Operating</span> <span class="attr">System:</span> <span class="string">CentOS</span> <span class="string">Linux</span> <span class="number">7</span> <span class="string">(Core)</span></span><br><span class="line"><span class="attr">CPUs:</span> <span class="number">2</span></span><br><span class="line"><span class="string">Total</span> <span class="attr">Memory:</span> <span class="number">979.7</span> <span class="string">MiB</span></span><br><span class="line"><span class="attr">Name:</span> <span class="string">localhost.localdomain</span></span><br><span class="line"><span class="attr">ID:</span> <span class="attr">TFVB:BXGQ:VVOC:K2DJ:LECE:2HNK:23B2:LEVF:P3IQ:L7D5:NG2V:UKNL</span></span><br><span class="line"><span class="attr">WARNING:</span> <span class="string">bridge-nf-call-iptables</span> <span class="string">is</span> <span class="string">disabled</span></span><br><span class="line"><span class="attr">WARNING:</span> <span class="string">bridge-nf-call-ip6tables</span> <span class="string">is</span> <span class="string">disabled</span></span><br></pre></td></tr></table></figure></p>
<h3 id="inspect"><a href="#inspect" class="headerlink" title="inspect"></a>inspect</h3><p>Return low-level information on a container, image or task #用于查看容器的配置信息，包含容器名、环境变量、运行命令、主机配置、网络配置和数据卷配置等。</p>
<p>语法：Usage:  docker inspect [OPTIONS] CONTAINER|IMAGE|TASK [CONTAINER|IMAGE|TASK…]<br>实例：获取镜像mysql:5.6的元信息。<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">root@localhost ~</span>]<span class="meta"># docker inspect mysql:5.6</span></span><br><span class="line">[<span class="meta"></span></span><br><span class="line"><span class="meta">    &#123;</span></span><br><span class="line"><span class="meta">        <span class="meta-string">"Id"</span>: <span class="meta-string">"sha256:2c0964ec182ae9a045f866bbc2553087f6e42bfc16074a74fb820af235f070ec"</span>,</span></span><br><span class="line"><span class="meta">        <span class="meta-string">"RepoTags"</span>: [</span></span><br><span class="line"><span class="meta">            <span class="meta-string">"mysql:5.6"</span></span></span><br><span class="line"><span class="meta">        </span>],</span><br><span class="line">        <span class="string">"RepoDigests"</span>: [],</span><br><span class="line">        <span class="string">"Parent"</span>: <span class="string">""</span>,</span><br><span class="line">        <span class="string">"Comment"</span>: <span class="string">""</span>,</span><br><span class="line">        <span class="string">"Created"</span>: <span class="string">"2016-05-24T04:01:41.168371815Z"</span>,</span><br><span class="line">        <span class="string">"Container"</span>: <span class="string">"e0924bc460ff97787f34610115e9363e6363b30b8efa406e28eb495ab199ca54"</span>,</span><br><span class="line">        <span class="string">"ContainerConfig"</span>: &#123;</span><br><span class="line">            <span class="string">"Hostname"</span>: <span class="string">"b0cf605c7757"</span>,</span><br><span class="line">            <span class="string">"Domainname"</span>: <span class="string">""</span>,</span><br><span class="line">            <span class="string">"User"</span>: <span class="string">""</span>,</span><br><span class="line">            <span class="string">"AttachStdin"</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">"AttachStdout"</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">"AttachStderr"</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">"ExposedPorts"</span>: &#123;</span><br><span class="line">                <span class="string">"3306/tcp"</span>: &#123;&#125;</span><br><span class="line">            &#125;,</span><br></pre></td></tr></table></figure></p>
<p>获取正在运行的容器mymysql的 IP。<br><figure class="highlight twig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml">[root@localhost ~]# docker inspect --format='</span><span class="template-variable">&#123;&#123;<span class="name">range</span> .NetworkSettings.Networks&#125;&#125;</span><span class="xml"></span><span class="template-variable">&#123;&#123;.IPAddress&#125;&#125;</span><span class="xml"></span><span class="template-variable">&#123;&#123;end&#125;&#125;</span><span class="xml">' mymysql</span></span><br><span class="line"><span class="xml">172.17.0.3</span></span><br></pre></td></tr></table></figure></p>
<h3 id="kill"><a href="#kill" class="headerlink" title="kill"></a>kill</h3><p>Kill one or more running containers #强制终止容器</p>
<p>语法：Usage:    docker kill [OPTIONS] CONTAINER [CONTAINER…]<br>实例：杀掉运行中的容器mynginx<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># docker kill -s KILL mynginx</span></span><br><span class="line">mynginx</span><br></pre></td></tr></table></figure></p>
<h3 id="load"><a href="#load" class="headerlink" title="load"></a>load</h3><p>Load an image from a tar archive or STDIN #将打包的镜像导入</p>
<p>语法：Usage:    docker load [OPTIONS]<br>实例：导入一个打包好的的busybox镜像<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[root@localhost ~]</span><span class="selector-id">#docker</span> <span class="selector-tag">load</span> &lt; <span class="selector-tag">busybox</span><span class="selector-class">.tar</span></span><br><span class="line"><span class="selector-attr">[root@localhost ~]</span><span class="selector-id">#docker</span> <span class="selector-tag">images</span></span><br><span class="line"><span class="selector-tag">REPOSITORY</span>          <span class="selector-tag">TAG</span>                 <span class="selector-tag">IMAGE</span> <span class="selector-tag">ID</span>            <span class="selector-tag">CREATED</span>             <span class="selector-tag">VIRTUAL</span> <span class="selector-tag">SIZE</span></span><br><span class="line"><span class="selector-tag">busybox</span>             <span class="selector-tag">latest</span>              769<span class="selector-tag">b9341d9377</span> <span class="selector-tag">weeks</span> <span class="selector-tag">ago</span>         2<span class="selector-class">.489</span> <span class="selector-tag">MB</span></span><br></pre></td></tr></table></figure></p>
<h3 id="login"><a href="#login" class="headerlink" title="login"></a>login</h3><p>Log in to a Docker registry. #登录到docker 镜像仓库，默认为dockerhub</p>
<p>语法：Usage:    docker login [OPTIONS] [SERVER]<br>实例：登陆到Docker Hub<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># docker login -u 用户名 -p 密码</span></span><br></pre></td></tr></table></figure></p>
<h3 id="logout"><a href="#logout" class="headerlink" title="logout"></a>logout</h3><p>Log out from a Docker registry. #退出登录</p>
<p>语法：Usage:    docker logout [SERVER]<br>实例：退出docker hub<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># docker logout</span></span><br><span class="line">Remove login credentials <span class="keyword">for</span> https:<span class="regexp">//i</span>ndex.docker.io<span class="regexp">/v1/</span></span><br></pre></td></tr></table></figure></p>
<h3 id="logs"><a href="#logs" class="headerlink" title="logs"></a>logs</h3><p>Fetch the logs of a container #用于查看容器的日志，它将输出到标准输出的数据作为日志输出到docker logs命令的终端上。常用于后台型容器</p>
<p>语法：Usage:    docker logs [OPTIONS] CONTAINER</p>
<p>实例：跟踪查看容器mynginx的日志输出。<br><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">[root@localhost ~]</span>#  docker logs -f mynginx</span><br><span class="line"><span class="number">192.168.239.1</span> - - <span class="string">[10/Jul/2016:16:53:33 +0000]</span> <span class="string">"<span class="keyword">GET</span> / HTTP/1.1"</span> <span class="number">200</span> <span class="number">612</span> <span class="string">"-"</span> <span class="string">"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/45.0.2454.93 Safari/537.36"</span> <span class="string">"-"</span></span><br><span class="line"><span class="number">2016</span>/<span class="number">07</span>/<span class="number">10</span> <span class="number">16</span>:<span class="number">53</span>:<span class="number">33</span> <span class="string">[error]</span> <span class="number">5</span>#<span class="number">5</span>: *<span class="number">1</span> open() <span class="string">"/usr/share/nginx/html/favicon.ico"</span> failed (<span class="number">2</span>: No such file or directory), client: <span class="number">192.168.239.1</span>, server: localhost, request: <span class="string">"<span class="keyword">GET</span> /favicon.ico HTTP/1.1"</span>, host: <span class="string">"192.168.239.130"</span>, referrer: <span class="string">"http://192.168.239.130/"</span></span><br><span class="line"><span class="number">192.168.239.1</span> - - <span class="string">[10/Jul/2016:16:53:33 +0000]</span> <span class="string">"<span class="keyword">GET</span> /favicon.ico HTTP/1.1"</span> <span class="number">404</span> <span class="number">571</span> <span class="string">"http://192.168.239.130/"</span> <span class="string">"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/45.0.2454.93 Safari/537.36"</span> <span class="string">"-"</span></span><br><span class="line"><span class="number">192.168.239.1</span> - - <span class="string">[10/Jul/2016:16:53:59 +0000]</span> <span class="string">"<span class="keyword">GET</span> / HTTP/1.1"</span> <span class="number">304</span> <span class="number">0</span> <span class="string">"-"</span> <span class="string">"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/45.0.2454.93 Safari/537.36"</span> <span class="string">"-"</span></span><br></pre></td></tr></table></figure></p>
<p>查看容器mynginx从2016年7月1日后的最新10条日志。<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# docker logs <span class="attribute">--since</span>=<span class="string">"2016-07-01"</span> <span class="attribute">--tail</span>=10 mynginx</span><br></pre></td></tr></table></figure></p>
<h3 id="network"><a href="#network" class="headerlink" title="network"></a>network</h3><p>Manage Docker networks #管理docker网络</p>
<p>语法：Usage:    docker network COMMAND<br>实例：用于动态的将容器添加进一个已有网络/将容器从网络中移除。<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#docker<span class="built_in"> network </span>connect/docker<span class="built_in"> network </span>disconnect</span><br><span class="line">创建docker网卡</span><br><span class="line">[root@localhost ~]#docker<span class="built_in"> network </span>create -d overlay <span class="attribute">--ip-range</span>=192.168.2.0/24 <span class="attribute">--gateway</span>=192.168.2.1 <span class="attribute">--subnet</span>=192.168.2.0/24 multihost2</span><br><span class="line">显示网卡</span><br><span class="line">[root@localhost ~]#docker<span class="built_in"> network </span>ls</span><br><span class="line">删除docker网卡</span><br><span class="line">[root@localhost ~]#docker<span class="built_in"> network </span>rm</span><br><span class="line">查看docker网卡的相关详细信息</span><br><span class="line">[root@localhost ~]#docker<span class="built_in"> network </span>inspect</span><br></pre></td></tr></table></figure></p>
<h3 id="node"><a href="#node" class="headerlink" title="node"></a>node</h3><p>Manage Docker Swarm nodes #管理docker swarm节点</p>
<p>语法：Usage:    docker node COMMAND</p>
<h3 id="pause"><a href="#pause" class="headerlink" title="pause"></a>pause</h3><p>Pause all processes within one or more containers #暂停容器中所有的进程。</p>
<p>语法：Usage:    docker pause CONTAINER [CONTAINER…]<br>实例：暂停数据库容器db01提供服务。<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta">#docker pause db01</span></span><br></pre></td></tr></table></figure></p>
<h3 id="port"><a href="#port" class="headerlink" title="port"></a>port</h3><p>List port mappings or a specific mapping for the container #输出容器与宿主机端口映射的信息</p>
<p>语法：Usage:    docker port CONTAINER [PRIVATE_PORT[/PROTO]]<br>实例：查看容器mynginx的端口映射情况。<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# docker<span class="built_in"> port </span>mymysql</span><br><span class="line">3306/tcp -&gt; 0.0.0.0:3306</span><br></pre></td></tr></table></figure></p>
<h3 id="ps"><a href="#ps" class="headerlink" title="ps"></a>ps</h3><p>List containers #列出所有容器，默认只列出当前正在运行的容器，-a参数可以查看所有状态的容器</p>
<p>语法：Usage:    docker ps [OPTIONS]<br>实例：列出所有在运行的容器信息。<br><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID   IMAGE          COMMAND                <span class="string">...</span>  PORTS                    NAMES</span><br><span class="line">09b93464c2f7   nginx<span class="function">:latest</span>   <span class="string">"nginx -g 'daemon off"</span> <span class="string">...</span>  80/tcp, 443/tcp          myrunoob</span><br><span class="line">96f7f14e99ab   mysql<span class="function">:5.6</span>      <span class="string">"docker-entrypoint.sh"</span> <span class="string">...</span>  0.0.0.0<span class="function">:3306-</span>&gt;3306/tcp   mymysql</span><br></pre></td></tr></table></figure></p>
<p>列出最近创建的5个容器信息。<br><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# docker ps -<span class="built_in">n</span> <span class="number">5</span></span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                   CREATED           </span><br><span class="line"><span class="number">09</span>b93464c2f7        ngi<span class="symbol">nx:la</span>test        <span class="string">"nginx -g 'daemon off"</span>    <span class="number">2</span> <span class="built_in">days</span> ago   ...     </span><br><span class="line">b8573233d675        ngi<span class="symbol">nx:la</span>test        <span class="string">"/bin/bash"</span>               <span class="number">2</span> <span class="built_in">days</span> ago   ...     </span><br><span class="line">b1a0703e41e7        ngi<span class="symbol">nx:la</span>test        <span class="string">"nginx -g 'daemon off"</span>    <span class="number">2</span> <span class="built_in">days</span> ago   ...    </span><br><span class="line">f46fb1dec520        <span class="number">5</span>c6e1090e771        <span class="string">"/bin/sh -c 'set -x \t"</span>   <span class="number">2</span> <span class="built_in">days</span> ago   ...   </span><br><span class="line">a63b4a5597de        <span class="number">860</span>c279d2fec        <span class="string">"bash"</span>                    <span class="number">2</span> <span class="built_in">days</span> ago   ...</span><br></pre></td></tr></table></figure></p>
<p>列出所有创建的容器ID。<br><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# docker ps -a -q</span><br><span class="line"><span class="number">09</span>b<span class="number">93464c2f7</span></span><br><span class="line">b8<span class="number">573233d675</span></span><br><span class="line">b1a<span class="number">0703e41e7</span></span><br><span class="line">f46fb1dec520</span><br><span class="line">a63b4a5597de</span><br><span class="line"><span class="number">6</span>a4aa42e947b</span><br><span class="line">de7bb36e7968</span><br><span class="line"><span class="number">43</span>a<span class="number">432b73776</span></span><br><span class="line"><span class="number">664</span>a8ab1a585</span><br><span class="line">ba52eb632bbd</span><br></pre></td></tr></table></figure></p>
<h3 id="pull"><a href="#pull" class="headerlink" title="pull"></a>pull</h3><p>Pull an image or a repository from a registry #从仓库中下载一个镜像，默认为docker hub上</p>
<p>语法：Usage:    docker pull [OPTIONS] NAME[:TAG|@DIGEST]<br>实例：从Docker Hub下载java最新版镜像。<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># docker pull java</span></span><br></pre></td></tr></table></figure></p>
<p>从Docker Hub下载REPOSITORY为java的所有镜像。<br><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># docker pull -a java</span></span><br></pre></td></tr></table></figure></p>
<h3 id="push"><a href="#push" class="headerlink" title="push"></a>push</h3><p>Push an image or a repository to a registry #上传镜像到仓库，默认为docker hub上，需要用户名和密码</p>
<p>语法：Usage:    docker push [OPTIONS] NAME[:TAG]<br>实例：上传本地镜像myapache:v1到镜像仓库中。<br>要先用docker login登录上，不然会报以下错误<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# docker push myapache:v1</span><br><span class="line">The push refers <span class="keyword">to</span> a repository [docker.io/ivictor/centos] (len: 1)</span><br><span class="line">unauthorized: access <span class="keyword">to</span> the requested<span class="built_in"> resource </span>is <span class="keyword">not</span> authorized</span><br><span class="line">[root@localhost ~]# docker push myapache:v1</span><br></pre></td></tr></table></figure></p>
<h3 id="rename"><a href="#rename" class="headerlink" title="rename"></a>rename</h3><p>Rename a container #更改容器的名称</p>
<p>语法：Usage:    docker rename CONTAINER NEW_NAME</p>
<h3 id="start-stop-restart-启动、停止、重启一个容器"><a href="#start-stop-restart-启动、停止、重启一个容器" class="headerlink" title="start/stop/restart #启动、停止、重启一个容器"></a>start/stop/restart #启动、停止、重启一个容器</h3><p>语法：Usage:docker start [OPTIONS] CONTAINER [CONTAINER…]<br>     Usage:docker stop [OPTIONS] CONTAINER [CONTAINER…]<br>     Usage:docker restart [OPTIONS] CONTAINER [CONTAINER…]<br>实例：启动已被停止的容器myrunoob</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta">#docker start myrunoob</span></span><br></pre></td></tr></table></figure>
<p>停止运行中的容器myrunoob<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta">#docker stop myrunoob</span></span><br></pre></td></tr></table></figure></p>
<p>重启容器myrunoob<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta">#docker restart myrunoob</span></span><br></pre></td></tr></table></figure></p>
<h3 id="rm"><a href="#rm" class="headerlink" title="rm"></a>rm</h3><p>Remove one or more containers #删除一个或多个容器，默认只能删除非运行状态的容器，-f参数可以强制删除</p>
<p>语法：Usage:    docker rm [OPTIONS] CONTAINER [CONTAINER…]<br>实例：强制删除容器db01、db02</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># docker rm -f db01 db02</span></span><br></pre></td></tr></table></figure>
<p>移除容器nginx01对容器db01的连接，连接名db<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># docker rm -l db</span></span><br></pre></td></tr></table></figure></p>
<p>删除容器nginx01,并删除容器挂载的数据卷<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># docker rm -v nginx01</span></span><br></pre></td></tr></table></figure></p>
<h3 id="rmi"><a href="#rmi" class="headerlink" title="rmi"></a>rmi</h3><p>Remove one or more images #删除一个或多个镜像</p>
<p>Usage:    docker rmi [OPTIONS] IMAGE [IMAGE…]</p>
<h3 id="run"><a href="#run" class="headerlink" title="run"></a>run</h3><p>Run a command in a new container #启动一个容器，等同于docker create &amp;&amp; docker start命令</p>
<p>语法：Usage:    docker run [OPTIONS] IMAGE [COMMAND] [ARG…]<br>实例：使用docker镜像nginx:latest以后台模式启动一个容器,并将容器命名为mynginx。<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># docker run --name mynginx -d nginx:latest</span></span><br></pre></td></tr></table></figure></p>
<p>使用镜像nginx:latest以后台模式启动一个容器,并将容器的80端口映射到主机随机端口。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[root@localhost ~]</span><span class="selector-id">#docker</span> <span class="selector-tag">run</span> <span class="selector-tag">-P</span> <span class="selector-tag">-d</span> <span class="selector-tag">nginx</span><span class="selector-pseudo">:latest</span></span><br></pre></td></tr></table></figure></p>
<p>使用镜像nginx:latest以后台模式启动一个容器,将容器的80端口映射到主机的80端口,主机的目录/data映射到容器的/data。<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[root@localhost ~]</span><span class="selector-id">#docker</span> <span class="selector-tag">run</span> <span class="selector-tag">-p</span> <span class="selector-tag">80</span><span class="selector-pseudo">:80</span> <span class="selector-tag">-v</span> /<span class="selector-tag">data</span>:/<span class="selector-tag">data</span> <span class="selector-tag">-d</span> <span class="selector-tag">nginx</span><span class="selector-pseudo">:latest</span></span><br></pre></td></tr></table></figure></p>
<p>使用镜像nginx:latest以交互模式启动一个容器,在容器内执行/bin/bash命令。<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="variable">@localhost</span> ~]<span class="comment"># docker run -it nginx:latest /bin/bash</span></span><br><span class="line">root<span class="variable">@b8573233d675</span><span class="symbol">:/</span><span class="comment">#</span></span><br></pre></td></tr></table></figure></p>
<h3 id="save"><a href="#save" class="headerlink" title="save"></a>save</h3><p>Save one or more images to a tar archive (streamed to STDOUT by default) #将指定镜像保存成 tar 归档文件</p>
<p>语法：Usage:    docker save [OPTIONS] IMAGE [IMAGE…]<br>实例：将镜像runoob/ubuntu:v3 生成my_ubuntu_v3.tar文档<br><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment">#  docker save -o my_ubuntu_v3.tar runoob/ubuntu:v3</span></span><br><span class="line">[root@localhost ~]<span class="comment">#  ll my_ubuntu_v3.tar</span></span><br><span class="line">-rw-------<span class="number"> 1 </span>runoob runoob<span class="number"> 142102016 </span>Jul<span class="number"> 11 </span>01:37 my_ubuntu_v3.ta</span><br></pre></td></tr></table></figure></p>
<h3 id="search"><a href="#search" class="headerlink" title="search"></a>search</h3><p>Search the Docker Hub for images #在docker hub上搜索镜像</p>
<p>语法：Usage:    docker search [OPTIONS] TERM<br>实例：从Docker Hub查找所有镜像名包含java，并且收藏数大于10的镜像<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># docker search -s 10 java</span></span><br><span class="line">NAME                  DESCRIPTION                           STARS   OFFICIAL   AUTOMATED</span><br><span class="line">java                  Java is a concurrent, class-based...   1037    [OK]       </span><br><span class="line">anapsix/alpine-java   Oracle Java 8 (and 7) <span class="keyword">with</span> GLIBC ...   <span class="number">115</span>                [OK]</span><br><span class="line">develar/<span class="keyword">java</span>                                                 <span class="number">46</span>                 [OK]</span><br><span class="line">isuper/<span class="keyword">java</span>-<span class="keyword">oracle</span>    This repository contains <span class="keyword">all</span> java...   <span class="number">38</span>                 [OK]</span><br><span class="line">lwieske/<span class="keyword">java</span><span class="number">-8</span>        <span class="keyword">Oracle</span> <span class="keyword">Java</span> <span class="number">8</span> <span class="keyword">Container</span> - <span class="keyword">Full</span> + ...   <span class="number">27</span>                 [OK]</span><br><span class="line">nimmis/<span class="keyword">java</span>-centos    This <span class="keyword">is</span> docker images <span class="keyword">of</span> CentOS <span class="number">7.</span>..   <span class="number">13</span>                 [OK]</span><br></pre></td></tr></table></figure></p>
<h3 id="service"><a href="#service" class="headerlink" title="service"></a>service</h3><p>Manage Docker services #管理docker service。Docker Service是一种声明式的、可扩展的、负载均衡的应用。Docker Service是面向用户的应用</p>
<p>语法：Usage:    docker service COMMAND<br>实例：创建一个拥有5个副本的Docker Service<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# docker<span class="built_in"> service </span>create --name myService -p 8080:8080 --replicas 5 an_image</span><br></pre></td></tr></table></figure></p>
<h3 id="stats"><a href="#stats" class="headerlink" title="stats"></a>stats</h3><p>Display a live stream of container(s) resource usage statistics  #动态显示容器的资源消耗情况，包括：CPU、内存、网络I/O</p>
<p>语法：Usage:    docker stats [OPTIONS] [CONTAINER…]<br>实例：显示ID为af93e92b036a的状态信息<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# docker stats af93e92b036a</span><br><span class="line"></span><br><span class="line">CONTAINER           CPU %               MEM USAGE / LIMIT       MEM %               NET I/O               BLOCK I/O             PIDS</span><br><span class="line">af93e92b036a        <span class="number">0.02</span>%               <span class="number">3.535</span> MiB / <span class="number">1.781</span> GiB   <span class="number">0.19</span>%               <span class="number">44.24</span> kB / <span class="number">42.14</span> kB   <span class="number">17.43</span> MB / <span class="number">1.683</span> MB   <span class="number">6</span></span><br><span class="line"></span><br><span class="line">CONTAINER           CPU %               MEM USAGE / LIMIT       MEM %               NET I/O               BLOCK I/O             PIDS</span><br><span class="line">af93e92b036a        <span class="number">0.02</span>%               <span class="number">3.535</span> MiB / <span class="number">1.781</span> GiB   <span class="number">0.19</span>%               <span class="number">44.24</span> kB / <span class="number">42.14</span> kB   <span class="number">17.43</span> MB / <span class="number">1.683</span> MB   <span class="number">6</span></span><br><span class="line"></span><br><span class="line">CONTAINER           CPU %               MEM USAGE / LIMIT       MEM %               NET I/O               BLOCK I/O             PIDS</span><br><span class="line">af93e92b036a        <span class="number">0.00</span>%               <span class="number">3.535</span> MiB / <span class="number">1.781</span> GiB   <span class="number">0.19</span>%               <span class="number">44.24</span> kB / <span class="number">42.14</span> kB   <span class="number">17.43</span> MB / <span class="number">1.683</span> MB   <span class="number">6</span></span><br></pre></td></tr></table></figure></p>
<h3 id="swarm"><a href="#swarm" class="headerlink" title="swarm"></a>swarm</h3><p>Manage Docker Swarm #管理docker swarm </p>
<p>语法：Usage:    docker swarm COMMAND<br>实例：初始化swarm manager并制定网卡地址<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">docker</span> <span class="selector-tag">swarm</span> <span class="selector-tag">init</span> <span class="selector-tag">--advertise-addr</span> 192<span class="selector-class">.168</span><span class="selector-class">.10</span><span class="selector-class">.117</span></span><br></pre></td></tr></table></figure></p>
<p>强制删除集群，如果是manager，需要加–force<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker swarm leave --force</span><br><span class="line">docker <span class="keyword">node</span> <span class="title">rm</span> docker-<span class="number">118</span></span><br></pre></td></tr></table></figure></p>
<p>查看swarm worker的连接令牌<br><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">swarm </span><span class="keyword">join-token </span>worker</span><br></pre></td></tr></table></figure></p>
<p>查看swarm manager的连接令牌<br><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">swarm </span><span class="keyword">join-token </span>manager</span><br></pre></td></tr></table></figure></p>
<p>使旧令牌无效并生成新令牌<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker swarm join-<span class="keyword">token</span> <span class="comment">--rotate</span></span><br></pre></td></tr></table></figure></p>
<p>加入docker swarm集群<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">docker</span> <span class="selector-tag">swarm</span> <span class="selector-tag">join</span> <span class="selector-tag">--token</span> <span class="selector-tag">SWMTKN-1-5d2ipwo8jqdsiesv6ixze20w2toclys76gyu4zdoiaf038voxj-8sbxe79rx5qt14ol14gxxa3wf</span> 192<span class="selector-class">.168</span><span class="selector-class">.10</span><span class="selector-class">.117</span><span class="selector-pseudo">:2377</span></span><br></pre></td></tr></table></figure></p>
<p>查看集群中的节点<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">node</span> <span class="title">ls</span></span><br></pre></td></tr></table></figure></p>
<p>查看集群中节点信息<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">node</span> <span class="title">inspect</span> docker-<span class="number">117</span> --pretty</span><br></pre></td></tr></table></figure></p>
<p>调度程序可以将任务分配给节点<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">node</span> <span class="title">update</span> --availability active docker-<span class="number">118</span></span><br></pre></td></tr></table></figure></p>
<p>调度程序不向节点分配新任务，但是现有任务仍然保持运行<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">node</span> <span class="title">update</span> --availability pause docker-<span class="number">118</span></span><br></pre></td></tr></table></figure></p>
<p>调度程序不会将新任务分配给节点。调度程序关闭任何现有任务并在可用节点上安排它们<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">node</span> <span class="title">update</span> --availability drain docker-<span class="number">118</span></span><br></pre></td></tr></table></figure></p>
<p>添加节点标签<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker node update --label-<span class="builtin-name">add</span> label1 --label-<span class="builtin-name">add</span> <span class="attribute">bar</span>=label2 docker-117</span><br></pre></td></tr></table></figure></p>
<p>删除节点标签<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">node</span> <span class="title">update</span> --label-rm label1 docker-<span class="number">117</span></span><br></pre></td></tr></table></figure></p>
<p>将节点升级为manager<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">node</span> <span class="title">promote</span> docker-<span class="number">118</span></span><br></pre></td></tr></table></figure></p>
<p>将节点降级为worker<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">node</span> <span class="title">demote</span> docker-<span class="number">118</span></span><br></pre></td></tr></table></figure></p>
<p>查看服务列表<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>ls</span><br></pre></td></tr></table></figure></p>
<p>查看服务的具体信息<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>ps redis</span><br></pre></td></tr></table></figure></p>
<p>创建一个不定义name，不定义replicas的服务<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>create nginx</span><br></pre></td></tr></table></figure></p>
<p>创建一个指定name的服务<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>create --name my_web nginx</span><br></pre></td></tr></table></figure></p>
<p>创建一个指定name、run cmd的服务<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>create --name helloworld alping<span class="built_in"> ping </span>docker.com</span><br></pre></td></tr></table></figure></p>
<p>创建一个指定name、version、run cmd的服务<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>create --name helloworld alping:3.6<span class="built_in"> ping </span>docker.com</span><br></pre></td></tr></table></figure></p>
<p>创建一个指定name、port、replicas的服务<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>create --name my_web --replicas 3 -p 80:80 nginx</span><br></pre></td></tr></table></figure></p>
<p>为指定的服务更新一个端口<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>update --publish-<span class="builtin-name">add</span> 80:80 my_web</span><br></pre></td></tr></table></figure></p>
<p>为指定的服务删除一个端口<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>update --publish-rm 80:80 my_web</span><br></pre></td></tr></table></figure></p>
<p>将redis:3.0.6更新至redis:3.0.7<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>update --image redis:3.0.7 redis</span><br></pre></td></tr></table></figure></p>
<p>配置运行环境，指定工作目录及环境变量<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>create --name helloworld --env <span class="attribute">MYVAR</span>=myvalue --workdir /tmp --user my_user alping<span class="built_in"> ping </span>docker.com</span><br></pre></td></tr></table></figure></p>
<p>创建一个helloworld的服务<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>create --name helloworld alpine<span class="built_in"> ping </span>docker.com</span><br></pre></td></tr></table></figure></p>
<p>更新helloworld服务的运行命令<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>update --args “ping www.baidu.com” helloworld</span><br></pre></td></tr></table></figure></p>
<p>删除一个服务<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>rm my_web</span><br></pre></td></tr></table></figure></p>
<p>在每个群组节点上运行web服务<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>create --name tomcat --mode global --publish <span class="attribute">mode</span>=host,target=8080,published=8080 tomcat:latest</span><br></pre></td></tr></table></figure></p>
<p>创建一个overlay网络<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> network </span>create --driver overlay my_network</span><br><span class="line">docker<span class="built_in"> network </span>create --driver overlay --subnet 10.10.10.0/24 --gateway 10.10.10.1 my-network</span><br></pre></td></tr></table></figure></p>
<p>创建服务并将网络添加至该服务<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>create --name test --replicas 3 --network my-network redis</span><br></pre></td></tr></table></figure></p>
<p>删除群组网络<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>update --network-rm my-network test</span><br></pre></td></tr></table></figure></p>
<p>更新群组网络<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>update --network-<span class="builtin-name">add</span> my_network test</span><br></pre></td></tr></table></figure></p>
<p>创建群组并配置cpu和内存<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>create --name my_nginx --reserve-cpu 2 --reserve-memory 512m --replicas 3 nginx</span><br></pre></td></tr></table></figure></p>
<p>更改所分配的cpu和内存<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>update --reserve-cpu 1 --reserve-memory 256m my_nginx</span><br></pre></td></tr></table></figure></p>
<p>指定每次更新的容器数量<br><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--update-parallelism</span></span><br></pre></td></tr></table></figure></p>
<p>指定容器更新的间隔<br><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--update-delay</span></span><br></pre></td></tr></table></figure></p>
<p>定义容器启动后监控失败的持续时间<br><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--update-monitor</span></span><br></pre></td></tr></table></figure></p>
<p>定义容器失败的百分比<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--<span class="keyword">update</span>-<span class="built_in">max</span>-failure-ratio</span><br></pre></td></tr></table></figure></p>
<p>定义容器启动失败之后所执行的动作<br><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--update-failure-action</span></span><br></pre></td></tr></table></figure></p>
<p>创建一个服务并运行3个副本，同步延迟10秒，10%任务失败则暂停<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>create --name mysql_5_6_36 --replicas 3 --update-delay 10s --update-parallelism 1 --update-monitor 30s --update-failure-action pause --update-max-failure-ratio 0.1 -e <span class="attribute">MYSQL_ROOT_PASSWORD</span>=123456 mysql:5.6.36</span><br></pre></td></tr></table></figure></p>
<p>回滚至之前版本<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>update --rollback mysql</span><br></pre></td></tr></table></figure></p>
<p>自动回滚<br>如果服务部署失败，则每次回滚2个任务，监控20秒，回滚可接受失败率20%<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>create --name redis --replicas 6 --rollback-parallelism 2 --rollback-monitor 20s --rollback-max-failure-ratio .2 redis:latest</span><br></pre></td></tr></table></figure></p>
<p>创建服务并将目录挂在至container中<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>create --name mysql --publish 3306:3306 --mount <span class="attribute">type</span>=bind,src=/data/mysql,dst=/var/lib/mysql --replicas 3 -e <span class="attribute">MYSQL_ROOT_PASSWORD</span>=123456 mysql:5.6.36</span><br></pre></td></tr></table></figure></p>
<p>Bind带来的风险 </p>
<ol>
<li>绑定的主机路径必须存在于每个集群节点上，否则会有问题 </li>
<li>调度程序可能会在任何时候重新安排运行服务容器，如果目标节点主机变得不健康或无法访问 </li>
<li>主机绑定数据不可移植，当你绑定安装时，不能保证你的应用程序开发方式与生产中的运行方式相同</li>
</ol>
<p>添加swarm配置<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo <span class="string">"this is a mysql config"</span> | docker<span class="built_in"> config </span>create mysql -</span><br></pre></td></tr></table></figure></p>
<p>查看配置<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> config </span>ls</span><br></pre></td></tr></table></figure></p>
<p>查看配置详细信息<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> config </span>inspect mysql</span><br></pre></td></tr></table></figure></p>
<p>删除配置<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> config </span>rm mysql</span><br></pre></td></tr></table></figure></p>
<p>添加配置<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>update --config-<span class="builtin-name">add</span> mysql mysql</span><br></pre></td></tr></table></figure></p>
<p>删除配置<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>update --config-rm mysql mysql</span><br></pre></td></tr></table></figure></p>
<p>添加配置<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> config </span>create homepage index.html</span><br></pre></td></tr></table></figure></p>
<p>启动容器的同时添加配置<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>create --name nginx --publish 80:80 --replicas 3 --config <span class="attribute">src</span>=homepage,target=/usr/share/nginx/html/index.html nginx</span><br></pre></td></tr></table></figure></p>
<h3 id="tag"><a href="#tag" class="headerlink" title="tag"></a>tag</h3><p>Tag an image into a repository #标记本地镜像，将其归入某一个仓库</p>
<p>语法：Usage:    docker tag IMAGE[:TAG] IMAGE[:TAG]<br>实例：将镜像ubuntu:15.10标记为 runoob/ubuntu:v3 镜像。<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># docker tag ubuntu:15.10 runoob/ubuntu:v3</span></span><br><span class="line">[root@localhost ~]<span class="comment">#  docker images   runoob/ubuntu:v3</span></span><br><span class="line">REPOSITORY          <span class="keyword">TAG</span>                 <span class="title">IMAGE</span> ID            CREATED             SIZE</span><br><span class="line">runoob/ubuntu       v3                  <span class="number">4</span>e3b13c8a266        <span class="number">3</span> months ago        <span class="number">136.3</span> MB</span><br></pre></td></tr></table></figure></p>
<h3 id="top"><a href="#top" class="headerlink" title="top"></a>top</h3><p>Display the running processes of a container #查看容器中运行的进程信息，支持 ps 命令参数</p>
<p>语法：Usage:    docker top CONTAINER [ps OPTIONS]<br>实例：查看容器mymysql的进程信息。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[root@localhost ~]</span># <span class="selector-tag">docker</span> <span class="selector-tag">top</span> <span class="selector-tag">mymysql</span></span><br><span class="line"><span class="selector-tag">UID</span>    <span class="selector-tag">PID</span>    <span class="selector-tag">PPID</span>    <span class="selector-tag">C</span>      <span class="selector-tag">STIME</span>   <span class="selector-tag">TTY</span>  <span class="selector-tag">TIME</span>       <span class="selector-tag">CMD</span></span><br><span class="line">999    40347  40331   18     00<span class="selector-pseudo">:58</span>   ?    00<span class="selector-pseudo">:00</span><span class="selector-pseudo">:02</span>   <span class="selector-tag">mysqld</span></span><br></pre></td></tr></table></figure></p>
<p>查看所有运行容器的进程信息。<br><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#<span class="keyword">for</span> i <span class="built_in">in</span>  `docker ps |<span class="type">grep</span> Up|<span class="type">awk</span> '&#123;print $<span class="number">1</span>&#125;'`;<span class="built_in">do</span> echo \ &amp;&amp;docker <span class="built_in">top</span> $i; done</span><br></pre></td></tr></table></figure></p>
<h3 id="unpause"><a href="#unpause" class="headerlink" title="unpause"></a>unpause</h3><p>Unpause all processes within one or more containers #恢复容器内暂停的进程</p>
<p>语法：Usage:    docker unpause CONTAINER [CONTAINER…]<br>实例：恢复数据库容器db01提供服务。<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta">#docker unpause db01</span></span><br></pre></td></tr></table></figure></p>
<h3 id="update"><a href="#update" class="headerlink" title="update"></a>update</h3><p>Update configuration of one or more containers #动态的更新一个或多个容器的配置</p>
<p>语法：Usage:    docker update CONTAINER [CONTAINER…]<br>实例：更新一个容器为cpu-shares=512</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># docker update --cpu-shares 512 abebf7571666</span></span><br></pre></td></tr></table></figure>
<p>更新容器的cpu-shares和memory<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># docker update --cpu-shares 512 -m 300M abebf7571666 hopeful_morse</span></span><br></pre></td></tr></table></figure></p>
<p>更新容器restart策略<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta">#docker update --restart=on-failure:3 abebf7571666 hopeful_morse</span></span><br></pre></td></tr></table></figure></p>
<h3 id="version"><a href="#version" class="headerlink" title="version"></a>version</h3><p>Show the Docker version information #显示docker的版本信息</p>
<p>语法：Usage:    docker version [OPTIONS]<br>实例：显示本机docker 版本信息<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">[root@localhost</span> <span class="string">~]#</span> <span class="string">docker</span> <span class="string">version</span></span><br><span class="line"><span class="attr">Client:</span></span><br><span class="line"><span class="attr"> Version:</span>         <span class="number">1.12</span><span class="number">.6</span></span><br><span class="line"> <span class="string">API</span> <span class="attr">version:</span>     <span class="number">1.24</span></span><br><span class="line"> <span class="string">Package</span> <span class="attr">version:</span> <span class="string">docker-1.12.6-61.git85d7426.el7.centos.x86_64</span></span><br><span class="line"> <span class="string">Go</span> <span class="attr">version:</span>      <span class="string">go1.8.3</span></span><br><span class="line"> <span class="string">Git</span> <span class="attr">commit:</span>      <span class="number">85</span><span class="string">d7426/1.12.6</span></span><br><span class="line"><span class="attr"> Built:</span>           <span class="string">Tue</span> <span class="string">Oct</span> <span class="number">24</span> <span class="number">15</span><span class="string">:40:21</span> <span class="number">2017</span></span><br><span class="line"> <span class="string">OS/Arch:</span>         <span class="string">linux/amd64</span></span><br><span class="line"></span><br><span class="line"><span class="attr">Server:</span></span><br><span class="line"><span class="attr"> Version:</span>         <span class="number">1.12</span><span class="number">.6</span></span><br><span class="line"> <span class="string">API</span> <span class="attr">version:</span>     <span class="number">1.24</span></span><br><span class="line"> <span class="string">Package</span> <span class="attr">version:</span> <span class="string">docker-1.12.6-61.git85d7426.el7.centos.x86_64</span></span><br><span class="line"> <span class="string">Go</span> <span class="attr">version:</span>      <span class="string">go1.8.3</span></span><br><span class="line"> <span class="string">Git</span> <span class="attr">commit:</span>      <span class="number">85</span><span class="string">d7426/1.12.6</span></span><br><span class="line"><span class="attr"> Built:</span>           <span class="string">Tue</span> <span class="string">Oct</span> <span class="number">24</span> <span class="number">15</span><span class="string">:40:21</span> <span class="number">2017</span></span><br><span class="line"> <span class="string">OS/Arch:</span>         <span class="string">linux/amd64</span></span><br></pre></td></tr></table></figure></p>
<h3 id="volume"><a href="#volume" class="headerlink" title="volume"></a>volume</h3><p>Manage Docker volumes #管理docker数据卷</p>
<p>语法：Usage:    docker volume COMMAND<br>实例：启动一个Volume_Container容器，包含两个数据卷<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="meta">@localhost</span> ~]# docker run -v /<span class="keyword">var</span>/volume1 -v /<span class="keyword">var</span>/volume2 -name Volume_Container ubuntu14<span class="number">.04</span> linux_command</span><br></pre></td></tr></table></figure></p>
<p>创建App_Container容器，挂载Volume_Container容器中的数据卷<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># docker run -t -i -rm -volumes-from Volume_Container -name App_Container ubuntu14.04 linux_command</span></span><br></pre></td></tr></table></figure></p>
<p>或者再创建一个容器，挂载App_Container中从[root@localhost ~]# Volume_Container挂载的数据卷<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">run</span> -t -i -rm -volumes-<span class="keyword">from</span> App_Container -<span class="built_in">name</span> LastApp_Container ubuntu14<span class="number">.04</span> linux_command</span><br></pre></td></tr></table></figure></p>
<h3 id="wait"><a href="#wait" class="headerlink" title="wait"></a>wait</h3><p>Block until a container stops, then print its exit code #捕捉容器停止时的退出码,执行此命令后，该命令会“hang”在当前终端，直到容器停止，此时，会打印出容器的退出码。</p>
<p>语法：Usage:    docker wait CONTAINER [CONTAINER…]</p>

    </div>
    
    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="/" target="_blank">Ljjyy.com</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/archives/2018/10/100055.html" class="pre-post btn btn-default" title='kubernetes命令大全详解'>
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs">kubernetes命令大全详解</span>
        </a>
    
    
        <a href="/archives/2018/10/100053.html" class="next-post btn btn-default" title='Linux常用命令大全'>
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs">Linux常用命令大全</span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>


    <div id="comments">
        
	
    <div id="vcomments" class="valine"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="/assets/valine.min.js"></script>

    <script>
        new Valine({
            av: AV,
            el: '#vcomments',
            appId: '5MzTXYXkt03k101j0PmSDN34-gzGzoHsz',
            appKey: 'iwjYgwno6qj3wtDVVSbe8nYQ',
            placeholder: '说点什么吧',
            notify: false,
            verify: true,
            avatar: 'mm',
            meta: 'nick,mail'.split(','),
            pageSize: '10',
            path: window.location.pathname,
            lang: 'zh-CN'.toLowerCase()
        })
    </script>


    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">文章目录</h3>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#docker命令有很多，总的分为以下几大类："><span class="toc-text">docker命令有很多，总的分为以下几大类：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#docker-–help"><span class="toc-text">docker –help</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#下面是命令的用法和简单实例："><span class="toc-text">下面是命令的用法和简单实例：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#attach"><span class="toc-text">attach</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#build"><span class="toc-text">build</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#commit"><span class="toc-text">commit</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cp"><span class="toc-text">cp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#create"><span class="toc-text">create</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#diff"><span class="toc-text">diff</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#events"><span class="toc-text">events</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exec"><span class="toc-text">exec</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#export"><span class="toc-text">export</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#history"><span class="toc-text">history</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#images"><span class="toc-text">images</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#import"><span class="toc-text">import</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#info"><span class="toc-text">info</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#inspect"><span class="toc-text">inspect</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#kill"><span class="toc-text">kill</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#load"><span class="toc-text">load</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#login"><span class="toc-text">login</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#logout"><span class="toc-text">logout</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#logs"><span class="toc-text">logs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#network"><span class="toc-text">network</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#node"><span class="toc-text">node</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pause"><span class="toc-text">pause</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#port"><span class="toc-text">port</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ps"><span class="toc-text">ps</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pull"><span class="toc-text">pull</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#push"><span class="toc-text">push</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rename"><span class="toc-text">rename</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#start-stop-restart-启动、停止、重启一个容器"><span class="toc-text">start/stop/restart #启动、停止、重启一个容器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rm"><span class="toc-text">rm</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rmi"><span class="toc-text">rmi</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#run"><span class="toc-text">run</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#save"><span class="toc-text">save</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#search"><span class="toc-text">search</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#service"><span class="toc-text">service</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#stats"><span class="toc-text">stats</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#swarm"><span class="toc-text">swarm</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tag"><span class="toc-text">tag</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#top"><span class="toc-text">top</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#unpause"><span class="toc-text">unpause</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#update"><span class="toc-text">update</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#version"><span class="toc-text">version</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#volume"><span class="toc-text">volume</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#wait"><span class="toc-text">wait</span></a></li></ol></li></ol>
        
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
</div>

            </div>
            <div class="col-sm-12">
                <span>Copyright &copy; 2019-2024&emsp;<a href="/" class="copyright-links" target="_blank" rel="nofollow">Ljjyy.com</a>
                </span> |
                <span>
                    <a href="/about/" class="copyright-links" target="_blank" rel="nofollow">关于我们</a>
                </span> |                
                <span>
                    <a href="/sitemap.xml" class="copyright-links" target="_blank" rel="nofollow">网站地图</a>
                </span> |
                <span>
                    <a href="/archives/" class="copyright-links" target="_blank" rel="nofollow">时间轴</a>
                </span>              
            </div>
        </div>
    </div>
</div>







<script src="/js/app.js?rev=@@hash"></script>

</body>
</html>
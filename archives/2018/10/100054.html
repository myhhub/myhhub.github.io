<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <meta name="theme-version" content="1.2.3">
    <meta name="root" content="/">
    <link rel="dns-prefetch" href="https://www.ljjyy.com">
    <!--SEO-->

    <meta name="keywords" content="docker,命令" />


    <meta name="description" content="docker命令有很多，总的分为以下几大类：
容器生命周期管理 — docker [run|start|stop|restart|kill|rm|pause|unpause]

容器操作运维 —..." />



<meta name="robots" content="all" />
<meta name="google" content="all" />
<meta name="googlebot" content="all" />
<meta name="verify" content="all" />

    <!--Title-->


<title>docker命令大全详解 | 来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟</title>


    <link rel="alternate" href="/atom.xml" title="来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟" type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    




<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7.css">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0.css">
<link rel="stylesheet" href="/css/style.css?rev=@@hash.css">





    
	<div class="hide">
        <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
        <script>LA.init({id: "JgbNOaw1xxsmUUsQ",ck: "JgbNOaw1xxsmUUsQ"})</script>
	</div>






    
    <meta name="baidu-site-verification" content="dTHILoORpx" />


    <script>
        (function(){
            var bp = document.createElement('script');
            var curProtocol = window.location.protocol.split(':')[0];
            if (curProtocol === 'https') {
                bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
            }
            else {
                bp.src = 'http://push.zhanzhang.baidu.com/push.js';
            }
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(bp, s);
        })();
    </script>

<meta name="generator" content="Hexo 7.3.0"></head>


<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header"  >
    <div class="main-header-box">
        <!--a class="header-avatar" href="/" title='Ljjyy.com'>
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a-->
        <div class="branding">
            
                <h2> 多读书多实践，勤思考善领悟 </h2>
            
    	  </div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">

        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="web-logo"  href="/" title='Ljjyy.com'></a>
                    <!--a class="navbar-brand" href="https://www.ljjyy.com">来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟</a-->
                </div>
                <div class="collapse navbar-collapse" id="main-menu" style="">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>首页</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/cloud/"><i class="fa "></i>云计算</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/front/"><i class="fa "></i>前端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/back/"><i class="fa "></i>后端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/devops/"><i class="fa "></i>运维</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/crack/"><i class="fa "></i>破解</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/penetration/"><i class="fa "></i>渗透</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/tool/"><i class="fa "></i>工具</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/other/"><i class="fa "></i>其他</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="docker命令大全详解">
            
	            docker命令大全详解
            
        </h1>
        <div class="post-meta">
    
        <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
            <a class="category-link" href="/categories/devops/">运维</a>
        </span>
    

    
        <span class="fa-wrap">
            <i class="fa fa-tags"></i>
            <span class="tags-meta">
                
                    <a class="tag-none-link" href="/tags/docker/" rel="tag">docker</a> <a class="tag-none-link" href="/tags/command/" rel="tag">命令</a>
                
            </span>
        </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2018/10/13</span>
        </span>
        
    
</div>
            
            
            <p class="fa fa-exclamation-triangle warning">
                本文于<strong>2348</strong>天之前发表，文中内容可能已经过时。
            </p>
        
    </div>
    
    <div class="post-body post-content">
        <h2 id="docker命令有很多，总的分为以下几大类："><a href="#docker命令有很多，总的分为以下几大类：" class="headerlink" title="docker命令有很多，总的分为以下几大类："></a>docker命令有很多，总的分为以下几大类：</h2><ol>
<li><p>容器生命周期管理 — docker [run|start|stop|restart|kill|rm|pause|unpause]</p>
</li>
<li><p>容器操作运维 — docker [ps|inspect|top|attach|events|logs|wait|export|port]</p>
</li>
<li><p>容器rootfs命令 — docker [commit|cp|diff]</p>
</li>
<li><p>镜像仓库 — docker [login|pull|push|search]</p>
</li>
<li><p>本地镜像管理 — docker [images|rmi|tag|build|history|save|import]</p>
</li>
<li><p>其他命令 — docker [info|version]</p>
</li>
</ol>
<p>以上只是日常中大部分使用的命令，更详细的可以查看官网或者命令帮助</p>
<h2 id="docker-–help"><a href="#docker-–help" class="headerlink" title="docker –help"></a><strong>docker –help</strong></h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">Usage: docker [OPTIONS] COMMAND [arg...]</span><br><span class="line">       docker [ --<span class="keyword">help</span> | -v | --<span class="keyword">version</span> ]</span><br><span class="line"></span><br><span class="line">A self-sufficient runtime <span class="keyword">for</span> containers.</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line"></span><br><span class="line">  --config=~/.docker              Location of client config files</span><br><span class="line">  -<span class="keyword">D</span>, --debug                     Enable debug mode</span><br><span class="line">  -<span class="keyword">H</span>, --host=[]                   Daemon socket(s) to connect to</span><br><span class="line">  -<span class="keyword">h</span>, --<span class="keyword">help</span>                      <span class="keyword">Print</span> usage</span><br><span class="line">  -<span class="keyword">l</span>, --<span class="keyword">log</span>-level=info            <span class="keyword">Set</span> the logging level</span><br><span class="line">  --tls                           <span class="keyword">Use</span> TLS; implied <span class="keyword">by</span> --tlsverify</span><br><span class="line">  --tlscacert=~/.docker/<span class="keyword">ca</span>.pem    Trust certs signed only <span class="keyword">by</span> this <span class="keyword">CA</span></span><br><span class="line">  --tlscert=~/.docker/cert.pem    Path to TLS certificate <span class="keyword">file</span></span><br><span class="line">  --tlskey=~/.docker/key.pem      Path to TLS key <span class="keyword">file</span></span><br><span class="line">  --tlsverify                     <span class="keyword">Use</span> TLS and verify the remote</span><br><span class="line">  -v, --<span class="keyword">version</span>                   <span class="keyword">Print</span> <span class="keyword">version</span> information and quit</span><br><span class="line"></span><br><span class="line">Commands:</span><br><span class="line">    attach    Attach to a running container</span><br><span class="line">    build     Build <span class="keyword">an</span> image from a Dockerfile</span><br><span class="line">    commit    Create a new image from a container&#x27;s changes</span><br><span class="line">    cp        <span class="keyword">Copy</span> files/folders between a container and the <span class="keyword">local</span> filesystem</span><br><span class="line">    create    Create a new container</span><br><span class="line">    diff      <span class="keyword">Inspect</span> changes <span class="keyword">on</span> a container&#x27;s filesystem</span><br><span class="line">    events    Get real time events from the server</span><br><span class="line">    exec      <span class="keyword">Run</span> a command <span class="keyword">in</span> a running container</span><br><span class="line">    export    Export a container&#x27;s filesystem <span class="keyword">as</span> a tar archive</span><br><span class="line">    history   Show the history of <span class="keyword">an</span> image</span><br><span class="line">    images    <span class="keyword">List</span> images</span><br><span class="line">    import    Import the contents from a tarball to create a filesystem image</span><br><span class="line">    info      <span class="keyword">Display</span> system-wide information</span><br><span class="line">    <span class="keyword">inspect</span>   <span class="keyword">Return</span> low-level information <span class="keyword">on</span> a container, image or task</span><br><span class="line">    kill      Kill <span class="keyword">one</span> or <span class="keyword">more</span> running containers</span><br><span class="line">    load      Load <span class="keyword">an</span> image from a tar archive or STDIN</span><br><span class="line">    login     <span class="keyword">Log</span> <span class="keyword">in</span> to a Docker registry.</span><br><span class="line">    logout    <span class="keyword">Log</span> <span class="keyword">out</span> from a Docker registry.</span><br><span class="line">    logs      Fetch the logs of a container</span><br><span class="line">    network   Manage Docker networks</span><br><span class="line">    node      Manage Docker Swarm nodes</span><br><span class="line">    <span class="keyword">pause</span>     <span class="keyword">Pause</span> all processes within <span class="keyword">one</span> or <span class="keyword">more</span> containers</span><br><span class="line">    port      <span class="keyword">List</span> port mappings or a specific mapping <span class="keyword">for</span> the container</span><br><span class="line">    ps        <span class="keyword">List</span> containers</span><br><span class="line">    pull      Pull <span class="keyword">an</span> image or a repository from a registry</span><br><span class="line">    push      Push <span class="keyword">an</span> image or a repository to a registry</span><br><span class="line">    <span class="keyword">rename</span>    <span class="keyword">Rename</span> a container</span><br><span class="line">    restart   Restart a container</span><br><span class="line">    <span class="keyword">rm</span>        Remove <span class="keyword">one</span> or <span class="keyword">more</span> containers</span><br><span class="line">    rmi       Remove <span class="keyword">one</span> or <span class="keyword">more</span> images</span><br><span class="line">    <span class="keyword">run</span>       <span class="keyword">Run</span> a command <span class="keyword">in</span> a new container</span><br><span class="line">    <span class="keyword">save</span>      <span class="keyword">Save</span> <span class="keyword">one</span> or <span class="keyword">more</span> images to a tar archive (streamed to STDOUT <span class="keyword">by</span> default)</span><br><span class="line">    <span class="keyword">search</span>    <span class="keyword">Search</span> the Docker Hub <span class="keyword">for</span> images</span><br><span class="line">    service   Manage Docker services</span><br><span class="line">    start     Start <span class="keyword">one</span> or <span class="keyword">more</span> stopped containers</span><br><span class="line">    stats     <span class="keyword">Display</span> a live stream of container(s) resource usage statistics</span><br><span class="line">    stop      Stop <span class="keyword">one</span> or <span class="keyword">more</span> running containers</span><br><span class="line">    swarm     Manage Docker Swarm</span><br><span class="line">    tag       Tag <span class="keyword">an</span> image into a repository</span><br><span class="line">    top       <span class="keyword">Display</span> the running processes of a container</span><br><span class="line">    unpause   Unpause all processes within <span class="keyword">one</span> or <span class="keyword">more</span> containers</span><br><span class="line">    <span class="keyword">update</span>    <span class="keyword">Update</span> configuration of <span class="keyword">one</span> or <span class="keyword">more</span> containers</span><br><span class="line">    <span class="keyword">version</span>   Show the Docker <span class="keyword">version</span> information</span><br><span class="line">    volume    Manage Docker volumes</span><br><span class="line">    wait      Block until a container stops, then <span class="keyword">print</span> its <span class="keyword">exit</span> code</span><br></pre></td></tr></table></figure>

<h2 id="下面是命令的用法和简单实例："><a href="#下面是命令的用法和简单实例：" class="headerlink" title="下面是命令的用法和简单实例："></a><strong>下面是命令的用法和简单实例：</strong></h2><h3 id="attach"><a href="#attach" class="headerlink" title="attach"></a>attach</h3><p>Attach to a running container #将终端依附到容器上</p>
<p>语法：Usage: docker attach [OPTIONS] CONTAINER<br>实例：进入my_container容器</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># docker attach my_container </span></span><br><span class="line">[root<span class="symbol">@d4a75f165ce6</span> /]<span class="meta">#</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="build"><a href="#build" class="headerlink" title="build"></a>build</h3><p>Build an image from a Dockerfile #通过Dockerfile创建镜像</p>
<p>语法：Usage: docker build [OPTIONS] PATH | URL | -<br>实例：使用当前目录的Dockerfile创建镜像。</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta">#docker build -t runoob/ubuntu:v1 .</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="commit"><a href="#commit" class="headerlink" title="commit"></a>commit</h3><p>Create a new image from a container’s changes #通过容器创建本地镜像</p>
<p>语法：Usage: docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]<br>实例：创建一个镜像</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># docker commit centos_v1 centos:v1 68ad49c999496cff25fdda58f0521530a143d3884e61bce7ada09bdc22337638</span></span><br></pre></td></tr></table></figure>
<h3 id="cp"><a href="#cp" class="headerlink" title="cp"></a>cp</h3><p>Copy files&#x2F;folders between a container and the local filesystem #在宿主机和容器之间相互拷贝文件</p>
<p>语法：Usage: docker cp [OPTIONS] CONTAINER:SRC_PATH DEST_PATH|-<br>            docker cp [OPTIONS] SRC_PATH|- CONTAINER:DEST_PATH<br>实例：容器mysql中&#x2F;usr&#x2F;local&#x2F;bin&#x2F;存在docker-entrypoint.sh文件，可如下方式copy到宿主机</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="meta">@localhost</span> <span class="operator">~</span>]#docker cp mysql:<span class="regexp">/usr/</span>local<span class="regexp">/bin/</span>docker<span class="operator">-</span>entrypoint.sh <span class="operator">/</span>root</span><br><span class="line">修改完毕后，将该文件重新<span class="keyword">copy</span>回容器</span><br><span class="line">[root<span class="meta">@localhost</span> <span class="operator">~</span>]# docker cp <span class="regexp">/root/</span>docker<span class="operator">-</span>entrypoint.sh mysql:<span class="regexp">/usr/</span>local<span class="regexp">/bin/</span> </span><br></pre></td></tr></table></figure>
<h3 id="create"><a href="#create" class="headerlink" title="create"></a>create</h3><p>Create a new container #仅创建一个容器</p>
<p>语法：Usage:    docker create [OPTIONS] IMAGE [COMMAND] [ARG…]<br>实例：使用docker镜像nginx:latest创建一个容器,并将容器命名为myrunoob</p>
<figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="title">@localhost</span> ~]# docker create  --name myrunoob  nginx:latest      </span><br><span class="line"><span class="number">09</span>b<span class="number">93464</span><span class="keyword">c</span><span class="number">2</span>f<span class="number">75</span>b<span class="number">7</span>b<span class="number">69</span>f<span class="number">83</span>d<span class="number">56</span>a<span class="number">9</span>cfc<span class="number">23</span>ceb<span class="number">50</span>a<span class="number">48</span>a<span class="number">9</span>db<span class="number">7652</span>ee<span class="number">4</span><span class="keyword">c</span><span class="number">27e3</span>e<span class="number">2</span>cb<span class="number">1961</span>f</span><br></pre></td></tr></table></figure>
<h3 id="diff"><a href="#diff" class="headerlink" title="diff"></a>diff</h3><p>Inspect changes on a container’s filesystem #查看容器内发生改变的文件</p>
<p>语法：Usage:    docker diff CONTAINER<br>实例：查看容器mymysql的文件结构更改。</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment">#docker diff mymysql</span></span><br><span class="line">A <span class="string">/logs</span></span><br><span class="line">A <span class="string">/mysql_data</span></span><br><span class="line">C <span class="string">/run</span></span><br><span class="line">C <span class="string">/run/mysqld</span></span><br><span class="line">A <span class="string">/run/mysqld/mysqld.pid</span></span><br><span class="line">A <span class="string">/run/mysqld/mysqld.sock</span></span><br><span class="line">C <span class="string">/tmp</span></span><br></pre></td></tr></table></figure>
<h3 id="events"><a href="#events" class="headerlink" title="events"></a>events</h3><p>Get real time events from the server #实时输出docker服务器的事件，包括容器的创建、启动和关闭等</p>
<p>语法：Usage:    docker events [OPTIONS]<br>实例：显示docker 2016年7月1日后的所有事件。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# docker events  <span class="attribute">--since</span>=<span class="string">&quot;1467302400&quot;</span></span><br><span class="line">2016-07-08T19:44:54.501277677+08:00<span class="built_in"> network </span>connect 66f958fd13dc4314ad20034e576d5c5eba72e0849dcc38ad9e8436314a4149d4 (<span class="attribute">container</span>=b8573233d675705df8c89796a2c2687cd8e36e03646457a15fb51022db440e64, <span class="attribute">name</span>=bridge, <span class="attribute">type</span>=bridge)</span><br><span class="line">2016-07-08T19:44:54.723876221+08:00 container start b8573233d675705df8c89796a2c2687cd8e36e03646457a15fb51022db440e64 (<span class="attribute">image</span>=nginx:latest, <span class="attribute">name</span>=elegant_albattani)</span><br><span class="line">2016-07-08T19:44:54.726110498+08:00 container resize b8573233d675705df8c89796a2c2687cd8e36e03646457a15fb51022db440e64 (<span class="attribute">height</span>=39, <span class="attribute">image</span>=nginx:latest, <span class="attribute">name</span>=elegant_albattani, <span class="attribute">width</span>=167)</span><br><span class="line">2016-07-08T19:46:22.137250899+08:00 container die b8573233d675705df8c89796a2c2687cd8e36e03646457a15fb51022db440e64 (<span class="attribute">exitCode</span>=0, <span class="attribute">image</span>=nginx:latest, <span class="attribute">name</span>=elegant_albattani)</span><br></pre></td></tr></table></figure>

<p>显示docker 镜像为mysql:5.6 2016年7月1日后的相关事件。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# docker events -f <span class="string">&quot;image&quot;</span>=<span class="string">&quot;mysql:5.6&quot;</span> <span class="attribute">--since</span>=<span class="string">&quot;1467302400&quot;</span> </span><br><span class="line">2016-07-11T00:38:53.975174837+08:00 container start 96f7f14e99ab9d2f60943a50be23035eda1623782cc5f930411bbea407a2bb10 (<span class="attribute">image</span>=mysql:5.6, <span class="attribute">name</span>=mymysql)</span><br><span class="line">2016-07-11T00:51:17.022572452+08:00 container kill 96f7f14e99ab9d2f60943a50be23035eda1623782cc5f930411bbea407a2bb10 (<span class="attribute">image</span>=mysql:5.6, <span class="attribute">name</span>=mymysql, <span class="attribute">signal</span>=9)</span><br><span class="line">2016-07-11T00:51:17.132532080+08:00 container die 96f7f14e99ab9d2f60943a50be23035eda1623782cc5f930411bbea407a2bb10 (<span class="attribute">exitCode</span>=137, <span class="attribute">image</span>=mysql:5.6, <span class="attribute">name</span>=mymysql)</span><br><span class="line">2016-07-11T00:51:17.514661357+08:00 container destroy 96f7f14e99ab9d2f60943a50be23035eda1623782cc5f930411bbea407a2bb10 (<span class="attribute">image</span>=mysql:5.6, <span class="attribute">name</span>=mymysql)</span><br><span class="line">2016-07-11T00:57:18.551984549+08:00 container create c8f0a32f12f5ec061d286af0b1285601a3e33a90a08ff1706de619ac823c345c (<span class="attribute">image</span>=mysql:5.6, <span class="attribute">name</span>=mymysql)</span><br><span class="line">2016-07-11T00:57:18.557405864+08:00 container attach c8f0a32f12f5ec061d286af0b1285601a3e33a90a08ff1706de619ac823c345c (<span class="attribute">image</span>=mysql:5.6, <span class="attribute">name</span>=mymysql)</span><br><span class="line">2016-07-11T00:57:18.844134112+08:00 container start c8f0a32f12f5ec061d286af0b1285601a3e33a90a08ff1706de619ac823c345c (<span class="attribute">image</span>=mysql:5.6, <span class="attribute">name</span>=mymysql)</span><br></pre></td></tr></table></figure>
<p>如果指定的时间是到秒级的，需要将时间转成时间戳。如果时间为日期的话，可以直接使用，如–since&#x3D;”2016-07-01”。</p>
<h3 id="exec"><a href="#exec" class="headerlink" title="exec"></a>exec</h3><p>Run a command in a running container #对一个启动的容器执行命令</p>
<p>语法：Usage:    docker exec [OPTIONS] CONTAINER COMMAND [ARG…]<br>实例：在容器mynginx中以交互模式执行容器内&#x2F;root&#x2F;runoob.sh脚本</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# docker <span class="built_in">exec</span> -it mynginx /bin/sh /root/runoob.sh</span><br><span class="line">http://www.runoob.com/</span><br></pre></td></tr></table></figure>
<h3 id="export"><a href="#export" class="headerlink" title="export"></a>export</h3><p>Export a container’s filesystem as a tar archive #将容器打包，导出为tar文件格式</p>
<p>语法：Usage:    docker export [OPTIONS] CONTAINER<br>实例：将id为a404c6c174a2的容器按日期保存为tar文件。</p>
<figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="title">@localhost</span> ~]#docker export -o mysql-`date +<span class="variable">%Y</span><span class="variable">%m</span><span class="variable">%d</span>`.tar a<span class="number">404</span><span class="keyword">c</span><span class="number">6</span><span class="keyword">c</span><span class="number">174</span>a<span class="number">2</span></span><br><span class="line">[root<span class="title">@localhost</span> ~]#ls mysql-`date +<span class="variable">%Y</span><span class="variable">%m</span><span class="variable">%d</span>`.tar</span><br><span class="line">mysql<span class="number">-20160711</span>.tar</span><br></pre></td></tr></table></figure>

<h3 id="history"><a href="#history" class="headerlink" title="history"></a>history</h3><p>Show the history of an image#显示镜像的创建过程</p>
<p>语法： Usage:    docker history [OPTIONS] IMAGE<br>实例： 查看本地镜像runoob&#x2F;ubuntu:v3的创建历史。</p>
<figure class="highlight leaf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="punctuation">#</span> docker history runoob/ubuntu:v3</span><br><span class="line">IMAGE             CREATED           CREATED BY                                      SIZE      COMMENT</span><br><span class="line">4e3b13c8a266      3 months ago      /bin/sh -c <span class="punctuation">#</span><span class="params">(<span class="variable">nop</span>)</span> CMD [&quot;/bin/bash&quot;]             0 B                 </span><br><span class="line">&lt;missing&gt;         3 months ago      /bin/sh -c sed -i &#x27;s/^<span class="punctuation">#</span>\s*\(deb.*universe\)$/   1.863 kB            </span><br><span class="line">&lt;missing&gt;         3 months ago      /bin/sh -c set -xe   &amp;&amp; echo &#x27;<span class="punctuation">#</span>!/bin/sh&#x27; &gt; /u   701 B               </span><br><span class="line">&lt;missing&gt;         3 months ago      /bin/sh -c <span class="punctuation">#</span><span class="params">(<span class="variable">nop</span>)</span> ADD file:43cb048516c6b80f22   136.3 MB</span><br></pre></td></tr></table></figure>

<h3 id="images"><a href="#images" class="headerlink" title="images"></a>images</h3><p>List images #列出本地所有的镜像</p>
<p>语法：Usage: docker images [OPTIONS] [REPOSITORY[:TAG]]<br>实例：查看本地镜像列表。</p>
<figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment">#docker images</span></span><br><span class="line">REPOSITORY              TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">mymysql                 v1                  37af1236adef       <span class="number"> 5 </span>minutes ago      <span class="number"> 329 </span>MB</span><br><span class="line">runoob/ubuntu           v4                  1c06aa18edee       <span class="number"> 2 </span>days ago          142.1 MB</span><br><span class="line">&lt;none&gt;                  &lt;none&gt;              5c6e1090e771       <span class="number"> 2 </span>days ago          165.9 MB</span><br><span class="line">httpd                   latest              ed38aaffef30       <span class="number"> 11 </span>days ago         195.1 MB</span><br><span class="line">alpine                  latest              4e38e38c8ce0       <span class="number"> 2 </span>weeks ago         4.799 MB</span><br><span class="line">mongo                   3.2                 282fd552add6       <span class="number"> 3 </span>weeks ago         336.1 MB</span><br><span class="line">redis                   latest              4465e4bcad80       <span class="number"> 3 </span>weeks ago         185.7 MB</span><br><span class="line">php                     5.6-fpm             025041cd3aa5       <span class="number"> 3 </span>weeks ago         456.3 MB</span><br><span class="line">python                  3.5                 045767ddf24a       <span class="number"> 3 </span>weeks ago         684.1 MB</span><br></pre></td></tr></table></figure>
<p>列出本地镜像中REPOSITORY为ubuntu的镜像列表。</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># docker images  ubuntu</span></span><br><span class="line">REPOSITORY          <span class="keyword">TAG</span>                 <span class="title">IMAGE</span> ID            CREATED             SIZE</span><br><span class="line">ubuntu              <span class="number">14.04</span>               <span class="number">90</span>d5884b1ee0        <span class="number">9</span> weeks ago         <span class="number">188</span> MB</span><br><span class="line">ubuntu              <span class="number">15.10</span>               <span class="number">4</span>e3b13c8a266        <span class="number">3</span> months ago        <span class="number">136.3</span> MB</span><br></pre></td></tr></table></figure>
<h3 id="import"><a href="#import" class="headerlink" title="import"></a>import</h3><p>Import the contents from a tarball to create a filesystem image #导入一个镜像，类型为tar文件</p>
<p>语法：Usage:    docker images [OPTIONS] [REPOSITORY[:TAG]]<br>实例：从镜像归档文件my_ubuntu_v3.tar创建镜像，命名为runoob&#x2F;ubuntu:v4</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># docker import  my_ubuntu_v3.tar runoob/ubuntu:v4  </span></span><br><span class="line">sha256:<span class="number">63</span>ce4a6d6bc3fabb95dbd6c561404a309b7bdfc4e21c1d59fe9fe4299cbfea39</span><br><span class="line">[root@localhost ~]<span class="comment">#docker images runoob/ubuntu:v4</span></span><br><span class="line">REPOSITORY          <span class="keyword">TAG</span>                 <span class="title">IMAGE</span> ID            CREATED             SIZE</span><br><span class="line">runoob/ubuntu       v4                  <span class="number">63</span>ce4a6d6bc3        <span class="number">20</span> seconds ago      <span class="number">142.1</span> MB</span><br></pre></td></tr></table></figure>
<h3 id="info"><a href="#info" class="headerlink" title="info"></a>info</h3><p>Display system-wide information #显示docker的系统信息</p>
<p>语法：Usage:    docker images [OPTIONS] [REPOSITORY[:TAG]]<br>实例：显示本机docker系统信息</p>
<figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># docker info</span></span><br><span class="line"><span class="params">Containers:</span> <span class="number">3</span>    <span class="operator">-</span>-当前有<span class="number">3</span>个容器</span><br><span class="line"><span class="params">Images:</span> <span class="number">298</span>      </span><br><span class="line">Storage <span class="params">Driver:</span> devicemapper</span><br><span class="line">Pool <span class="params">Name:</span> docker-<span class="number">253</span>:<span class="number">0</span><span class="operator">-</span><span class="number">3440262</span>3-pool</span><br><span class="line">Pool <span class="params">Blocksize:</span> <span class="number">65.54</span> kB</span><br><span class="line">Backing <span class="params">Filesystem:</span> xfs</span><br><span class="line">Data <span class="params">file:</span> <span class="symbol">/dev/loop0</span></span><br><span class="line">Metadata <span class="params">file:</span> <span class="symbol">/dev/loop1</span></span><br><span class="line">Data Space <span class="params">Used:</span> <span class="number">8.677</span> GB     <span class="operator">-</span>-对应的是下面Data loop file大小</span><br><span class="line">Data Space <span class="params">Total:</span> <span class="number">107.4</span> GB</span><br><span class="line">Data Space <span class="params">Available:</span> <span class="number">5.737</span> GB</span><br><span class="line">Metadata Space <span class="params">Used:</span> <span class="number">13.4</span> MB  <span class="operator">-</span>-对应的是下面Metadata loop file大小</span><br><span class="line">Metadata Space <span class="params">Total:</span> <span class="number">2.147</span> GB</span><br><span class="line">Metadata Space <span class="params">Available:</span> <span class="number">2.134</span> GB</span><br><span class="line">Udev Sync <span class="params">Supported:</span> <span class="literal">true</span></span><br><span class="line">Deferred Removal <span class="params">Enabled:</span> <span class="literal">false</span></span><br><span class="line">Data loop <span class="params">file:</span> <span class="symbol">/var/lib/docker/devicemapper/devicemapper/data</span></span><br><span class="line">Metadata loop <span class="params">file:</span> <span class="symbol">/var/lib/docker/devicemapper/devicemapper/metadata</span></span><br><span class="line">Library <span class="params">Version:</span> <span class="number">1.02</span>.<span class="number">9</span>3-RHEL7 (<span class="number">201</span>5-<span class="number">0</span>1-<span class="number">28</span>)</span><br><span class="line">Execution <span class="params">Driver:</span> native-<span class="number">0.2</span></span><br><span class="line">Logging <span class="params">Driver:</span> json-file</span><br><span class="line">Kernel <span class="params">Version:</span> <span class="number">3.10</span>.<span class="number">0</span><span class="operator">-</span><span class="number">229</span>.el7.x86_64</span><br><span class="line">Operating <span class="params">System:</span> CentOS Linux <span class="number">7</span> (Core)</span><br><span class="line"><span class="params">CPUs:</span> <span class="number">2</span></span><br><span class="line">Total <span class="params">Memory:</span> <span class="number">979.7</span> MiB</span><br><span class="line"><span class="params">Name:</span> localhost.localdomain</span><br><span class="line"><span class="params">ID:</span> TFVB:BXGQ:VVOC:K2DJ:LECE:<span class="number">2</span>HNK:<span class="number">23</span>B2:LEVF:P3IQ:L7D5:NG2V:UKNL</span><br><span class="line"><span class="params">WARNING:</span> bridge-nf-call-iptables is disabled</span><br><span class="line"><span class="params">WARNING:</span> bridge-nf-call-ip6tables is disabled</span><br></pre></td></tr></table></figure>
<h3 id="inspect"><a href="#inspect" class="headerlink" title="inspect"></a>inspect</h3><p>Return low-level information on a container, image or task #用于查看容器的配置信息，包含容器名、环境变量、运行命令、主机配置、网络配置和数据卷配置等。</p>
<p>语法：Usage:  docker inspect [OPTIONS] CONTAINER|IMAGE|TASK [CONTAINER|IMAGE|TASK…]<br>实例：获取镜像mysql:5.6的元信息。</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># docker inspect mysql:5.6</span></span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;Id&quot;</span>: <span class="string">&quot;sha256:2c0964ec182ae9a045f866bbc2553087f6e42bfc16074a74fb820af235f070ec&quot;</span>,</span><br><span class="line">        <span class="string">&quot;RepoTags&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;mysql:5.6&quot;</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="string">&quot;RepoDigests&quot;</span>: [],</span><br><span class="line">        <span class="string">&quot;Parent&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Comment&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Created&quot;</span>: <span class="string">&quot;2016-05-24T04:01:41.168371815Z&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Container&quot;</span>: <span class="string">&quot;e0924bc460ff97787f34610115e9363e6363b30b8efa406e28eb495ab199ca54&quot;</span>,</span><br><span class="line">        <span class="string">&quot;ContainerConfig&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;Hostname&quot;</span>: <span class="string">&quot;b0cf605c7757&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Domainname&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;User&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;AttachStdin&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;AttachStdout&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;AttachStderr&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;ExposedPorts&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;3306/tcp&quot;</span>: &#123;&#125;</span><br><span class="line">            &#125;,</span><br></pre></td></tr></table></figure>
<p>获取正在运行的容器mymysql的 IP。</p>
<figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml">[root@localhost ~]# docker inspect --format=&#x27;</span><span class="template-variable">&#123;&#123;<span class="name">range</span> .NetworkSettings.Networks&#125;&#125;</span><span class="template-variable">&#123;&#123;<span class="name">.IPAddress</span>&#125;&#125;</span><span class="template-variable">&#123;&#123;<span class="name">end</span>&#125;&#125;</span><span class="language-xml">&#x27; mymysql</span></span><br><span class="line"><span class="language-xml">172.17.0.3</span></span><br></pre></td></tr></table></figure>
<h3 id="kill"><a href="#kill" class="headerlink" title="kill"></a>kill</h3><p>Kill one or more running containers #强制终止容器</p>
<p>语法：Usage:    docker kill [OPTIONS] CONTAINER [CONTAINER…]<br>实例：杀掉运行中的容器mynginx</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># docker kill -s KILL mynginx</span></span><br><span class="line">mynginx</span><br></pre></td></tr></table></figure>
<h3 id="load"><a href="#load" class="headerlink" title="load"></a>load</h3><p>Load an image from a tar archive or STDIN #将打包的镜像导入</p>
<p>语法：Usage:    docker load [OPTIONS]<br>实例：导入一个打包好的的busybox镜像</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment">#docker load &lt; busybox.tar</span></span><br><span class="line">[root@localhost ~]<span class="comment">#docker images</span></span><br><span class="line">REPOSITORY          <span class="keyword">TAG</span>                 <span class="title">IMAGE</span> ID            CREATED             VIRTUAL SIZE</span><br><span class="line">busybox             latest              <span class="number">769</span>b9341d9377 weeks ago         <span class="number">2.489</span> MB</span><br></pre></td></tr></table></figure>
<h3 id="login"><a href="#login" class="headerlink" title="login"></a>login</h3><p>Log in to a Docker registry. #登录到docker 镜像仓库，默认为dockerhub</p>
<p>语法：Usage:    docker login [OPTIONS] [SERVER]<br>实例：登陆到Docker Hub</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># docker login -u 用户名 -p 密码</span></span><br></pre></td></tr></table></figure>
<h3 id="logout"><a href="#logout" class="headerlink" title="logout"></a>logout</h3><p>Log out from a Docker registry. #退出登录</p>
<p>语法：Usage:    docker logout [SERVER]<br>实例：退出docker hub</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># docker logout</span></span><br><span class="line">Remove login credentials <span class="keyword">for</span> https:<span class="regexp">//i</span>ndex.docker.io<span class="regexp">/v1/</span></span><br></pre></td></tr></table></figure>
<h3 id="logs"><a href="#logs" class="headerlink" title="logs"></a>logs</h3><p>Fetch the logs of a container #用于查看容器的日志，它将输出到标准输出的数据作为日志输出到docker logs命令的终端上。常用于后台型容器</p>
<p>语法：Usage:    docker logs [OPTIONS] CONTAINER</p>
<p>实例：跟踪查看容器mynginx的日志输出。</p>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">[root@localhost ~]</span>#  docker logs -f mynginx</span><br><span class="line"><span class="number">192.168.239.1</span> - - <span class="string">[10/Jul/2016:16:53:33 +0000]</span> <span class="string">&quot;<span class="keyword">GET</span> / HTTP/1.1&quot;</span> <span class="number">200</span> <span class="number">612</span> <span class="string">&quot;-&quot;</span> <span class="string">&quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/45.0.2454.93 Safari/537.36&quot;</span> <span class="string">&quot;-&quot;</span></span><br><span class="line"><span class="number">2016</span>/<span class="number">07</span>/<span class="number">10</span> <span class="number">16</span>:<span class="number">53</span>:<span class="number">33</span> <span class="string">[error]</span> <span class="number">5</span>#<span class="number">5</span>: *<span class="number">1</span> open() <span class="string">&quot;/usr/share/nginx/html/favicon.ico&quot;</span> failed (<span class="number">2</span>: No such file or directory), client: <span class="number">192</span>.<span class="number">168</span>.<span class="number">239</span>.<span class="number">1</span>, server: localhost, request: <span class="string">&quot;<span class="keyword">GET</span> /favicon.ico HTTP/1.1&quot;</span>, host: <span class="string">&quot;192.168.239.130&quot;</span>, referrer: <span class="string">&quot;http://192.168.239.130/&quot;</span></span><br><span class="line"><span class="number">192.168.239.1</span> - - <span class="string">[10/Jul/2016:16:53:33 +0000]</span> <span class="string">&quot;<span class="keyword">GET</span> /favicon.ico HTTP/1.1&quot;</span> <span class="number">404</span> <span class="number">571</span> <span class="string">&quot;http://192.168.239.130/&quot;</span> <span class="string">&quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/45.0.2454.93 Safari/537.36&quot;</span> <span class="string">&quot;-&quot;</span></span><br><span class="line"><span class="number">192.168.239.1</span> - - <span class="string">[10/Jul/2016:16:53:59 +0000]</span> <span class="string">&quot;<span class="keyword">GET</span> / HTTP/1.1&quot;</span> <span class="number">304</span> <span class="number">0</span> <span class="string">&quot;-&quot;</span> <span class="string">&quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/45.0.2454.93 Safari/537.36&quot;</span> <span class="string">&quot;-&quot;</span></span><br></pre></td></tr></table></figure>
<p>查看容器mynginx从2016年7月1日后的最新10条日志。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# docker logs <span class="attribute">--since</span>=<span class="string">&quot;2016-07-01&quot;</span> <span class="attribute">--tail</span>=10 mynginx</span><br></pre></td></tr></table></figure>
<h3 id="network"><a href="#network" class="headerlink" title="network"></a>network</h3><p>Manage Docker networks #管理docker网络</p>
<p>语法：Usage:    docker network COMMAND<br>实例：用于动态的将容器添加进一个已有网络&#x2F;将容器从网络中移除。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#docker<span class="built_in"> network </span>connect/docker<span class="built_in"> network </span>disconnect</span><br><span class="line">创建docker网卡</span><br><span class="line">[root@localhost ~]#docker<span class="built_in"> network </span>create -d overlay <span class="attribute">--ip-range</span>=192.168.2.0/24 <span class="attribute">--gateway</span>=192.168.2.1 <span class="attribute">--subnet</span>=192.168.2.0/24 multihost2</span><br><span class="line">显示网卡</span><br><span class="line">[root@localhost ~]#docker<span class="built_in"> network </span>ls</span><br><span class="line">删除docker网卡</span><br><span class="line">[root@localhost ~]#docker<span class="built_in"> network </span>rm</span><br><span class="line">查看docker网卡的相关详细信息</span><br><span class="line">[root@localhost ~]#docker<span class="built_in"> network </span>inspect</span><br></pre></td></tr></table></figure>
<h3 id="node"><a href="#node" class="headerlink" title="node"></a>node</h3><p>Manage Docker Swarm nodes #管理docker swarm节点</p>
<p>语法：Usage:    docker node COMMAND</p>
<h3 id="pause"><a href="#pause" class="headerlink" title="pause"></a>pause</h3><p>Pause all processes within one or more containers #暂停容器中所有的进程。</p>
<p>语法：Usage:    docker pause CONTAINER [CONTAINER…]<br>实例：暂停数据库容器db01提供服务。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[root@localhost ~]</span><span class="selector-id">#docker</span> <span class="attribute">pause</span> db01</span><br></pre></td></tr></table></figure>
<h3 id="port"><a href="#port" class="headerlink" title="port"></a>port</h3><p>List port mappings or a specific mapping for the container #输出容器与宿主机端口映射的信息</p>
<p>语法：Usage:    docker port CONTAINER [PRIVATE_PORT[&#x2F;PROTO]]<br>实例：查看容器mynginx的端口映射情况。</p>
<figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># docker port mymysql</span></span><br><span class="line"><span class="number">3306</span>/tcp -&gt; <span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">3306</span></span><br></pre></td></tr></table></figure>
<h3 id="ps"><a href="#ps" class="headerlink" title="ps"></a>ps</h3><p>List containers #列出所有容器，默认只列出当前正在运行的容器，-a参数可以查看所有状态的容器</p>
<p>语法：Usage:    docker ps [OPTIONS]<br>实例：列出所有在运行的容器信息。</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID   IMAGE          COMMAND                <span class="string">...</span>  PORTS                    NAMES</span><br><span class="line">09b93464c2f7   nginx<span class="function">:latest</span>   <span class="string">&quot;nginx -g &#x27;daemon off&quot;</span> <span class="string">...</span>  80/tcp, 443/tcp          myrunoob</span><br><span class="line">96f7f14e99ab   mysql<span class="function">:5.6</span>      <span class="string">&quot;docker-entrypoint.sh&quot;</span> <span class="string">...</span>  0.0.0.0<span class="function">:3306-</span>&gt;3306/tcp   mymysql</span><br></pre></td></tr></table></figure>
<p>列出最近创建的5个容器信息。</p>
<figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# docker ps -<span class="built_in">n</span> <span class="number">5</span></span><br><span class="line">CONTAINER ID        <span class="built_in">IMAGE</span>               COMMAND                   CREATED           </span><br><span class="line"><span class="number">09</span>b93464c2f7        ngi<span class="symbol">nx:la</span>test        <span class="string">&quot;nginx -g &#x27;daemon off&quot;</span>    <span class="number">2</span> <span class="built_in">days</span> ago   ...     </span><br><span class="line">b8573233d675        ngi<span class="symbol">nx:la</span>test        <span class="string">&quot;/bin/bash&quot;</span>               <span class="number">2</span> <span class="built_in">days</span> ago   ...     </span><br><span class="line">b1a0703e41e7        ngi<span class="symbol">nx:la</span>test        <span class="string">&quot;nginx -g &#x27;daemon off&quot;</span>    <span class="number">2</span> <span class="built_in">days</span> ago   ...    </span><br><span class="line">f46fb1dec520        <span class="number">5</span>c6e1090e771        <span class="string">&quot;/bin/sh -c &#x27;set -x \t&quot;</span>   <span class="number">2</span> <span class="built_in">days</span> ago   ...   </span><br><span class="line">a63b4a5597de        <span class="number">860</span>c279d2fec        <span class="string">&quot;bash&quot;</span>                    <span class="number">2</span> <span class="built_in">days</span> ago   ...</span><br></pre></td></tr></table></figure>
<p>列出所有创建的容器ID。</p>
<figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# docker ps -a -q</span><br><span class="line"><span class="number">09</span>b<span class="number">93464c2f7</span></span><br><span class="line">b8<span class="number">573233d675</span></span><br><span class="line">b1a<span class="number">0703e41e7</span></span><br><span class="line">f46fb1dec520</span><br><span class="line">a63b4a5597de</span><br><span class="line"><span class="number">6</span>a4aa42e947b</span><br><span class="line">de7bb36e7968</span><br><span class="line"><span class="number">43</span>a<span class="number">432b73776</span></span><br><span class="line"><span class="number">664</span>a8ab1a585</span><br><span class="line">ba52eb632bbd</span><br></pre></td></tr></table></figure>
<h3 id="pull"><a href="#pull" class="headerlink" title="pull"></a>pull</h3><p>Pull an image or a repository from a registry #从仓库中下载一个镜像，默认为docker hub上</p>
<p>语法：Usage:    docker pull [OPTIONS] NAME[:TAG|@DIGEST]<br>实例：从Docker Hub下载java最新版镜像。</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># docker pull java</span></span><br></pre></td></tr></table></figure>
<p>从Docker Hub下载REPOSITORY为java的所有镜像。</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># docker pull -a java</span></span><br></pre></td></tr></table></figure>
<h3 id="push"><a href="#push" class="headerlink" title="push"></a>push</h3><p>Push an image or a repository to a registry #上传镜像到仓库，默认为docker hub上，需要用户名和密码</p>
<p>语法：Usage:    docker push [OPTIONS] NAME[:TAG]<br>实例：上传本地镜像myapache:v1到镜像仓库中。<br>要先用docker login登录上，不然会报以下错误</p>
<figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># docker push myapache:v1</span></span><br><span class="line">The push refers <span class="keyword">to</span> a repository [docker.io/ivictor/centos] (len: <span class="number">1</span>)</span><br><span class="line">unauthorized: access <span class="keyword">to</span> the requested resource <span class="keyword">is</span> <span class="keyword">not</span> authorized</span><br><span class="line">[root@localhost ~]<span class="comment"># docker push myapache:v1</span></span><br></pre></td></tr></table></figure>
<h3 id="rename"><a href="#rename" class="headerlink" title="rename"></a>rename</h3><p>Rename a container #更改容器的名称</p>
<p>语法：Usage:    docker rename CONTAINER NEW_NAME</p>
<h3 id="start-stop-restart-启动、停止、重启一个容器"><a href="#start-stop-restart-启动、停止、重启一个容器" class="headerlink" title="start&#x2F;stop&#x2F;restart #启动、停止、重启一个容器"></a>start&#x2F;stop&#x2F;restart #启动、停止、重启一个容器</h3><p>语法：Usage:docker start [OPTIONS] CONTAINER [CONTAINER…]<br>     Usage:docker stop [OPTIONS] CONTAINER [CONTAINER…]<br>     Usage:docker restart [OPTIONS] CONTAINER [CONTAINER…]<br>实例：启动已被停止的容器myrunoob</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta">#docker start myrunoob</span></span><br></pre></td></tr></table></figure>
<p>停止运行中的容器myrunoob</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[root@localhost ~]</span><span class="selector-id">#docker</span> <span class="selector-tag">stop</span> <span class="selector-tag">myrunoob</span></span><br></pre></td></tr></table></figure>
<p>重启容器myrunoob</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta">#docker restart myrunoob</span></span><br></pre></td></tr></table></figure>
<h3 id="rm"><a href="#rm" class="headerlink" title="rm"></a>rm</h3><p>Remove one or more containers #删除一个或多个容器，默认只能删除非运行状态的容器，-f参数可以强制删除</p>
<p>语法：Usage:    docker rm [OPTIONS] CONTAINER [CONTAINER…]<br>实例：强制删除容器db01、db02</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># docker rm -f db01 db02</span></span><br></pre></td></tr></table></figure>
<p>移除容器nginx01对容器db01的连接，连接名db</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># docker rm -l db </span></span><br></pre></td></tr></table></figure>
<p>删除容器nginx01,并删除容器挂载的数据卷</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># docker rm -v nginx01</span></span><br></pre></td></tr></table></figure>
<h3 id="rmi"><a href="#rmi" class="headerlink" title="rmi"></a>rmi</h3><p>Remove one or more images #删除一个或多个镜像</p>
<p>Usage:    docker rmi [OPTIONS] IMAGE [IMAGE…]</p>
<h3 id="run"><a href="#run" class="headerlink" title="run"></a>run</h3><p>Run a command in a new container #启动一个容器，等同于docker create &amp;&amp; docker start命令</p>
<p>语法：Usage:    docker run [OPTIONS] IMAGE [COMMAND] [ARG…]<br>实例：使用docker镜像nginx:latest以后台模式启动一个容器,并将容器命名为mynginx。</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># docker run --name mynginx -d nginx:latest</span></span><br></pre></td></tr></table></figure>
<p>使用镜像nginx:latest以后台模式启动一个容器,并将容器的80端口映射到主机随机端口。</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta">#docker run -P -d nginx:latest</span></span><br></pre></td></tr></table></figure>
<p>使用镜像nginx:latest以后台模式启动一个容器,将容器的80端口映射到主机的80端口,主机的目录&#x2F;data映射到容器的&#x2F;data。</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#docker run -p <span class="number">80</span>:<span class="number">80</span> -v /<span class="class"><span class="keyword">data</span>:/<span class="keyword">data</span> -d nginx:latest</span></span><br></pre></td></tr></table></figure>
<p>使用镜像nginx:latest以交互模式启动一个容器,在容器内执行&#x2F;bin&#x2F;bash命令。</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="variable">@localhost</span> ~]<span class="comment"># docker run -it nginx:latest /bin/bash</span></span><br><span class="line">root<span class="variable">@b8573233d675</span><span class="symbol">:/</span><span class="comment"># </span></span><br></pre></td></tr></table></figure>
<h3 id="save"><a href="#save" class="headerlink" title="save"></a>save</h3><p>Save one or more images to a tar archive (streamed to STDOUT by default) #将指定镜像保存成 tar 归档文件</p>
<p>语法：Usage:    docker save [OPTIONS] IMAGE [IMAGE…]<br>实例：将镜像runoob&#x2F;ubuntu:v3 生成my_ubuntu_v3.tar文档</p>
<figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment">#  docker save -o my_ubuntu_v3.tar runoob/ubuntu:v3</span></span><br><span class="line">[root@localhost ~]<span class="comment">#  ll my_ubuntu_v3.tar</span></span><br><span class="line">-rw-------<span class="number"> 1 </span>runoob runoob<span class="number"> 142102016 </span>Jul<span class="number"> 11 </span>01:37 my_ubuntu_v3.ta</span><br></pre></td></tr></table></figure>
<h3 id="search"><a href="#search" class="headerlink" title="search"></a>search</h3><p>Search the Docker Hub for images #在docker hub上搜索镜像</p>
<p>语法：Usage:    docker search [OPTIONS] TERM<br>实例：从Docker Hub查找所有镜像名包含java，并且收藏数大于10的镜像</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[root@localhost ~]</span># docker search -s <span class="number">10</span> java</span><br><span class="line">NAME                  DESCRIPTION                           STARS   OFFICIAL   AUTOMATED</span><br><span class="line">java                  Java is <span class="selector-tag">a</span> concurrent, class-based...   <span class="number">1037</span>    <span class="selector-attr">[OK]</span>       </span><br><span class="line">anapsix/alpine-java   Oracle Java <span class="number">8</span> (and <span class="number">7</span>) with GLIBC ...   <span class="number">115</span>                <span class="selector-attr">[OK]</span></span><br><span class="line">develar/java                                                 <span class="number">46</span>                 <span class="selector-attr">[OK]</span></span><br><span class="line">isuper/java-oracle    This repository contains <span class="attribute">all</span> java...   <span class="number">38</span>                 <span class="selector-attr">[OK]</span></span><br><span class="line">lwieske/java-<span class="number">8</span>        Oracle Java <span class="number">8</span> <span class="attribute">Container</span> - Full + ...   <span class="number">27</span>                 <span class="selector-attr">[OK]</span></span><br><span class="line">nimmis/java-centos    This is docker images of CentOS <span class="number">7</span>...   <span class="number">13</span>                 <span class="selector-attr">[OK]</span></span><br></pre></td></tr></table></figure>
<h3 id="service"><a href="#service" class="headerlink" title="service"></a>service</h3><p>Manage Docker services #管理docker service。Docker Service是一种声明式的、可扩展的、负载均衡的应用。Docker Service是面向用户的应用</p>
<p>语法：Usage:    docker service COMMAND<br>实例：创建一个拥有5个副本的Docker Service</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># docker service create --name myService -p 8080:8080 --replicas 5 an_image</span></span><br></pre></td></tr></table></figure>
<h3 id="stats"><a href="#stats" class="headerlink" title="stats"></a>stats</h3><p>Display a live stream of container(s) resource usage statistics  #动态显示容器的资源消耗情况，包括：CPU、内存、网络I&#x2F;O</p>
<p>语法：Usage:    docker stats [OPTIONS] [CONTAINER…]<br>实例：显示ID为af93e92b036a的状态信息</p>
<figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># docker stats af93e92b036a</span></span><br><span class="line"></span><br><span class="line">CONTAINER           CPU %               MEM USAGE <span class="symbol">/</span> LIMIT       MEM %               NET I<span class="symbol">/O</span>               BLOCK I<span class="symbol">/O</span>             PIDS</span><br><span class="line">af93e92b036a        <span class="number">0.02</span>%               <span class="number">3.535</span> MiB <span class="symbol">/</span> <span class="number">1.781</span> GiB   <span class="number">0.19</span>%               <span class="number">44.24</span> kB <span class="symbol">/</span> <span class="number">42.14</span> kB   <span class="number">17.43</span> MB <span class="symbol">/</span> <span class="number">1.683</span> MB   <span class="number">6</span></span><br><span class="line"></span><br><span class="line">CONTAINER           CPU %               MEM USAGE <span class="symbol">/</span> LIMIT       MEM %               NET I<span class="symbol">/O</span>               BLOCK I<span class="symbol">/O</span>             PIDS</span><br><span class="line">af93e92b036a        <span class="number">0.02</span>%               <span class="number">3.535</span> MiB <span class="symbol">/</span> <span class="number">1.781</span> GiB   <span class="number">0.19</span>%               <span class="number">44.24</span> kB <span class="symbol">/</span> <span class="number">42.14</span> kB   <span class="number">17.43</span> MB <span class="symbol">/</span> <span class="number">1.683</span> MB   <span class="number">6</span></span><br><span class="line"></span><br><span class="line">CONTAINER           CPU %               MEM USAGE <span class="symbol">/</span> LIMIT       MEM %               NET I<span class="symbol">/O</span>               BLOCK I<span class="symbol">/O</span>             PIDS</span><br><span class="line">af93e92b036a        <span class="number">0.00</span>%               <span class="number">3.535</span> MiB <span class="symbol">/</span> <span class="number">1.781</span> GiB   <span class="number">0.19</span>%               <span class="number">44.24</span> kB <span class="symbol">/</span> <span class="number">42.14</span> kB   <span class="number">17.43</span> MB <span class="symbol">/</span> <span class="number">1.683</span> MB   <span class="number">6</span></span><br></pre></td></tr></table></figure>
<h3 id="swarm"><a href="#swarm" class="headerlink" title="swarm"></a>swarm</h3><p>Manage Docker Swarm #管理docker swarm </p>
<p>语法：Usage:    docker swarm COMMAND<br>实例：初始化swarm manager并制定网卡地址</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">swarm </span>init --advertise-<span class="keyword">addr </span><span class="number">192</span>.<span class="number">168</span>.<span class="number">10</span>.<span class="number">117</span></span><br></pre></td></tr></table></figure>
<p>强制删除集群，如果是manager，需要加–force</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker swarm leave --force</span><br><span class="line">docker <span class="keyword">node</span> <span class="title">rm</span> docker-<span class="number">118</span></span><br></pre></td></tr></table></figure>
<p>查看swarm worker的连接令牌</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">swarm </span><span class="keyword">join-token </span>worker</span><br></pre></td></tr></table></figure>
<p>查看swarm manager的连接令牌</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">swarm </span><span class="keyword">join-token </span>manager</span><br></pre></td></tr></table></figure>
<p>使旧令牌无效并生成新令牌</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker swarm join-<span class="keyword">token</span> <span class="comment">--rotate</span></span><br></pre></td></tr></table></figure>
<p>加入docker swarm集群</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker</span> swarm join --token SWMTKN-<span class="number">1</span>-<span class="number">5</span>d2ipwo8jqdsiesv6ixze20w2toclys76gyu4zdoiaf038voxj-<span class="number">8</span>sbxe79rx5qt14ol14gxxa3wf <span class="number">192.168.10.117:2377</span></span><br></pre></td></tr></table></figure>
<p>查看集群中的节点</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">node</span> <span class="title">ls</span></span><br></pre></td></tr></table></figure>
<p>查看集群中节点信息</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">node</span> <span class="title">inspect</span> docker-<span class="number">117</span> --pretty</span><br></pre></td></tr></table></figure>
<p>调度程序可以将任务分配给节点</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">node</span> <span class="title">update</span> --availability active docker-<span class="number">118</span></span><br></pre></td></tr></table></figure>
<p>调度程序不向节点分配新任务，但是现有任务仍然保持运行</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">node</span> <span class="title">update</span> --availability pause docker-<span class="number">118</span></span><br></pre></td></tr></table></figure>
<p>调度程序不会将新任务分配给节点。调度程序关闭任何现有任务并在可用节点上安排它们</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">node</span> <span class="title">update</span> --availability drain docker-<span class="number">118</span></span><br></pre></td></tr></table></figure>
<p>添加节点标签</p>
<figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker node update --<span class="type">label</span>-<span class="keyword">add</span> <span class="type">label</span><span class="number">1</span> --<span class="type">label</span>-<span class="keyword">add</span> bar<span class="operator">=</span><span class="type">label</span><span class="number">2</span> docker<span class="number">-117</span></span><br></pre></td></tr></table></figure>
<p>删除节点标签</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">node</span> <span class="title">update</span> --label-rm label1 docker-<span class="number">117</span></span><br></pre></td></tr></table></figure>
<p>将节点升级为manager</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">node</span> <span class="title">promote</span> docker-<span class="number">118</span></span><br></pre></td></tr></table></figure>
<p>将节点降级为worker</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">node</span> <span class="title">demote</span> docker-<span class="number">118</span></span><br></pre></td></tr></table></figure>
<p>查看服务列表</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service <span class="built_in">ls</span></span><br></pre></td></tr></table></figure>
<p>查看服务的具体信息</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker service ps redis</span></span><br></pre></td></tr></table></figure>
<p>创建一个不定义name，不定义replicas的服务</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker service create nginx</span></span><br></pre></td></tr></table></figure>
<p>创建一个指定name的服务</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service <span class="built_in">create</span> <span class="comment">--name my_web nginx</span></span><br></pre></td></tr></table></figure>
<p>创建一个指定name、run cmd的服务</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service <span class="built_in">create</span> <span class="comment">--name helloworld alping ping docker.com</span></span><br></pre></td></tr></table></figure>
<p>创建一个指定name、version、run cmd的服务</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker</span> service create --name helloworld alping:<span class="number">3</span>.<span class="number">6</span> ping docker.com</span><br></pre></td></tr></table></figure>
<p>创建一个指定name、port、replicas的服务</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker</span> service create --name my_web --replicas <span class="number">3</span> -p <span class="number">80</span>:<span class="number">80</span> nginx</span><br></pre></td></tr></table></figure>
<p>为指定的服务更新一个端口</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>update --publish-<span class="built_in">add</span> 80:80 my_web</span><br></pre></td></tr></table></figure>
<p>为指定的服务删除一个端口</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker</span> service update --publish-rm <span class="number">80</span>:<span class="number">80</span> my_web</span><br></pre></td></tr></table></figure>
<p>将redis:3.0.6更新至redis:3.0.7</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker</span> service update --image redis:<span class="number">3</span>.<span class="number">0</span>.<span class="number">7</span> redis</span><br></pre></td></tr></table></figure>
<p>配置运行环境，指定工作目录及环境变量</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service create <span class="params">--name</span> helloworld <span class="params">--env</span> MYVAR=myvalue <span class="params">--workdir</span> <span class="string">/tmp</span> <span class="params">--user</span> my_user alping ping docker.com</span><br></pre></td></tr></table></figure>
<p>创建一个helloworld的服务</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service <span class="built_in">create</span> <span class="comment">--name helloworld alpine ping docker.com</span></span><br></pre></td></tr></table></figure>
<p>更新helloworld服务的运行命令</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service <span class="keyword">update</span> --<span class="keyword">args</span> “ping www.baidu.<span class="keyword">com</span>” helloworld</span><br></pre></td></tr></table></figure>
<p>删除一个服务</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service <span class="built_in">rm</span> my_web</span><br></pre></td></tr></table></figure>
<p>在每个群组节点上运行web服务</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service create --name tomcat --<span class="keyword">mode</span> <span class="keyword">global</span> --publish <span class="keyword">mode</span>=host,target=<span class="number">8080</span>,published=<span class="number">8080</span> tomca<span class="variable">t:latest</span></span><br></pre></td></tr></table></figure>
<p>创建一个overlay网络</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker network create <span class="attr">--driver</span> <span class="attribute">overlay</span> my_network</span><br><span class="line">docker network create <span class="attr">--driver</span> <span class="attribute">overlay</span> <span class="attr">--subnet</span> <span class="number">10.10</span>.<span class="number">10.0</span>/<span class="number">24</span> <span class="attr">--gateway</span> <span class="number">10.10</span>.<span class="number">10.1</span> my-network</span><br></pre></td></tr></table></figure>
<p>创建服务并将网络添加至该服务</p>
<figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">docker service create</span> <span class="literal">--</span><span class="comment">name test</span> <span class="literal">--</span><span class="comment">replicas 3</span> <span class="literal">--</span><span class="comment">network my</span><span class="literal">-</span><span class="comment">network redis</span></span><br></pre></td></tr></table></figure>
<p>删除群组网络</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service <span class="keyword">update</span> --network-<span class="keyword">rm</span> my-network <span class="keyword">test</span></span><br></pre></td></tr></table></figure>
<p>更新群组网络</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>update --network-<span class="built_in">add</span> my_network test</span><br></pre></td></tr></table></figure>
<p>创建群组并配置cpu和内存</p>
<figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">docker service create</span> <span class="literal">--</span><span class="comment">name my_nginx</span> <span class="literal">--</span><span class="comment">reserve</span><span class="literal">-</span><span class="comment">cpu 2</span> <span class="literal">--</span><span class="comment">reserve</span><span class="literal">-</span><span class="comment">memory 512m</span> <span class="literal">--</span><span class="comment">replicas 3 nginx</span></span><br></pre></td></tr></table></figure>
<p>更改所分配的cpu和内存</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker</span> service update --reserve-cpu <span class="number">1</span> --reserve-memory <span class="number">256</span>m my_nginx</span><br></pre></td></tr></table></figure>
<p>指定每次更新的容器数量</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--update-parallelism</span></span><br></pre></td></tr></table></figure>
<p>指定容器更新的间隔</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--update-delay</span></span><br></pre></td></tr></table></figure>
<p>定义容器启动后监控失败的持续时间</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--update-monitor </span></span><br></pre></td></tr></table></figure>
<p>定义容器失败的百分比</p>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--<span class="keyword">update</span>-<span class="built_in">max</span>-failure-ratio</span><br></pre></td></tr></table></figure>
<p>定义容器启动失败之后所执行的动作</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--update-failure-action</span></span><br></pre></td></tr></table></figure>
<p>创建一个服务并运行3个副本，同步延迟10秒，10%任务失败则暂停</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker</span> service create --name mysql_5_6_36 --replicas <span class="number">3</span> --update-delay <span class="number">10</span>s --update-parallelism <span class="number">1</span> --update-monitor <span class="number">30</span>s --update-failure-action pause --update-max-failure-ratio <span class="number">0</span>.<span class="number">1</span> -e MYSQL_ROOT_PASSWORD=<span class="number">123456</span> mysql:<span class="number">5</span>.<span class="number">6</span>.<span class="number">36</span></span><br></pre></td></tr></table></figure>
<p>回滚至之前版本</p>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service <span class="keyword">update</span> --<span class="keyword">rollback</span> mysql</span><br></pre></td></tr></table></figure>
<p>自动回滚<br>如果服务部署失败，则每次回滚2个任务，监控20秒，回滚可接受失败率20%</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service create <span class="params">--name</span> redis <span class="params">--replicas</span> 6 <span class="params">--rollback-parallelism</span> 2 <span class="params">--rollback-monitor</span> 20s <span class="params">--rollback-max-failure-ratio</span> <span class="string">.2</span> redis<span class="function">:latest</span></span><br></pre></td></tr></table></figure>
<p>创建服务并将目录挂在至container中</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker</span> service create --name mysql --publish <span class="number">3306</span>:<span class="number">3306</span> --mount type=bind,src=/data/mysql,dst=/var/lib/mysql --replicas <span class="number">3</span> -e MYSQL_ROOT_PASSWORD=<span class="number">123456</span> mysql:<span class="number">5</span>.<span class="number">6</span>.<span class="number">36</span></span><br></pre></td></tr></table></figure>
<p>Bind带来的风险 </p>
<ol>
<li>绑定的主机路径必须存在于每个集群节点上，否则会有问题 </li>
<li>调度程序可能会在任何时候重新安排运行服务容器，如果目标节点主机变得不健康或无法访问 </li>
<li>主机绑定数据不可移植，当你绑定安装时，不能保证你的应用程序开发方式与生产中的运行方式相同</li>
</ol>
<p>添加swarm配置</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo <span class="string">&quot;this is a mysql config&quot;</span> | docker <span class="built_in">config</span> <span class="built_in">create</span> mysql -</span><br></pre></td></tr></table></figure>
<p>查看配置</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker config ls</span><br></pre></td></tr></table></figure>
<p>查看配置详细信息</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">config</span> <span class="keyword">inspect </span>mysql</span><br></pre></td></tr></table></figure>
<p>删除配置</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker config rm mysql</span><br></pre></td></tr></table></figure>
<p>添加配置</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker<span class="built_in"> service </span>update --config-<span class="built_in">add</span> mysql mysql</span><br></pre></td></tr></table></figure>
<p>删除配置</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service <span class="keyword">update</span> <span class="comment">--config-rm mysql mysql</span></span><br></pre></td></tr></table></figure>
<p>添加配置</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">config</span> <span class="built_in">create</span> homepage index.html</span><br></pre></td></tr></table></figure>
<p>启动容器的同时添加配置</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service create <span class="params">--name</span> nginx <span class="params">--publish</span> 80<span class="function">:80</span> <span class="params">--replicas</span> 3 <span class="params">--config</span> src=homepage,target=<span class="string">/usr/share/nginx/html/index.html</span> nginx</span><br></pre></td></tr></table></figure>
<h3 id="tag"><a href="#tag" class="headerlink" title="tag"></a>tag</h3><p>Tag an image into a repository #标记本地镜像，将其归入某一个仓库</p>
<p>语法：Usage:    docker tag IMAGE[:TAG] IMAGE[:TAG]<br>实例：将镜像ubuntu:15.10标记为 runoob&#x2F;ubuntu:v3 镜像。</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># docker tag ubuntu:15.10 runoob/ubuntu:v3</span></span><br><span class="line">[root@localhost ~]<span class="comment">#  docker images   runoob/ubuntu:v3</span></span><br><span class="line">REPOSITORY          <span class="keyword">TAG</span>                 <span class="title">IMAGE</span> ID            CREATED             SIZE</span><br><span class="line">runoob/ubuntu       v3                  <span class="number">4</span>e3b13c8a266        <span class="number">3</span> months ago        <span class="number">136.3</span> MB</span><br></pre></td></tr></table></figure>
<h3 id="top"><a href="#top" class="headerlink" title="top"></a>top</h3><p>Display the running processes of a container #查看容器中运行的进程信息，支持 ps 命令参数</p>
<p>语法：Usage:    docker top CONTAINER [ps OPTIONS]<br>实例：查看容器mymysql的进程信息。</p>
<figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># docker top mymysql</span></span><br><span class="line">UID    PID    PPID    C      STIME   TTY  TIME       CMD</span><br><span class="line">999   <span class="number"> 40347 </span><span class="number"> 40331 </span> <span class="number"> 18 </span>    00:58   ?    00:00:02   mysqld</span><br></pre></td></tr></table></figure>
<p>查看所有运行容器的进程信息。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#<span class="keyword">for</span> i <span class="keyword">in</span>  `docker ps |grep Up|awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span>`;<span class="keyword">do</span> <span class="built_in">echo</span> \ &amp;&amp;docker top <span class="variable">$i</span>; <span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<h3 id="unpause"><a href="#unpause" class="headerlink" title="unpause"></a>unpause</h3><p>Unpause all processes within one or more containers #恢复容器内暂停的进程</p>
<p>语法：Usage:    docker unpause CONTAINER [CONTAINER…]<br>实例：恢复数据库容器db01提供服务。</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta">#docker unpause db01</span></span><br></pre></td></tr></table></figure>
<h3 id="update"><a href="#update" class="headerlink" title="update"></a>update</h3><p>Update configuration of one or more containers #动态的更新一个或多个容器的配置</p>
<p>语法：Usage:    docker update CONTAINER [CONTAINER…]<br>实例：更新一个容器为cpu-shares&#x3D;512</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="variable">@localhost</span> <span class="operator">~</span>]# docker <span class="keyword">update</span> <span class="comment">--cpu-shares 512 abebf7571666</span></span><br></pre></td></tr></table></figure>
<p>更新容器的cpu-shares和memory</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="variable">@localhost</span> <span class="operator">~</span>]# docker <span class="keyword">update</span> <span class="comment">--cpu-shares 512 -m 300M abebf7571666 hopeful_morse</span></span><br></pre></td></tr></table></figure>
<p>更新容器restart策略</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="variable">@localhost</span> <span class="operator">~</span>]#docker <span class="keyword">update</span> <span class="comment">--restart=on-failure:3 abebf7571666 hopeful_morse</span></span><br></pre></td></tr></table></figure>
<h3 id="version"><a href="#version" class="headerlink" title="version"></a>version</h3><p>Show the Docker version information #显示docker的版本信息</p>
<p>语法：Usage:    docker version [OPTIONS]<br>实例：显示本机docker 版本信息</p>
<figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># docker version</span></span><br><span class="line"><span class="params">Client:</span></span><br><span class="line"> <span class="params">Version:</span>         <span class="number">1.12</span>.<span class="number">6</span></span><br><span class="line"> API <span class="params">version:</span>     <span class="number">1.24</span></span><br><span class="line"> Package <span class="params">version:</span> docker-<span class="number">1.12</span>.<span class="number">6</span><span class="operator">-</span><span class="number">61</span>.git85d7426.el7.centos.x86_64</span><br><span class="line"> Go <span class="params">version:</span>      go1.<span class="number">8.3</span></span><br><span class="line"> Git <span class="params">commit:</span>      <span class="number">85</span>d7426<span class="symbol">/1.12.6</span></span><br><span class="line"> <span class="params">Built:</span>           Tue Oct <span class="number">24</span> <span class="number">15</span>:<span class="number">40</span>:<span class="number">21</span> <span class="number">2017</span></span><br><span class="line"> OS<span class="operator">/</span><span class="params">Arch:</span>         linux<span class="symbol">/amd64</span></span><br><span class="line"></span><br><span class="line"><span class="params">Server:</span></span><br><span class="line"> <span class="params">Version:</span>         <span class="number">1.12</span>.<span class="number">6</span></span><br><span class="line"> API <span class="params">version:</span>     <span class="number">1.24</span></span><br><span class="line"> Package <span class="params">version:</span> docker-<span class="number">1.12</span>.<span class="number">6</span><span class="operator">-</span><span class="number">61</span>.git85d7426.el7.centos.x86_64</span><br><span class="line"> Go <span class="params">version:</span>      go1.<span class="number">8.3</span></span><br><span class="line"> Git <span class="params">commit:</span>      <span class="number">85</span>d7426<span class="symbol">/1.12.6</span></span><br><span class="line"> <span class="params">Built:</span>           Tue Oct <span class="number">24</span> <span class="number">15</span>:<span class="number">40</span>:<span class="number">21</span> <span class="number">2017</span></span><br><span class="line"> OS<span class="operator">/</span><span class="params">Arch:</span>         linux<span class="operator">/</span>amd64</span><br></pre></td></tr></table></figure>
<h3 id="volume"><a href="#volume" class="headerlink" title="volume"></a>volume</h3><p>Manage Docker volumes #管理docker数据卷</p>
<p>语法：Usage:    docker volume COMMAND<br>实例：启动一个Volume_Container容器，包含两个数据卷</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[root@localhost ~]</span># docker run -v /<span class="selector-tag">var</span>/volume1 -v /<span class="selector-tag">var</span>/volume2 -name Volume_Container ubuntu14.<span class="number">04</span> linux_command</span><br></pre></td></tr></table></figure>
<p>创建App_Container容器，挂载Volume_Container容器中的数据卷</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[root@localhost ~]</span># docker run -t -<span class="selector-tag">i</span> -rm -volumes-<span class="selector-tag">from</span> Volume_Container -name App_Container ubuntu14.<span class="number">04</span> linux_command</span><br></pre></td></tr></table></figure>
<p>或者再创建一个容器，挂载App_Container中从[root@localhost ~]# Volume_Container挂载的数据卷</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">run</span> -t -i -rm -volumes-<span class="keyword">from</span> App_Container -<span class="built_in">name</span> LastApp_Container ubuntu14<span class="number">.04</span> linux_command</span><br></pre></td></tr></table></figure>
<h3 id="wait"><a href="#wait" class="headerlink" title="wait"></a>wait</h3><p>Block until a container stops, then print its exit code #捕捉容器停止时的退出码,执行此命令后，该命令会“hang”在当前终端，直到容器停止，此时，会打印出容器的退出码。</p>
<p>语法：Usage:    docker wait CONTAINER [CONTAINER…]</p>

    </div>
    
    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="/" target="_blank">Ljjyy.com</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/archives/2018/10/100055.html" class="pre-post btn btn-default" title='kubernetes命令大全详解'>
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs">kubernetes命令大全详解</span>
        </a>
    
    
        <a href="/archives/2018/10/100053.html" class="next-post btn btn-default" title='Linux常用命令大全'>
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs">Linux常用命令大全</span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>


    <div id="comments">
        
	
    <div id="vcomments" class="valine"></div>
    
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="/assets/valine.min.js"></script>


    <script>
        new Valine({
            av: AV,
            el: '#vcomments',
            appId: '5MzTXYXkt03k101j0PmSDN34-gzGzoHsz',
            appKey: 'iwjYgwno6qj3wtDVVSbe8nYQ',
            placeholder: '说点什么吧',
            notify: false,
            verify: true,
            avatar: 'mm',
            meta: 'nick,mail'.split(','),
            pageSize: '10',
            path: window.location.pathname,
            lang: 'zh-CN'.toLowerCase()
        })
    </script>


    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">文章目录</h3>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#docker%E5%91%BD%E4%BB%A4%E6%9C%89%E5%BE%88%E5%A4%9A%EF%BC%8C%E6%80%BB%E7%9A%84%E5%88%86%E4%B8%BA%E4%BB%A5%E4%B8%8B%E5%87%A0%E5%A4%A7%E7%B1%BB%EF%BC%9A"><span class="toc-text">docker命令有很多，总的分为以下几大类：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#docker-%E2%80%93help"><span class="toc-text">docker –help</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E9%9D%A2%E6%98%AF%E5%91%BD%E4%BB%A4%E7%9A%84%E7%94%A8%E6%B3%95%E5%92%8C%E7%AE%80%E5%8D%95%E5%AE%9E%E4%BE%8B%EF%BC%9A"><span class="toc-text">下面是命令的用法和简单实例：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#attach"><span class="toc-text">attach</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#build"><span class="toc-text">build</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#commit"><span class="toc-text">commit</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cp"><span class="toc-text">cp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#create"><span class="toc-text">create</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#diff"><span class="toc-text">diff</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#events"><span class="toc-text">events</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exec"><span class="toc-text">exec</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#export"><span class="toc-text">export</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#history"><span class="toc-text">history</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#images"><span class="toc-text">images</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#import"><span class="toc-text">import</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#info"><span class="toc-text">info</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#inspect"><span class="toc-text">inspect</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#kill"><span class="toc-text">kill</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#load"><span class="toc-text">load</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#login"><span class="toc-text">login</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#logout"><span class="toc-text">logout</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#logs"><span class="toc-text">logs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#network"><span class="toc-text">network</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#node"><span class="toc-text">node</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pause"><span class="toc-text">pause</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#port"><span class="toc-text">port</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ps"><span class="toc-text">ps</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pull"><span class="toc-text">pull</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#push"><span class="toc-text">push</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rename"><span class="toc-text">rename</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#start-stop-restart-%E5%90%AF%E5%8A%A8%E3%80%81%E5%81%9C%E6%AD%A2%E3%80%81%E9%87%8D%E5%90%AF%E4%B8%80%E4%B8%AA%E5%AE%B9%E5%99%A8"><span class="toc-text">start&#x2F;stop&#x2F;restart #启动、停止、重启一个容器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rm"><span class="toc-text">rm</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rmi"><span class="toc-text">rmi</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#run"><span class="toc-text">run</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#save"><span class="toc-text">save</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#search"><span class="toc-text">search</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#service"><span class="toc-text">service</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#stats"><span class="toc-text">stats</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#swarm"><span class="toc-text">swarm</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tag"><span class="toc-text">tag</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#top"><span class="toc-text">top</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#unpause"><span class="toc-text">unpause</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#update"><span class="toc-text">update</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#version"><span class="toc-text">version</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#volume"><span class="toc-text">volume</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#wait"><span class="toc-text">wait</span></a></li></ol></li></ol>
        
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
</div>

            </div>
            <div class="col-sm-12">
                <span>Copyright &copy; 2019-2025&emsp;<a href="/" class="copyright-links" target="_blank" rel="nofollow">Ljjyy.com</a>
                </span> |
                <span>
                    <a href="/about/" class="copyright-links" target="_blank" rel="nofollow">关于我们</a>
                </span> |                
                <span>
                    <a href="/sitemap.xml" class="copyright-links" target="_blank" rel="nofollow">网站地图</a>
                </span> |
                <span>
                    <a href="/archives/" class="copyright-links" target="_blank" rel="nofollow">时间轴</a>
                </span>              
            </div>
        </div>
    </div>
</div>








<script src="/js/app.js?rev=@@hash.js"></script>


</body>
</html>
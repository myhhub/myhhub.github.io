<!DOCTYPE HTML>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <meta name="theme-version" content="1.2.3">
    <meta name="root" content="/">
    <link rel="dns-prefetch" href="https://www.ljjyy.com">
    <!--SEO-->

    <meta name="keywords" content="shell,linux,命令">


    <meta name="description" content="1. Shell是什么Shell是用户与内核进行交互操作的一种接口，目前最流行的Shell成为bash Shell。Shell同时也是一门编程语言&lt;解释型的编程语言&gt;，即shell脚...">



<meta name="robots" content="all">
<meta name="google" content="all">
<meta name="googlebot" content="all">
<meta name="verify" content="all">

    <!--Title-->


<title>Linux Shell脚本编程 | 来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟</title>


    <link rel="alternate" href="/atom.xml" title="来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟" type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    



<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    
	<div class="hide">
        <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
        <script>LA.init({id: "JgbNOaw1xxsmUUsQ",ck: "JgbNOaw1xxsmUUsQ"})</script>
	</div>






    
    <meta name="baidu-site-verification" content="dTHILoORpx">


    <script>
        (function(){
            var bp = document.createElement('script');
            var curProtocol = window.location.protocol.split(':')[0];
            if (curProtocol === 'https') {
                bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
            }
            else {
                bp.src = 'http://push.zhanzhang.baidu.com/push.js';
            }
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(bp, s);
        })();
    </script>

</head>

</html>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header"  >
    <div class="main-header-box">
        <!--a class="header-avatar" href="/" title='Ljjyy.com'>
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a-->
        <div class="branding">
            
                <h2> 多读书多实践，勤思考善领悟 </h2>
            
    	  </div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">

        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="web-logo"  href="/" title='Ljjyy.com'></a>
                    <!--a class="navbar-brand" href="https://www.ljjyy.com">来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟</a-->
                </div>
                <div class="collapse navbar-collapse" id="main-menu" style="">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>首页</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/cloud/"><i class="fa "></i>云计算</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/front/"><i class="fa "></i>前端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/back/"><i class="fa "></i>后端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/devops/"><i class="fa "></i>运维</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/crack/"><i class="fa "></i>破解</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/penetration/"><i class="fa "></i>渗透</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/tool/"><i class="fa "></i>工具</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/other/"><i class="fa "></i>其他</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="Linux Shell脚本编程">
            
	            Linux Shell脚本编程
            
        </h1>
        <div class="post-meta">
    
        <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
            <a class="category-link" href="/categories/devops/">运维</a>
        </span>
    

    
        <span class="fa-wrap">
            <i class="fa fa-tags"></i>
            <span class="tags-meta">
                
                    <a class="tag-link" href="/tags/linux/">linux</a> <a class="tag-link" href="/tags/shell/">shell</a> <a class="tag-link" href="/tags/command/">命令</a>
                
            </span>
        </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2018/11/17</span>
        </span>
        
    
</div>
            
            
            <p class="fa fa-exclamation-triangle warning">
                本文于<strong>1613</strong>天之前发表，文中内容可能已经过时。
            </p>
        
    </div>
    
    <div class="post-body post-content">
        <h2 id="1-Shell是什么"><a href="#1-Shell是什么" class="headerlink" title="1. Shell是什么"></a>1. Shell是什么</h2><p>Shell是用户与内核进行交互操作的一种接口，目前最流行的Shell成为bash Shell。Shell同时也是一门编程语言&lt;解释型的编程语言&gt;，即shell脚本。一个系统可以存在多个shell，可以通过cat /etc/shells命令查看系统中安装的shell，不同的shell可能支持的命令语法是不相同的。</p>
<h3 id="1-1-第一个shell脚本"><a href="#1-1-第一个shell脚本" class="headerlink" title="1.1 第一个shell脚本"></a>1.1 第一个shell脚本</h3><p>创建一个文件test.sh，扩展名为sh，即为一个shell脚本。shell脚本的第一行一般为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"Hello World!"</span></span><br></pre></td></tr></table></figure>
<p> 解析：#! 是一个约定的标记，它告诉系统这个脚本需要什么解释器来执行，即使用哪一种Shell</p>
<p>​            echo 命令用于向窗口输出文本</p>
<h3 id="1-2-运行Shell脚本的两种方式"><a href="#1-2-运行Shell脚本的两种方式" class="headerlink" title="1.2 运行Shell脚本的两种方式"></a>1.2 运行Shell脚本的两种方式</h3><p>① 首先赋予+x权限，然后输入脚本的绝对路径或相对路径</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chmod +x ./<span class="keyword">test</span>.sh       <span class="comment">#使脚本具有执行权限</span></span><br><span class="line">./<span class="keyword">test</span>.sh                <span class="comment">#相对路径执行脚本</span></span><br><span class="line">/root/<span class="keyword">test</span>.sh            <span class="comment">#绝对路径执行脚本</span></span><br></pre></td></tr></table></figure>
<p>② bash或sh + 脚本，不需要赋予x执行权限</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bash /root/helloworld.<span class="keyword">sh</span></span><br><span class="line"><span class="keyword">sh</span> helloworld.<span class="keyword">sh</span></span><br></pre></td></tr></table></figure>
<h2 id="2-Shell中的变量"><a href="#2-Shell中的变量" class="headerlink" title="2. Shell中的变量"></a>2. Shell中的变量</h2><h3 id="2-1-Shell变量的类型"><a href="#2-1-Shell变量的类型" class="headerlink" title="2.1 Shell变量的类型"></a>2.1 Shell变量的类型</h3><p>Linux Shell中的变量分为“系统变量”和“用户自定义变量”。系统变量一般包括$HOME，$PWD，$SHELL，$USER等等。通过set命令可以查看当前shell中所有变量，包括系统变量和用户自定义变量。</p>
<h3 id="2-2-变量的定义与撤销"><a href="#2-2-变量的定义与撤销" class="headerlink" title="2.2 变量的定义与撤销"></a>2.2 变量的定义与撤销</h3><h4 id="定义普通变量"><a href="#定义普通变量" class="headerlink" title="定义普通变量"></a>定义普通变量</h4><p>语法：变量=值，如</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">STR</span>=<span class="string">"adb"</span></span><br></pre></td></tr></table></figure>
<p>注意：定义变量时，变量名不加$符号。等号两侧不能有空格。双引号和单引号有区别，单引号里的任何字符都会原样输出，单引号字符串中的变量是无效的，转义字符也无效，而双引号可以有变量和转义字符。</p>
<h4 id="定义静态变量"><a href="#定义静态变量" class="headerlink" title="定义静态变量"></a>定义静态变量</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readonly <span class="attribute">B</span>=2</span><br></pre></td></tr></table></figure>
<p>声明静态的变量B=2，不能使用unset撤销静态变量</p>
<h4 id="撤销变量A"><a href="#撤销变量A" class="headerlink" title="撤销变量A"></a>撤销变量A</h4><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">A</span>=<span class="number">9</span></span><br><span class="line">unset <span class="keyword">A</span></span><br></pre></td></tr></table></figure>
<h4 id="全局变量设置"><a href="#全局变量设置" class="headerlink" title="全局变量设置"></a>全局变量设置</h4><p>export 变量名 可把变量提升为全局环境变量，可供其他shell程序使用</p>
<h4 id="将命令的返回值赋给变量"><a href="#将命令的返回值赋给变量" class="headerlink" title="将命令的返回值赋给变量"></a>将命令的返回值赋给变量</h4><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A=`ls -la`</span><br><span class="line">A=<span class="variable">$(ls -la)</span></span><br></pre></td></tr></table></figure>
<p>A=<code>ls -la</code>反引号，运行里面的命令，并把结果返回给变量A。<br>A=$(ls -la)等价于反引号</p>
<h3 id="2-3-Shell中的特殊变量"><a href="#2-3-Shell中的特殊变量" class="headerlink" title="2.3 Shell中的特殊变量"></a>2.3 Shell中的特殊变量</h3><p>$? 表示上一个命令退出的状态<br>$$ 表示当前进程的编号<br>$0 表示当前脚本名称<br>$n 表示n位置的输入参数（n代表数字，n&gt;=1）<br>$# 表示参数的个数，常用于循环<br>$*和$@ 都表示参数列表</p>
<p>注意：$<em>与$@区别<br>① $</em>和$@都表示传递给函数或脚本的所有参数，不被双引号””包含时，都以$1 $2 … $n的形式输出所有参数<br>② 当它们被双引号””包含时，”$*”会将所有的参数作为一个整体，以”$1 $2 … $n”的形式输出所有参数；”$@”会将各个参数分开，以”$1” “$2” … “$n”的形式输出所有参数。</p>
<h2 id="3-Shell运算符"><a href="#3-Shell运算符" class="headerlink" title="3. Shell运算符"></a>3. Shell运算符</h2><p>Shell支持多种运算符，包括：</p>
<p>算数运算符、关系运算符、布尔运算符、逻辑运算符、字符串运算符、文件测试运算符</p>
<h3 id="3-1-与数值有关的运算符：算数运算符和关系运算符"><a href="#3-1-与数值有关的运算符：算数运算符和关系运算符" class="headerlink" title="3.1 与数值有关的运算符：算数运算符和关系运算符"></a>3.1 与数值有关的运算符：算数运算符和关系运算符</h3><h4 id="算数运算符"><a href="#算数运算符" class="headerlink" title="算数运算符"></a>算数运算符</h4><p>算数运算符有：</p>
<table>
<thead>
<tr>
<th>+</th>
<th>-</th>
<th>*</th>
<th>/</th>
<th>%</th>
<th>=</th>
<th>==</th>
<th>!=</th>
</tr>
</thead>
<tbody>
<tr>
<td>加</td>
<td>减</td>
<td>乘</td>
<td>除</td>
<td>取余</td>
<td>赋值</td>
<td>相等</td>
<td>不相等</td>
</tr>
</tbody>
</table>
<p>(+ - * / %)使用格式：expr m + n 或 $((m+n))   </p>
<p>注意：原生bash不支持简单的数学运算，但是可以通过其他命令来实现，例如awk和expr，expr最常用。expr是一款表达式计算工具，使用它能完成表达式的求值操作。expr运算符间要有空格。(== !=) 条件表达式要放在方括号之间，并且要有空格。</p>
<p>运算符实例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"> </span><br><span class="line">val=`expr 2 + 2`</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"两数之和为："</span><span class="variable">$val</span></span><br><span class="line">val2=$((2+2))</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"两数之和为："</span><span class="variable">$val2</span></span><br><span class="line"> </span><br><span class="line">expr `expr 2 + 3`\*4</span><br><span class="line"><span class="built_in">echo</span> `expr \`expr 2 + 3\`\*4`</span><br><span class="line"><span class="comment">#或</span></span><br><span class="line"><span class="built_in">echo</span> $(((2+3)*4))</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> [ 10 == 10 ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"相等"</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<p>注意：乘号(*)、反引号(`)必须加反斜杠()实现转义</p>
<h4 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h4><p>关系运算符有</p>
<table>
<thead>
<tr>
<th>-eq</th>
<th>-ne</th>
<th>-gt</th>
<th>-lt</th>
<th>-ge</th>
<th>-le</th>
</tr>
</thead>
<tbody>
<tr>
<td>相等判断</td>
<td>不相等判断</td>
<td>大于判断</td>
<td>小于判断</td>
<td>大于等于判断</td>
<td>小于等于判断</td>
</tr>
</tbody>
</table>
<p>关系运算符使用格式： [ $a -eq $b ]</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"> </span><br><span class="line">a=10</span><br><span class="line">b=20</span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$a</span> -eq <span class="variable">$b</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">     <span class="built_in">echo</span> <span class="string">"a等于b"</span></span><br><span class="line"><span class="keyword">elif</span> [ <span class="variable">$a</span> -gt <span class="variable">$b</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">     <span class="built_in">echo</span> <span class="string">"a大于b"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">     <span class="built_in">echo</span> <span class="string">"a不大于b"</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h3 id="3-2-布尔运算符与逻辑运算符"><a href="#3-2-布尔运算符与逻辑运算符" class="headerlink" title="3.2 布尔运算符与逻辑运算符"></a>3.2 布尔运算符与逻辑运算符</h3><h4 id="布尔运算符"><a href="#布尔运算符" class="headerlink" title="布尔运算符"></a>布尔运算符</h4><table>
<thead>
<tr>
<th>！</th>
<th>-o</th>
<th>-a</th>
</tr>
</thead>
<tbody>
<tr>
<td>非运算</td>
<td>或运算</td>
<td>与运算</td>
</tr>
</tbody>
</table>
<p>实例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"> </span><br><span class="line">a=10</span><br><span class="line">b=20</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$a</span> != &amp;b ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"a不等于b"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$a</span> -lt 100 -a &amp;b -gt 15 ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"a小于100且b大于15"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$a</span> -lt 100 -o &amp;b -gt 15 ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"a小于100或b大于15"</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h4 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h4><table>
<thead>
<tr>
<th>&amp;&amp;</th>
<th>\</th>
<th>\</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>逻辑的AND</td>
<td>逻辑的OR</td>
</tr>
</tbody>
</table>
<p>实例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"> </span><br><span class="line">a=10</span><br><span class="line">b=20</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$a</span> -lt 100 &amp;&amp; <span class="variable">$b</span> -gt 100 ]]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"返回 true"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$a</span> -lt 100 || <span class="variable">$b</span> -gt 100 ]]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"返回 true"</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<p>注意：感觉布尔运算符与逻辑运算符除了字符表示不一样，意思是一样的</p>
<h3 id="3-3-字符串运算符"><a href="#3-3-字符串运算符" class="headerlink" title="3.3 字符串运算符"></a>3.3 字符串运算符</h3><table>
<thead>
<tr>
<th>=</th>
<th>!=</th>
<th>-z</th>
<th>-n</th>
<th>str</th>
</tr>
</thead>
<tbody>
<tr>
<td>检测相等</td>
<td>检测不相等</td>
<td>检测字符串长度为0</td>
<td>检测字符串长度不为0</td>
<td>检测字符串为空</td>
</tr>
</tbody>
</table>
<p>实例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"> </span><br><span class="line">a=<span class="string">"abc"</span></span><br><span class="line">b=<span class="string">"efg"</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$a</span> = <span class="variable">$b</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"a等于b"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> [ -z &amp;a ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"a长度为0"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> [ &amp;a ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"字符串不为空"</span></span><br></pre></td></tr></table></figure>
<h3 id="3-4-文件测试运算符"><a href="#3-4-文件测试运算符" class="headerlink" title="3.4 文件测试运算符"></a>3.4 文件测试运算符</h3><table>
<thead>
<tr>
<th>-r file</th>
<th>-w file</th>
<th>-x file</th>
<th>-f file</th>
<th>-s file</th>
<th>-d file</th>
<th>-b file</th>
<th>-L file</th>
</tr>
</thead>
<tbody>
<tr>
<td>有读的权限</td>
<td>有写的权限</td>
<td>有执行的权限</td>
<td>文件存在并且是一个常规的文件</td>
<td>文件存在且不为空</td>
<td>文件存在并且是一个目录</td>
<td>文件存在并且是一个块设备</td>
<td>文件存在并且是一个链接</td>
</tr>
</tbody>
</table>
<p> 实例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"> </span><br><span class="line">file=<span class="string">"/var/test.sh"</span></span><br><span class="line"><span class="keyword">if</span> [ -r <span class="variable">$file</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"文件可读"</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="4-Shell流程控制"><a href="#4-Shell流程控制" class="headerlink" title="4.Shell流程控制"></a>4.Shell流程控制</h2><h3 id="4-1-if判断"><a href="#4-1-if判断" class="headerlink" title="4.1 if判断"></a>4.1 if判断</h3><p>if语句语法格式：</p>
<p>if condition<br>then<br>command1<br>[elif condition<br>then<br>command2… ]<br>[else<br>command3 ]<br>fi</p>
<p>示例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">"please input your name:"</span> NAME</span><br><span class="line"><span class="comment">#printf '%s\n' $NAME</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$NAME</span> = root ]</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">                <span class="built_in">echo</span> <span class="string">"hello <span class="variable">$&#123;NAME&#125;</span>,  welcome !"</span></span><br><span class="line">        <span class="keyword">elif</span> [ <span class="variable">$NAME</span> = itcast ]</span><br><span class="line">                <span class="keyword">then</span></span><br><span class="line">                        <span class="built_in">echo</span> <span class="string">"hello <span class="variable">$&#123;NAME&#125;</span>,  welcome !"</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">echo</span> <span class="string">"SB, get out here !"</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<p>condition判断语句<br>格式：<a href="注意condition前后要有空格"> condition </a></p>
<p>#非空返回true，可使用$?验证（0为true, &gt;1为false）如：<br>[ itcast ]</p>
<p>#空返回false<br>[ ]</p>
<h3 id="4-2-for循环"><a href="#4-2-for循环" class="headerlink" title="4.2 for循环"></a>4.2 for循环</h3><p>第一种写法（常用）</p>
<p>for循环一般格式为：<br>for var in item1 item2 … itemN<br>do<br>command1<br>done</p>
<p>写成一行：<br>for var in item1 item2 … itemN; do command1; done;</p>
<p>示例：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="keyword">for</span> N <span class="keyword">in</span> 1 2 3</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$N</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">#或写成一行</span></span><br><span class="line"><span class="keyword">for</span> N <span class="keyword">in</span> 1 2 3; <span class="keyword">do</span> <span class="built_in">echo</span> <span class="variable">$N</span>; <span class="keyword">done</span></span><br><span class="line"><span class="comment">#或</span></span><br><span class="line"><span class="keyword">for</span> N <span class="keyword">in</span> &#123;1..3&#125;; <span class="keyword">do</span> <span class="built_in">echo</span> <span class="variable">$N</span>; <span class="keyword">done</span></span><br></pre></td></tr></table></figure></p>
<p>第二种写法</p>
<p>实例：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> ((i = 0; i &lt;= 5; i++))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"welcome <span class="variable">$i</span> times"</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">#或写成一行</span></span><br><span class="line"><span class="keyword">for</span> ((i = 0; i &lt;= 5; i++)); <span class="keyword">do</span> <span class="built_in">echo</span> <span class="string">"welcome <span class="variable">$i</span> times"</span>; <span class="keyword">done</span></span><br></pre></td></tr></table></figure></p>
<h3 id="4-3-while循环"><a href="#4-3-while循环" class="headerlink" title="4.3 while循环"></a>4.3 while循环</h3><p>while使用格式：<br>while condition<br>do<br>command<br>done</p>
<p>示例：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line">int=1</span><br><span class="line"><span class="keyword">while</span>(( <span class="variable">$int</span>&lt;=5 ))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$int</span></span><br><span class="line">    <span class="built_in">let</span> <span class="string">"int++"</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></p>
<p>注意：Bash let命令，用于执行一个或多个表达式，变量计算中不需要加上$来表示变量。</p>
<h3 id="4-4-case语句匹配"><a href="#4-4-case语句匹配" class="headerlink" title="4.4 case语句匹配"></a>4.4 case语句匹配</h3><p>格式：<br>case 值 in<br>模式1)<br>commandN<br>;;<br>模式2）<br>commandN<br>;;<br>esac</p>
<p>case工作方式，取值后面必须为单词in，每一模式必须以右括号结束。取值可以为变量或常数。匹配发现取值符合某一模式后，其间所有命令开始执行直至;;。示例：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">'输入 1 到 4 之间的数字:'</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'你输入的数字为:'</span></span><br><span class="line"><span class="built_in">read</span> aNum</span><br><span class="line"><span class="keyword">case</span> <span class="variable">$aNum</span> <span class="keyword">in</span></span><br><span class="line">    1)  <span class="built_in">echo</span> <span class="string">'你选择了 1'</span></span><br><span class="line">    ;;</span><br><span class="line">    2)  <span class="built_in">echo</span> <span class="string">'你选择了 2'</span></span><br><span class="line">    ;;</span><br><span class="line">    3)  <span class="built_in">echo</span> <span class="string">'你选择了 3'</span></span><br><span class="line">    ;;</span><br><span class="line">    4)  <span class="built_in">echo</span> <span class="string">'你选择了 4'</span></span><br><span class="line">    ;;</span><br><span class="line">    *)  <span class="built_in">echo</span> <span class="string">'你没有输入 1 到 4 之间的数字'</span></span><br><span class="line">    ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure></p>
<p>注意：esac为作为case的结束标记。每个case分支用右圆括号，用两个分号(;;)表示break。跳出循环break命令和continue命令。break命令允许跳出所有循环（终止执行后面的所有循环）。continue命令与break命令类似，只有一点差别，它不会跳出所有循环，仅仅跳出当前循环。</p>
<h2 id="5-Shell自定义函数"><a href="#5-Shell自定义函数" class="headerlink" title="5. Shell自定义函数"></a>5. Shell自定义函数</h2><p>linux shell可以用户定义函数，然后在shell脚本中可以随便调用<br>shell中函数的定义格式如下：<br>[ function ] funname [()]<br>{<br>action;<br>[return int;]<br>}</p>
<p>说明：</p>
<ul>
<li>1、可以带function fun()定义，也可以直接fun()定义，不带任何参数。</li>
<li>2、函数返回值，只能通过$?系统变量获得，可以显示加：return返回，如果不加，将以最后一条命令运行结果，作为返回值。return后跟数值n(0-255)</li>
<li>3、必须在调用函数方法之前，先声明函数，shell脚本是逐行运行，不像其它语言一样先预编译</li>
</ul>
<p>示例：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"><span class="keyword">function</span> fSum()</span><br><span class="line">&#123;</span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$1</span>,<span class="variable">$2</span>;</span><br><span class="line">  <span class="built_in">return</span> $((<span class="variable">$1</span>+<span class="variable">$2</span>));</span><br><span class="line">&#125;</span><br><span class="line">fSum 2 3;</span><br><span class="line">total=$?</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"total=\$? 第一次调用\$?后的返回结果: "</span><span class="variable">$total</span></span><br><span class="line">fSum 5 7</span><br><span class="line">total=$?</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"total=\$?,\$? 两次调用后的返回结果,\$total=<span class="variable">$total</span> \$?=$?"</span>;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">echo</span> <span class="string">"-------------------------------------------"</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="title">funWithReturn</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"这个函数会对输入的两个数字进行相加运算..."</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"输入第一个数字: "</span></span><br><span class="line">    <span class="built_in">read</span> aNum</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"输入第二个数字: "</span></span><br><span class="line">    <span class="built_in">read</span> anotherNum</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"两个数字分别为 <span class="variable">$aNum</span> 和 <span class="variable">$anotherNum</span> !"</span></span><br><span class="line">    <span class="built_in">return</span> $((<span class="variable">$aNum</span>+<span class="variable">$anotherNum</span>))</span><br><span class="line">&#125;</span><br><span class="line">funWithReturn</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"输入的两个数字之和为 $? !"</span></span><br></pre></td></tr></table></figure></p>
<h2 id="6-Shell输入-输出重定向"><a href="#6-Shell输入-输出重定向" class="headerlink" title="6. Shell输入/输出重定向"></a>6. Shell输入/输出重定向</h2><p>一个命令通常从一个叫标准输入的地方读取输入，默认情况下，这恰好是你的终端。同样，一个命令通常将其输出写入到标准输出，默认情况下，这也是你的终端。</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>command &gt; file</td>
<td>将输出重定向到 file。</td>
</tr>
<tr>
<td>command &lt; file</td>
<td>将输入重定向到 file。</td>
</tr>
<tr>
<td>command &gt;&gt; file</td>
<td>将输出以追加的方式重定向到 file。</td>
</tr>
<tr>
<td>n &gt; file</td>
<td>将文件描述符为 n 的文件重定向到 file。</td>
</tr>
<tr>
<td>n &gt;&gt; file</td>
<td>将文件描述符为 n 的文件以追加的方式重定向到 file。</td>
</tr>
<tr>
<td>n &gt;&amp; m</td>
<td>将输出文件 m 和 n 合并。</td>
</tr>
<tr>
<td>n &lt;&amp; m</td>
<td>将输入文件 m 和 n 合并。</td>
</tr>
<tr>
<td>&lt;&lt; tag</td>
<td>将开始标记 tag 和结束标记 tag 之间的内容作为输入</td>
</tr>
</tbody>
</table>
<p>注意：文件描述符0通常是标准输入(STDIN)，1是标准输出(STDOUT)，2是标准错误输出(STDERR)。</p>
<h3 id="输出重定向"><a href="#输出重定向" class="headerlink" title="输出重定向"></a>输出重定向</h3><p>重定向一般通过在命令间插入特定的符合来实现。可以选择覆盖或者追加的模式添加内容<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command1 &gt; file1 或  command1 <span class="meta">&gt;&gt; </span>file1</span><br></pre></td></tr></table></figure></p>
<p>示例：<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ who &gt; users</span><br><span class="line">echo <span class="string">"hello world"</span> &gt; users</span><br><span class="line">echo <span class="string">"hello shell"</span> &gt;&gt; users</span><br></pre></td></tr></table></figure></p>
<h3 id="输入重定向"><a href="#输入重定向" class="headerlink" title="输入重定向"></a>输入重定向</h3><p>输入重定向可以从文件获取输入，语法为：<br><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">comma<span class="symbol">nd1</span> &lt; file<span class="number">1</span></span><br></pre></td></tr></table></figure></p>
<p>示例，接着以上示例，统计users文件的行数，如：<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">wc</span> -l &lt; users</span><br></pre></td></tr></table></figure></p>
<h3 id="输入与输出重定向结合"><a href="#输入与输出重定向结合" class="headerlink" title="输入与输出重定向结合"></a>输入与输出重定向结合</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command1 &lt; <span class="keyword">infile</span> &gt; <span class="keyword">outfile</span></span><br></pre></td></tr></table></figure>
<p>说明：同时替换输入和输出，执行command1，从文件infile读取内容，然后将输出写入到outfile中。</p>
<h3 id="其他重定向"><a href="#其他重定向" class="headerlink" title="其他重定向"></a>其他重定向</h3><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">command</span> &gt; <span class="keyword">file</span> <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line"><span class="comment">#或者</span></span><br><span class="line">$ <span class="keyword">command</span> &gt;&gt; <span class="keyword">file</span> <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>说明：</p>
<p>1、文件描述符0通常是标准输入(STDIN)，1是标准输出(STDOUT)，2是标准错误输出(STDERR)</p>
<p>2、将 stdout 和 stderr 合并后重定向到 file　</p>
<h3 id="Here-Document"><a href="#Here-Document" class="headerlink" title="Here Document"></a>Here Document</h3><p>Here Document 是 Shell 中的一种特殊的重定向方式，用来将输入重定向到一个交互式 Shell 脚本或程序。<br>它的基本的形式如下：<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">command</span> &lt;&lt; <span class="title">delimiter</span></span><br><span class="line">    document</span><br><span class="line">delimiter</span><br></pre></td></tr></table></figure></p>
<p>它的作用是将两个 delimiter 之间的内容(document) 作为输入传递给 command。</p>
<p>注意：<br>结尾的delimiter 一定要顶格写，前面不能有任何字符，后面也不能有任何字符，包括空格和 tab 缩进。<br>开始的delimiter前后的空格会被忽略掉。</p>
<p>示例，在命令行中通过 wc -l 命令计算 Here Document 的行数：<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ wc -l &lt;&lt; <span class="literal">EOF</span></span><br><span class="line">    欢迎来到</span><br><span class="line">    菜鸟教程</span><br><span class="line">    www.runoob.com</span><br><span class="line"><span class="literal">EOF</span></span><br><span class="line"><span class="number">3</span>          # 输出结果为 <span class="number">3</span> 行</span><br><span class="line">$</span><br></pre></td></tr></table></figure></p>
<h2 id="7-设置后台进程"><a href="#7-设置后台进程" class="headerlink" title="7.设置后台进程"></a>7.设置后台进程</h2><p>&amp; 放在启动参数后面表示设置此进程为后台进程。默认情况下，进程是前台进程，这时就把Shell给占据了，我们无法进行其他操作，对于那些没有交互的进程，很多时候，我们系统将其在后台启动，可以在启动参数的时候加一个‘&amp;’实现这个目的。</p>
<h2 id="8-脚本调试"><a href="#8-脚本调试" class="headerlink" title="8. 脚本调试"></a>8. 脚本调试</h2><p>两种方式：</p>
<ol>
<li>输入命令：sh -vx helloworld.sh</li>
<li>或者在脚本中增加set -x</li>
</ol>

    </div>
    
    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="/" target="_blank">Ljjyy.com</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/archives/2018/11/100090.html" class="pre-post btn btn-default" title='HAproxy+Keepalived高性能业务架构解决方案'>
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs">HAproxy+Keepalived高性能业务架构解决方案</span>
        </a>
    
    
        <a href="/archives/2018/11/100086.html" class="next-post btn btn-default" title='解决POI读写几万行大数据量excel而导致内存溢出的情况'>
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs">解决POI读写几万行大数据量excel而导致内存溢出的情况</span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>


    <div id="comments">
        
	
    <div id="vcomments" class="valine"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="/assets/valine.min.js"></script>

    <script>
        new Valine({
            av: AV,
            el: '#vcomments',
            appId: '5MzTXYXkt03k101j0PmSDN34-gzGzoHsz',
            appKey: 'iwjYgwno6qj3wtDVVSbe8nYQ',
            placeholder: '说点什么吧',
            notify: false,
            verify: true,
            avatar: 'mm',
            meta: 'nick,mail'.split(','),
            pageSize: '10',
            path: window.location.pathname,
            lang: 'zh-CN'.toLowerCase()
        })
    </script>


    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">文章目录</h3>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Shell是什么"><span class="toc-text">1. Shell是什么</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-第一个shell脚本"><span class="toc-text">1.1 第一个shell脚本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-运行Shell脚本的两种方式"><span class="toc-text">1.2 运行Shell脚本的两种方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Shell中的变量"><span class="toc-text">2. Shell中的变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-Shell变量的类型"><span class="toc-text">2.1 Shell变量的类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-变量的定义与撤销"><span class="toc-text">2.2 变量的定义与撤销</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#定义普通变量"><span class="toc-text">定义普通变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#定义静态变量"><span class="toc-text">定义静态变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#撤销变量A"><span class="toc-text">撤销变量A</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#全局变量设置"><span class="toc-text">全局变量设置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#将命令的返回值赋给变量"><span class="toc-text">将命令的返回值赋给变量</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-Shell中的特殊变量"><span class="toc-text">2.3 Shell中的特殊变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Shell运算符"><span class="toc-text">3. Shell运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-与数值有关的运算符：算数运算符和关系运算符"><span class="toc-text">3.1 与数值有关的运算符：算数运算符和关系运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#算数运算符"><span class="toc-text">算数运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#关系运算符"><span class="toc-text">关系运算符</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-布尔运算符与逻辑运算符"><span class="toc-text">3.2 布尔运算符与逻辑运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#布尔运算符"><span class="toc-text">布尔运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#逻辑运算符"><span class="toc-text">逻辑运算符</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-字符串运算符"><span class="toc-text">3.3 字符串运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-文件测试运算符"><span class="toc-text">3.4 文件测试运算符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Shell流程控制"><span class="toc-text">4.Shell流程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-if判断"><span class="toc-text">4.1 if判断</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-for循环"><span class="toc-text">4.2 for循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-while循环"><span class="toc-text">4.3 while循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-case语句匹配"><span class="toc-text">4.4 case语句匹配</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-Shell自定义函数"><span class="toc-text">5. Shell自定义函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-Shell输入-输出重定向"><span class="toc-text">6. Shell输入/输出重定向</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#输出重定向"><span class="toc-text">输出重定向</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#输入重定向"><span class="toc-text">输入重定向</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#输入与输出重定向结合"><span class="toc-text">输入与输出重定向结合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他重定向"><span class="toc-text">其他重定向</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Here-Document"><span class="toc-text">Here Document</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-设置后台进程"><span class="toc-text">7.设置后台进程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-脚本调试"><span class="toc-text">8. 脚本调试</span></a></li></ol>
        
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
</div>

            </div>
            <div class="col-sm-12">
                <span>Copyright &copy; 2019-2023&emsp;<a href="/" class="copyright-links" target="_blank" rel="nofollow">Ljjyy.com</a>
                </span> |
                <span>
                    <a href="/about/" class="copyright-links" target="_blank" rel="nofollow">关于我们</a>
                </span> |                
                <span>
                    <a href="/sitemap.xml" class="copyright-links" target="_blank" rel="nofollow">网站地图</a>
                </span> |
                <span>
                    <a href="/archives/" class="copyright-links" target="_blank" rel="nofollow">时间轴</a>
                </span>              
            </div>
        </div>
    </div>
</div>







<script src="/js/app.js?rev=@@hash"></script>

</body>
</html>
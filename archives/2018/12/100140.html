<!DOCTYPE HTML>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <meta name="theme-version" content="1.2.3">
    <meta name="root" content="/">
    <link rel="dns-prefetch" href="https://www.ljjyy.com">
    <!--SEO-->

    <meta name="keywords" content="逆向,汇编,汉化">


    <meta name="description" content="  我这里所说的汉化，是指汉化 Windows 下的 PE 文件，把其他语言界面的程序翻译为中文界面。要汉化一个软件，一般的流程是这样：
一、检测软件是否加了壳。汉化一个软件前我们首先要做的就是...">



<meta name="robots" content="all">
<meta name="google" content="all">
<meta name="googlebot" content="all">
<meta name="verify" content="all">

    <!--Title-->


<title>汉化软件的方法 | 来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟</title>


    <link rel="alternate" href="/atom.xml" title="来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟" type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    



<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    
	<div class="hide">
        <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
        <script>LA.init({id: "JgbNOaw1xxsmUUsQ",ck: "JgbNOaw1xxsmUUsQ"})</script>
	</div>






    
    <meta name="baidu-site-verification" content="dTHILoORpx">


    <script>
        (function(){
            var bp = document.createElement('script');
            var curProtocol = window.location.protocol.split(':')[0];
            if (curProtocol === 'https') {
                bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
            }
            else {
                bp.src = 'http://push.zhanzhang.baidu.com/push.js';
            }
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(bp, s);
        })();
    </script>

</head>

</html>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header"  >
    <div class="main-header-box">
        <!--a class="header-avatar" href="/" title='Ljjyy.com'>
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a-->
        <div class="branding">
            
                <h2> 多读书多实践，勤思考善领悟 </h2>
            
    	  </div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">

        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="web-logo"  href="/" title='Ljjyy.com'></a>
                    <!--a class="navbar-brand" href="https://www.ljjyy.com">来唧唧歪歪(Ljjyy.com) - 多读书多实践，勤思考善领悟</a-->
                </div>
                <div class="collapse navbar-collapse" id="main-menu" style="">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>首页</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/cloud/"><i class="fa "></i>云计算</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/front/"><i class="fa "></i>前端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/back/"><i class="fa "></i>后端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/devops/"><i class="fa "></i>运维</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/crack/"><i class="fa "></i>破解</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/penetration/"><i class="fa "></i>渗透</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/tool/"><i class="fa "></i>工具</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/other/"><i class="fa "></i>其他</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="汉化软件的方法">
            
	            汉化软件的方法
            
        </h1>
        <div class="post-meta">
    
        <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
            <a class="category-link" href="/categories/crack/">破解</a>
        </span>
    

    
        <span class="fa-wrap">
            <i class="fa fa-tags"></i>
            <span class="tags-meta">
                
                    <a class="tag-link" href="/tags/assemble/">汇编</a> <a class="tag-link" href="/tags/adaptation/">汉化</a> <a class="tag-link" href="/tags/reverse/">逆向</a>
                
            </span>
        </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2018/12/29</span>
        </span>
        
    
</div>
            
            
            <p class="fa fa-exclamation-triangle warning">
                本文于<strong>1725</strong>天之前发表，文中内容可能已经过时。
            </p>
        
    </div>
    
    <div class="post-body post-content">
        <p>  我这里所说的汉化，是指汉化 Windows 下的 PE 文件，把其他语言界面的程序翻译为中文界面。要汉化一个软件，一般的流程是这样：</p>
<h2 id="一、检测软件是否加了壳。"><a href="#一、检测软件是否加了壳。" class="headerlink" title="一、检测软件是否加了壳。"></a>一、检测软件是否加了壳。</h2><p>汉化一个软件前我们首先要做的就是要看看软件是否加了壳。因为程序加了壳后，一般情况下资源也被压缩了，使用普通的汉化工具是无法汉化的。这时一般有两种办法：一种是完全脱壳后再汉化，这种方法可以汉化的比较彻底；另一种是壳太猛，不好脱，只好退而求其次，用 freeRes 这样的工具来释放一下资源，再来汉化。这种方法只能汉化标准资源，一般就是主界面看到的部分，非标准资源因为未脱壳，还是无法汉化，所以这种方式汉化的不彻底。平常我们看到的汉化软件一般都是完整的汉化，就是有壳的脱了壳，标准资源和非标准资源都汉化了。这里脱壳后的文件优化也要注意，平常我们分析软件的时候，只要脱了壳，程序能正常运行，没有功能丢失就可以了，但要能汉化的话要求要严格一些。因为要使用一般的汉化工具来汉化程序的话，最好脱壳后程序的资源段（一般区段名称是 .rsrc）要放在最后，这可以使用 FixRes 或  freeRes 这样的工具来重建资源。另外，平常我们把脱壳后的程序优化时可以用 LordPE 删除垃圾区段，再重建一下。但若要用汉化工具来汉化这种用 LordPE 优化重建后的程序，很可能生成的汉化程序运行时会出错。如果你要会手工优化的话那是最好，可以删除垃圾区段，根据文件对齐粒度和区段对齐粒度等来优化文件，这样手工优化后的文件一般汉化时不会出错。关于优化脱壳后文件这方面也有相关文章，我就不多说了。改天若有空我会专门写一篇这样的文章，不过不要过于期待，我向来喜欢开空头支票的!<br>如果不会手工优化，可以在脱完壳重建资源后就用汉化工具来汉化，汉化完成后再用 LordPE 这样的工具来优化一下汉化后的程序就可以了。</p>
<h2 id="二、检测程序资源类型。"><a href="#二、检测程序资源类型。" class="headerlink" title="二、检测程序资源类型。"></a>二、检测程序资源类型。</h2><p>检测程序资源类型我们同样可以用 PEiD、FI 这样的工具，主要是看程序是用什么开发工具写的。各个开发工具编译出来的程序标准资源类型是不同的。一般可以分以下几种：</p>
<ol>
<li>VC、MASM 这样的开发工具做出来的程序要汉化的标准资源主要在 Menu、Dialog、String 等中。</li>
<li>Delphi、C++Builder 这样的 Borland 公司开发工具做出来的东西要汉化的标准资源主要在 Rcdata 和 String 中。</li>
<li>VB 开发的程序，这种程序我们一般所说的标准资源是指 Form 中的资源，这种 VB 编的程序目前还没有可以可视化编辑界面资源的工具，相比较而言汉化起来不是很痛快;)</li>
<li>上面说的主要是标准资源，再说一下一般定义的非标准资源。非标准资源一般简称为非标，指在程序中出现，但又不在标准资源中的 UNICODE 字串或 ASCII 字串，这类字串汉化需要其他的工具。<br>判断完程序是什么开发工具做的，我们就对资源类型大致有数了。下面就可以开始着手汉化了。</li>
</ol>
<h2 id="三、使用合适的汉化工具"><a href="#三、使用合适的汉化工具" class="headerlink" title="三、使用合适的汉化工具"></a>三、使用合适的汉化工具</h2><p>这里首先要说明一下，像什么 eXeScope、ResScope、ResHacker、PE Explorer 这样的工具严格来讲都不是汉化工具，只能说是资源修改工具。一般所说的汉化工具是指如 Visual Localize、PASSOLO、Multilizer、Alchemy CATALYST 这样的工具。这些工具都是可以可视化调整调整界面的，不过这些工具都不能用来汉化 VB 编的程序，关于汉化 VB 编的程序要使用其他的工具。现在针对上面所说的资源类型来谈谈工具的选用：</p>
<ol>
<li>VC、MASM 类程序：这种程序可以用上面提到的任何一款汉化工具汉化，就我个人来讲，我比较喜欢用 PASSOLO，Visual Localize 也是个很不错的选择。</li>
<li>Delphi、C++Builder 类程序：这种程序可以使用 PASSOLO、Multilizer 来汉化，一般用 PASSOLO 时应该选择 PASSOLO 的 UNICODE 版本。对这类程序，还可以采用外挂语言包的方式来汉化标准资源。这种外挂语言文件的方法对一些加了猛壳，且又不想脱壳或不好脱壳的程序非常有用。因为 Borland 公司的编译器编译出来的程序默认对语言文件支持，编译好的程序会自动检测是否有语言文件。一般的未加壳的此类程序，要采用语言文件汉化标准资源的话，只需生成对应的语言文件放到原程序目录就可以了。对于加了猛壳的此类程序，如果只是汉化标准资源的话，不需要脱壳，只要用 freeRes 这样的工具释放一下压缩资源，再汉化释放资源后的程序，生成语言文件后放到原程序目录下就可以让主界面显示对应语言了。用 PASSOLO、Multilizer 来汉化这样的程序，还有一些区别的地方：<br>（1）、PASSOLO，汉化这类程序时选目标为简体中文时默认生成的目标是后缀名为 CHS 的文件。不过生成的文件其实只是改了后缀名的汉化后的 EXE 或 DLL 等可执行文件。这可以预先设置一下目标文件的后缀名，使生成的汉化后的文件后缀名为 EXE 或 DLL 等这样的可执行文件。如果只是想生成语言文件，最好在生成目标文件的高级选项中设置一下，把生成纯资源 DLL 的选项选上，再把汉化生成的CHS文件的和汉化资源无关的项如图标、位图等删掉，减小体积。<br>（2）、Multilizer，这个工具汉化此类的程序时，默认生成的就是语言文件，要想生成汉化后的可执行文件，要在工程选项中把输出文件中的“已本地化的文件”选项选上。而生成的简体中文语言文件一般也使以 CHS 为后缀名。<br>采用语言文件方式汉化的话，只要把汉化完标准资源的语言文件和原程序放在同一目录就可以让主界面显示中文了，不受主程序是否加壳的影响。这里要注意的是语言文件名要与原程序名称一致，如你要汉化 test.exe，语言文件名就要是 test.CHS，同样，你要是把 test.exe 改名为 test1.exe，语言文件名也相应要改为 test1.CHS。</li>
<li>VB 类程序：这种程序目前可以用来汉化的工具有 VB 窗体汉化器、GetVBRes、新出的 VBLocalize 等。缺点就是没有可以可视化调整汉化后界面的工具。</li>
<li>非标准资源：这类非标资源的汉化主要采用的工具有点睛字符串替换器、CXA、枫叶字符替换器等。主要功能是把原程序需要汉化的非标字串提取出来，汉化完后再写入。汉化非标资源要求程序必须没有加壳，且这个地方汉化不当的话容易让程序出现问题，比如不能汉化的字串汉化了等等这样的情况，会让程序运行出错，也就是常说的汉化过度。所以汉化非标资源时要特别注意，要多测试，防止出现因汉化引起的 bug。</li>
</ol>
<h2 id="四、汉化标准资源中的字串"><a href="#四、汉化标准资源中的字串" class="headerlink" title="四、汉化标准资源中的字串"></a>四、汉化标准资源中的字串</h2><p>一般的汉化工具都支持字典及导入导出功能，字典主要靠自己积累，你汉化的软件越多，生成的字典越多，汉化起其他程序来就越快。因为很多内容都可以直接用字典来汉化完成。如果是汉化一个新的程序，且又没有什么可用的字典怎么办？我一般的做法是采用汉化工具的导出功能，把没翻译的源英文字串直接导出（这里注意如果是用 Multilizer 导出的话，需要把目标翻译语言栏全选，再粘贴原始语言，这样导出的采用 TAB 分隔的 ASCII 文本才好转换为对照文本），再用字典转换工具如 Fantasy Editor 或开心字典转换工具把导出的文件转换为对照文本，这样就可以采用 SeaTools 这样的工具来进行机器翻译，机器翻译完后再进行手工修改，全部翻译好后再用上面说的字典转换工具转换为对应汉化工具的字典文件，现在就可以用这样的字典文件来翻译原程序了。</p>
<h2 id="五、调整界面，设置对话框字体，汉化其他内容"><a href="#五、调整界面，设置对话框字体，汉化其他内容" class="headerlink" title="五、调整界面，设置对话框字体，汉化其他内容"></a>五、调整界面，设置对话框字体，汉化其他内容</h2><p>设置字体一些汉化工具在创建工程时就可以完成，如用 Visual Localize 的话需要在工程中设置一下对话框字体。字串汉化完后要做的工作就是调整界面，因为汉化后有些对话框的字串会显示不全，按钮过大或过小，对话框大小不合适等等都要调整。如果还有什么其他的资源如图片等要汉化的，可以导出后修改了再导入。</p>
<h2 id="六、汉化非标资源中的字串"><a href="#六、汉化非标资源中的字串" class="headerlink" title="六、汉化非标资源中的字串"></a>六、汉化非标资源中的字串</h2><p>标准资源汉化完成后就要开始汉化非标准资源字串了。汉化方法与汉化标准资源类似，用我上面所说的非标资源提取工具先把非标字串提取出来，删除不需要翻译的，再做一下字典转换（对于点睛字符串替换器、CXA 这样的工具，如果有当前汉化的程序以前的非标字串翻译，可以直接作为字典导入），先机器翻译，再手工修改后导入。汉化非标字串如果有经验的话比较好，一般可以看出那些东西是需要翻译的哪些是不需要翻译的，哪些翻译后字串长度比原字串短时补 0 还是空格。如果没什么经验，就要多测试了。</p>
<h2 id="七、汉化后程序测试及字体调整"><a href="#七、汉化后程序测试及字体调整" class="headerlink" title="七、汉化后程序测试及字体调整"></a>七、汉化后程序测试及字体调整</h2><p>这个地方是比较繁琐的，因为汉化后有可能造成程序出错，这里就要重点检测非标部分。另外汉化后有些地方的字体比较难看，这些地方是无法通过在标准资源中设置字体来修改的，这时就要通过调试来设置字体了。设置字体在 OD 中主要断这几个函数：CreateFontA（W）、CreateFontIndirectA（W）、GetStockObject。找到地方再作修改。</p>
<h2 id="结束语"><a href="#结束语" class="headerlink" title="结束语"></a>结束语</h2><p>说到这大致差不多了，其他的还有一些非标字串汉化后字串长度超过原字串长度，需挪移修改、汉化后有程序有自校验需去除、字串加密后的汉化等等，我就不再这里说了，大家可以自行参考汉化新世纪的相关文章。此外还有一些图形界面游戏的汉化是不能采取我上面说的这样的方法的，如你要汉化 StarCraft，用我这种方法是不行的。汉化这样的游戏可能要你分析程序，采用外挂方式来汉化，这里不作讨论。  </p>

    </div>
    
    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="/" target="_blank">Ljjyy.com</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/archives/2019/01/100141.html" class="pre-post btn btn-default" title='软件脱壳后的优化'>
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs">软件脱壳后的优化</span>
        </a>
    
    
        <a href="/archives/2018/12/100145.html" class="next-post btn btn-default" title='逆向分析之 五.静态分析逆向神器IDA'>
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs">逆向分析之 五.静态分析逆向神器IDA</span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>


    <div id="comments">
        
	
    <div id="vcomments" class="valine"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="/assets/valine.min.js"></script>

    <script>
        new Valine({
            av: AV,
            el: '#vcomments',
            appId: '5MzTXYXkt03k101j0PmSDN34-gzGzoHsz',
            appKey: 'iwjYgwno6qj3wtDVVSbe8nYQ',
            placeholder: '说点什么吧',
            notify: false,
            verify: true,
            avatar: 'mm',
            meta: 'nick,mail'.split(','),
            pageSize: '10',
            path: window.location.pathname,
            lang: 'zh-CN'.toLowerCase()
        })
    </script>


    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">文章目录</h3>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#一、检测软件是否加了壳。"><span class="toc-text">一、检测软件是否加了壳。</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二、检测程序资源类型。"><span class="toc-text">二、检测程序资源类型。</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三、使用合适的汉化工具"><span class="toc-text">三、使用合适的汉化工具</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#四、汉化标准资源中的字串"><span class="toc-text">四、汉化标准资源中的字串</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#五、调整界面，设置对话框字体，汉化其他内容"><span class="toc-text">五、调整界面，设置对话框字体，汉化其他内容</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#六、汉化非标资源中的字串"><span class="toc-text">六、汉化非标资源中的字串</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#七、汉化后程序测试及字体调整"><span class="toc-text">七、汉化后程序测试及字体调整</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#结束语"><span class="toc-text">结束语</span></a></li></ol>
        
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
</div>

            </div>
            <div class="col-sm-12">
                <span>Copyright &copy; 2019-2023&emsp;<a href="/" class="copyright-links" target="_blank" rel="nofollow">Ljjyy.com</a>
                </span> |
                <span>
                    <a href="/about/" class="copyright-links" target="_blank" rel="nofollow">关于我们</a>
                </span> |                
                <span>
                    <a href="/sitemap.xml" class="copyright-links" target="_blank" rel="nofollow">网站地图</a>
                </span> |
                <span>
                    <a href="/archives/" class="copyright-links" target="_blank" rel="nofollow">时间轴</a>
                </span>              
            </div>
        </div>
    </div>
</div>







<script src="/js/app.js?rev=@@hash"></script>

</body>
</html>